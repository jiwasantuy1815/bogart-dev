(()=>{"use strict";const e=e=>{e.querySelectorAll(".wp-block-gutenkit-pro-reading-progress-bar").forEach((t=>{const{progressBarSelector:r,progressBarType:o,progressBarDirection:n}=JSON.parse(t.querySelector(".gkit-progress-bar-container").getAttribute("data-settings")),s=t.querySelector(".gkit-reading-progress-bar-progress"),i=t.querySelector(".gkit-reading-progress-bar-percentage"),c=t.querySelector(".gkit-circular-circle-progress"),l=t.querySelector(".gkit-circular-progress-percentage"),a=t.querySelector(".gkit-reading-progress-entire-page"),g=t.querySelector(".gkit-reading-progress-selector"),u=t.querySelector(".gkit-reading-progress-post-content"),d=e=>{if(!isNaN(e)&&("horizontal"===o&&s&&(s.style.width=`${e}%`,i&&(i.textContent=`${Math.round(e)}%`)),"circular"===o)){const t=parseFloat(c.getAttribute("r")),r=2*Math.PI*t,o=r*(1-Math.round(e)/100);c.style.display="block",c.style.strokeDasharray=r,c.style.strokeDashoffset="ltr"===n?""+-o:o,l&&(l.textContent=`${Math.round(e)}%`)}},p=t=>{new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const r=Math.min(t.boundingClientRect.height,(e.documentElement.clientHeight||window.innerHeight)-t.boundingClientRect.top);d(r/t.boundingClientRect.height*100)}else t.boundingClientRect.bottom>0&&d(0)}))})).observe(t)};if(a){const t=(e.documentElement.scrollTop||e.body.scrollTop)/((e.documentElement.scrollHeight||e.body.scrollHeight)-e.documentElement.clientHeight)*100;d(t)}else if(g&&r){const t=(t=>{let r=t.replace(/[^\w]/g,"");if(r)try{if(t.startsWith("."))return e.querySelector("."+r);if(t.startsWith("#"))return e.querySelector("#"+r)}catch(e){console.warn("Not valid selector")}return null})(r);t&&p(t)}else if(u){const t=e.querySelector(".entry-content");t&&p(t)}}))};document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".wp-block-gutenkit-pro-reading-progress-bar").forEach((()=>{e(document),window.addEventListener("scroll",(()=>{e(document)}))}))}))})();