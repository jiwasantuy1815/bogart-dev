(()=>{"use strict";var e,t,o,a,r,n={2565:(e,t,o)=>{const a=window.wp.blocks;var r=o(1609),n=o(7723);const i=window.wp.blockEditor;var s=o(6087);const l=window.wp.compose,p=(e,t,a)=>{if(void 0===t)return;const{mapType:r,mapAddressType:n,mapLatLng:i,mapAddress:s,mapBasicMarkerTitle:l,mapBasicMarkerIconEnable:p,mapBasicMarkerIcon:c,mapBasicMarkerIconWidth:m,mapBasicMarkerIconHeight:d,mapZoom:g,mapMarkerContent:u,mapStaticWidth:k,mapStaticHeight:y,mapStrokeColor:h,mapStrokeOpacity:f,mapStrokeWeight:v,mapStrokeFillColor:w,mapStrokeFillOpacity:C,mapOverlayContent:b,mapRoutesOriginLatLng:S,mapRoutesDestLatLng:O,mapRoutesTravelMode:T,mapThemeType:M,googleTheme:L,snazzyTheme:P,mapMarkers:I,mapPolylines:B,streeviewControl:_,typeControl:E,zoomControl:z,fullscreenControl:W,scrollZoom:A,markerItems:R,polyItems:j,strokeColor:x,strokeOpacity:$,strokeWeight:N,fillColor:F,fillOpacity:D}=JSON.parse(t);let H="";const V=document.getElementById("gutenkit-google-map-api-js").src.match(/key=([^&]+)/);V&&(H=V[1]);const Z=e=>{const t=e.split(",").map(Number),[o,a]=t;return{lat:o,lng:a}},G=Z(i);let J={center:G,zoom:g,streetViewControl:_,mapTypeControl:E,zoomControl:z,fullscreenControl:W,scrollwheel:A,mapId:H,mapTypeControlOptions:{mapTypeIds:["roadmap","satellite","hybrid","terrain","styled_map"]}};"google"===M&&"standard"===L&&(J.mapTypeControlOptions={});const U=j.map((e=>Z(e.latLng)));let q;!async function(){try{const{maps:t}=a,{Map:i}=await t.importLibrary("maps"),{Marker:g}=await t.importLibrary("marker"),{Geocoder:u}=await t.importLibrary("geocoding");switch(q=new i(e,J),r){case"basic":const o={url:c?.url||"",scaledSize:new t.Size(m,d),origin:new t.Point(0,0),anchor:new t.Point(0,0)};"address"===n?(new u).geocode({address:s},(function(e,t){if("OK"===t){const t=e[0].geometry.location,a={lat:t.lat(),lng:t.lng()};new g({map:q,position:a,title:l,icon:p?o:""}),q.setCenter(a)}else console.error(`Geocode was not successful for the following reason: ${t}`)})):new g({map:q,position:G,title:l,icon:p?o:""});break;case"marker":R.forEach((e=>{const o=Z(e.latLng),a={url:e.icon?.url||"",scaledSize:new t.Size(e.iconWidth,e.iconHeight),origin:new t.Point(0,0),anchor:new t.Point(0,0)};new g({map:q,position:o,title:e.title,icon:e.enableCustomIcon?a:""})}));break;case"polyline":new t.Polyline({path:U,geodesic:!0,strokeColor:x,strokeOpacity:$,strokeWeight:N}).setMap(q);break;case"polygon":new t.Polygon({paths:U,strokeColor:x,strokeOpacity:$,strokeWeight:N,fillColor:F,fillOpacity:D}).setMap(q);break;case"overlay":class a extends t.OverlayView{div_;constructor(){super(),this.div_=null}onAdd(){this.div_=document.createElement("div"),this.div_.classList.add("gkit-google-map-overlay"),this.div_.innerText=b,this.getPanes().overlayLayer.appendChild(this.div_)}}(new a).setMap(q);break;case"routes":const r=new t.DirectionsService,i=new t.DirectionsRenderer,k=Z(S),y=Z(O);i.setMap(q);const h={origin:k,destination:y,travelMode:T};r.route(h,(function(e,t){"OK"===t?i.setDirections(e):console.error("Directions request failed due to "+t)}));break;case"panorama":if("coordinates"===n){const o=new t.StreetViewPanorama(e,{position:G,pov:{heading:165,pitch:0},zoomControl:z,fullscreenControl:W});q.setStreetView(o)}else(new u).geocode({address:s},(function(o,a){if("OK"===a){const a=o[0].geometry.location,r={lat:a.lat(),lng:a.lng()},n=new t.StreetViewPanorama(e,{position:r,pov:{heading:165,pitch:0},zoomControl:z,fullscreenControl:W});q.setStreetView(n)}else console.error(`Geocode was not successful for the following reason: ${a}`)}))}const k=e=>{const o=new t.StyledMapType(e,{name:"Styled Map"});q.mapTypes.set("styled_map",o),q.setMapTypeId("styled_map")};switch(M){case"google":const{default:e}=await o.e(6528).then(o.t.bind(o,6528,19));k(e[L]);break;case"snazzy":const{default:t}=await o.e(8412).then(o.t.bind(o,8412,19));k(t[P])}}catch(e){console.error(e)}}()},c=window.wp.apiFetch;var m=o.n(c),d=o(6427);const g=(0,s.lazy)((()=>o.e(7296).then(o.bind(o,7296)))),u=JSON.parse('{"UU":"gutenkit-pro/google-map"}'),{googleMap:k}=window.gutenkit.editorIcon;(0,a.registerBlockType)(u.UU,{edit:function({attributes:e,setAttributes:t,clientId:o,advancedControl:a,isSelected:c}){const{mapType:u,mapAddressType:k,mapLatLng:y,mapAddress:h,mapBasicMarkerTitle:f,mapBasicMarkerIconEnable:v,mapBasicMarkerIcon:w,mapBasicMarkerIconWidth:C,mapBasicMarkerIconHeight:b,mapZoom:S,mapMarkerContent:O,mapStaticWidth:T,mapStaticHeight:M,mapStrokeColor:L,mapStrokeOpacity:P,mapStrokeWeight:I,mapStrokeFillColor:B,mapStrokeFillOpacity:_,mapOverlayContent:E,mapRoutesOriginLatLng:z,mapRoutesDestLatLng:W,mapRoutesTravelMode:A,mapPanoramaLat:R,mapPanoramaLng:j,mapThemeType:x,mapMarkers:$,mapPolylines:N,streeviewControl:F,typeControl:D,zoomControl:H,fullscreenControl:V,scrollZoom:Z,markerItems:G,polyItems:J,strokeColor:U,strokeOpacity:q,strokeWeight:K,fillColor:Y,fillOpacity:Q,overlayContent:X,googleTheme:ee,snazzyTheme:te}=e,oe=gutenkitPro.admin_url+"admin.php?page=gutenkit#settings",[ae,re]=(0,s.useState)(null),[ne,ie]=(0,s.useState)(!0),[se,le]=(0,s.useState)(!1),{GkitStyle:pe,GkitSuspense:ce}=window.gutenkit.components,{useDeviceType:me,useBlockStyles:de,useDeviceList:ge}=window.gutenkit.helpers,ue=ge(),ke=me(),ye=(0,s.useRef)(null),he=(0,i.useBlockProps)({ref:(0,l.useMergeRefs)([ye])}),fe={mapType:u,mapAddressType:k,mapLatLng:y,mapAddress:h,mapBasicMarkerTitle:f,mapBasicMarkerIconEnable:v,mapBasicMarkerIcon:w,mapBasicMarkerIconWidth:C,mapBasicMarkerIconHeight:b,mapZoom:S,mapMarkerContent:O,mapStaticWidth:T,mapStaticHeight:M,mapStrokeColor:L,mapStrokeOpacity:P,mapStrokeWeight:I,mapStrokeFillColor:B,mapStrokeFillOpacity:_,mapOverlayContent:E,mapRoutesOriginLatLng:z,mapRoutesDestLatLng:W,mapRoutesTravelMode:A,mapPanoramaLat:R,mapPanoramaLng:j,mapThemeType:x,googleTheme:ee,snazzyTheme:te,mapMarkers:$,mapPolylines:N,streeviewControl:F,typeControl:D,zoomControl:H,fullscreenControl:V,scrollZoom:Z,markerItems:G,polyItems:J,strokeColor:U,strokeOpacity:q,strokeWeight:K,fillColor:Y,fillOpacity:Q,overlayContent:X};(0,s.useEffect)((()=>{m()({path:"/gutenkit/v1/settings"}).then((e=>{const t=e.settings.google_map.fields.api_key.value;t?fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=New+York&key=${t}`).then((e=>e.json())).then((e=>{ie(!1),"OK"!==e.status?re((0,r.createElement)("div",null,(0,n.__)(e.error_message,"gutenkit-blocks-addon-pro")," ",(0,r.createElement)(d.ExternalLink,{href:oe},(0,n.__)("Please provide a valid API key","gutenkit-blocks-addon-pro")))):le(!0)})).catch((e=>{console.error(e)})):(ie(!1),re((0,r.createElement)("div",null,(0,n.__)("You must use an API key to authenticate each request to Google Maps Platform APIs.","gutenkit-blocks-addon-pro")," ",(0,r.createElement)(d.ExternalLink,{href:oe},(0,n.__)("Please add a valid API key","gutenkit-blocks-addon-pro")))))}))}),[]),(0,s.useEffect)((()=>{if(ye.current){const e=window.frames["editor-canvas"]||window,{google:t}=e,o=ye.current.querySelector(".gkit-google-map");t&&o&&p(o,o?.dataset?.map,t)}}),[JSON.stringify(fe),se]);const ve=de(e,t,"blocksCSS",((e,t)=>{const o=window.gutenkit.helpers,{parseCSS:a,backgroundGenerator:r,getBoxShadowValue:n,getBoxValue:i,getBorderValue:s,getTypographyValue:l,getSliderValue:p}=o,c=e.blockClass;return a([[{selector:`.${c} .gkit-google-map-overlay`,"box-shadow":n(e?.overlayShadow),...s(e?.overlayBorder)}],t=>{return[{selector:`.${c} .gkit-google-map-overlay`,background:r(e?.overlayBackground,t).background,width:p(e?.[`overlayWidth${t}`]),...i(e?.[`overlayBorderRadius${t}`],"border-radius"),...i(e?.[`overlayPadding${t}`],"padding"),...i(e?.[`overlayMargin${t}`],"margin"),...l(e?.overlayTypography,t)},{selector:`.${c} .gkit-google-map`,"max-width":p(e?.[`width${t}`]),height:p(e?.[`height${t}`]),...(o=e?.[`alignment${t}`],"center"===o?{"margin-left":"auto","margin-right":"auto"}:"right"===o?{"margin-left":"auto","margin-right":"0"}:{})}];var o}],t)})(e,ue));return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(pe,{blocksCSS:ve}),c&&(0,r.createElement)(ce,null,(0,r.createElement)(g,{attributes:e,setAttributes:t,device:ke,advancedControl:a})),(0,r.createElement)("div",{...he},ne&&(0,r.createElement)(d.Spinner,{style:{height:"45px",width:"100%",textAlign:"center"}}),se?(0,r.createElement)("div",{className:"gkit-google-map","data-map":JSON.stringify(fe)}):ae))},icon:k,save:function({attributes:e}){const t=i.useBlockProps.save(),{mapType:o,mapAddressType:a,mapLatLng:n,mapAddress:s,mapBasicMarkerTitle:l,mapBasicMarkerContent:p,mapBasicMarkerIconEnable:c,mapBasicMarkerIcon:m,mapBasicMarkerIconWidth:d,mapBasicMarkerIconHeight:g,mapZoom:u,mapMarkerContent:k,mapStaticWidth:y,mapStaticHeight:h,mapStrokeColor:f,mapStrokeOpacity:v,mapStrokeWeight:w,mapStrokeFillColor:C,mapStrokeFillOpacity:b,mapOverlayContent:S,mapRoutesOriginLatLng:O,mapRoutesDestLatLng:T,mapRoutesTravelMode:M,mapPanoramaLat:L,mapPanoramaLng:P,mapTheme:I,mapMarkers:B,mapPolylines:_,streeviewControl:E,typeControl:z,zoomControl:W,fullscreenControl:A,scrollZoom:R,markerItems:j,polyItems:x,strokeColor:$,strokeOpacity:N,strokeWeight:F,fillColor:D,fillOpacity:H,mapThemeType:V,googleTheme:Z,snazzyTheme:G}=e,J={mapType:o,mapAddressType:a,mapLatLng:n,mapAddress:s,mapBasicMarkerTitle:l,mapBasicMarkerContent:p,mapBasicMarkerIconEnable:c,mapBasicMarkerIcon:m,mapBasicMarkerIconWidth:d,mapBasicMarkerIconHeight:g,mapZoom:u,mapMarkerContent:k,mapStaticWidth:y,mapStaticHeight:h,mapStrokeColor:f,mapStrokeOpacity:v,mapStrokeWeight:w,mapStrokeFillColor:C,mapStrokeFillOpacity:b,mapOverlayContent:S,mapRoutesDestLatLng:T,mapRoutesOriginLatLng:O,mapRoutesTravelMode:M,mapPanoramaLat:L,mapPanoramaLng:P,mapTheme:I,mapMarkers:B,mapPolylines:_,streeviewControl:E,typeControl:z,zoomControl:W,fullscreenControl:A,scrollZoom:R,markerItems:j,polyItems:x,strokeColor:$,strokeOpacity:N,strokeWeight:F,fillColor:D,fillOpacity:H,mapThemeType:V,googleTheme:Z,snazzyTheme:G};return(0,r.createElement)("div",{...t},(0,r.createElement)("div",{className:"gkit-google-map","data-map":JSON.stringify(J)}))}})},1609:e=>{e.exports=window.React},6427:e=>{e.exports=window.wp.components},6087:e=>{e.exports=window.wp.element},7723:e=>{e.exports=window.wp.i18n},5573:e=>{e.exports=window.wp.primitives}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}};return n[e](o,o.exports,s),o.exports}s.m=n,e=[],s.O=(t,o,a,r)=>{if(!o){var n=1/0;for(c=0;c<e.length;c++){for(var[o,a,r]=e[c],i=!0,l=0;l<o.length;l++)(!1&r||n>=r)&&Object.keys(s.O).every((e=>s.O[e](o[l])))?o.splice(l--,1):(i=!1,r<n&&(n=r));if(i){e.splice(c--,1);var p=a();void 0!==p&&(t=p)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,a,r]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,a){if(1&a&&(e=this(e)),8&a)return e;if("object"==typeof e&&e){if(4&a&&e.__esModule)return e;if(16&a&&"function"==typeof e.then)return e}var r=Object.create(null);s.r(r);var n={};t=t||[null,o({}),o([]),o(o)];for(var i=2&a&&e;"object"==typeof i&&!~t.indexOf(i);i=o(i))Object.getOwnPropertyNames(i).forEach((t=>n[t]=()=>e[t]));return n.default=()=>e,s.d(r,n),r},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,o)=>(s.f[o](e,t),t)),[])),s.u=e=>e+".js",s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a={},r="gutenkit-blocks-addon-pro:",s.l=(e,t,o,n)=>{if(a[e])a[e].push(t);else{var i,l;if(void 0!==o)for(var p=document.getElementsByTagName("script"),c=0;c<p.length;c++){var m=p[c];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==r+o){i=m;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.setAttribute("data-webpack",r+o),i.src=e),a[e]=[t];var d=(t,o)=>{i.onerror=i.onload=null,clearTimeout(g);var r=a[e];if(delete a[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((e=>e(o))),t)return t(o)},g=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),l&&document.head.appendChild(i)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var a=o.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=o[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../../"})(),(()=>{var e={2725:0,8793:0};s.f.j=(t,o)=>{var a=s.o(e,t)?e[t]:void 0;if(0!==a)if(a)o.push(a[2]);else if(8793!=t){var r=new Promise(((o,r)=>a=e[t]=[o,r]));o.push(a[2]=r);var n=s.p+s.u(t),i=new Error;s.l(n,(o=>{if(s.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=o&&("load"===o.type?"missing":o.type),n=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",i.name="ChunkLoadError",i.type=r,i.request=n,a[1](i)}}),"chunk-"+t,t)}else e[t]=0},s.O.j=t=>0===e[t];var t=(t,o)=>{var a,r,[n,i,l]=o,p=0;if(n.some((t=>0!==e[t]))){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(l)var c=l(s)}for(t&&t(o);p<n.length;p++)r=n[p],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(c)},o=globalThis.webpackChunkgutenkit_blocks_addon_pro=globalThis.webpackChunkgutenkit_blocks_addon_pro||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=s.O(void 0,[8793],(()=>s(2565)));l=s.O(l)})();