(()=>{var e,t,r,o={2155:(e,t,r)=>{"use strict";const o=window.wp.blocks;var i=r(1609),s=r(7723);const n=window.wp.blockEditor;var a=r(6087);const l=window.wp.data,u=window.wp.components,p=window.wp.compose;var c=r(6942),d=r.n(c);const w=(0,a.memo)((function({blocks:e,blockContextId:t,isHidden:r,setActiveBlockContextId:o,classList:s,index:a}){const l=(0,n.__experimentalUseBlockPreview)({blocks:e,props:{className:d()("gutenkit-query-template-item",s)}}),u={display:r?"none":void 0};return(0,i.createElement)("div",{...l,tabIndex:0,"data-index":a,role:"button",onClick:()=>{o(t)},style:u})})),g=window.wp.apiFetch;var m=r.n(g);const y=window.wp.url,b=(0,a.lazy)((()=>r.e(2520).then(r.bind(r,2520)))),k=(0,a.memo)((({classList:e,index:t})=>{const r=(0,n.useInnerBlocksProps)({className:d()("gutenkit-query-template-item",e),"data-index":t,tabIndex:0,role:"button"});return(0,i.createElement)("div",{...r})})),v=JSON.parse('{"UU":"gutenkit-pro/query-template"}'),{queryTemplate:f}=window.gutenkit.editorIcon;(0,o.registerBlockType)(v.UU,{edit:function({attributes:e,setAttributes:t,clientId:r,advancedControl:o,isSelected:c,context:{query:d,queryType:g,templateSlug:v,previewPostType:f}}){const{GkitStyle:h,GkitIcon:$,GkitSuspense:x}=window.gutenkit.components,{useDeviceType:A,gkitSwiper:B,useBlockStyles:I,useDeviceList:S}=window.gutenkit.helpers,q=A(),E=(0,a.useRef)(null),C=(0,n.useBlockProps)({ref:(0,p.useMergeRefs)([E])}),T=S(),[D,P]=(0,a.useState)(),{inherit:_,posts:N}=d,[L,O]=(0,a.useState)([]),[Q,R]=(0,a.useState)(!1),{blocks:j,postsPerPage:G,currentPostType:H}=(0,l.useSelect)((e=>{const{getBlocks:t,getSettings:o}=e(n.store),{getCurrentPostType:i}=e("core/editor");return{blocks:t(r),postsPerPage:o()?.postsPerPage,currentPostType:i()}}),[r]);(0,a.useEffect)((()=>{const t=E?.current?.querySelector(".gkit-query-builder-slider");let r=null;return Swiper&&t&&(r=B(t,e?.swiperSettings,!0,q,T)),()=>{r&&r.destroy()}}),[e,q,T]);const F=(0,a.useCallback)((async e=>{const t=(0,y.addQueryArgs)("gutenkit/v1/query-builder/posts",{query:JSON.stringify(e)});try{const e=await m()({path:t});O(e)}catch(e){console.error(e)}finally{R(!1)}}),[]),M=(0,a.useCallback)((async()=>{let e,t={per_page:G},r="posts";if(v?.startsWith("category-"))try{e=await m()({path:(0,y.addQueryArgs)("/wp/v2/categories",{context:"view",per_page:1,_fields:"id",slug:v.replace("category-","")})})}catch(e){console.error("Error fetching template category:",e)}v?.startsWith("archive-")?(t.type=v.replace("archive-",""),r=t.type):e&&e.length>0&&(t.categories=e[0]?.id),f&&(t.type=f);try{const e=await m()({path:(0,y.addQueryArgs)(`/wp/v2/${r}`,t)});O(e),R(!1)}catch(e){console.error("Error fetching posts:",e)}finally{R(!1)}}),[G,f,v]);(0,a.useEffect)((()=>((async()=>{R(!0),_?await M():"post"===g?.value?await F(N):R(!1)})(),()=>{R(!1)})),[N,_,g,v,f,H]);const z=I(e,t,"blocksCSS",((e,t)=>{const{parseCSS:r,backgroundGenerator:o,getBoxShadowValue:i,getBoxValue:s,getBorderValue:n,getSliderValue:a,getColor:l}=window.gutenkit.helpers,u=e.blockClass,p=(t="Desktop")=>{const r={};return"grid"===e?.gkitQueryBuilderLayoutType&&("auto"===e?.gridLayoutType&&(r.display="grid",r["grid-template-columns"]=`repeat(auto-fill, minmax(min(${a(e[`gridAutoMinimumColumnWidth${t}`])}, 100%), 1fr))`,r["grid-auto-rows"]=`minmax(${a(e[`gridAutoMinimumColumnHeight${t}`])}, auto)`),"manual"===e?.gridLayoutType&&(r.display="grid",r["grid-template-columns"]=`repeat(${e[`gridManualColumns${t}`]}, minmax(0, 1fr))`,e[`gridManualRows${t}`]&&(r["grid-template-rows"]=`repeat(${e[`gridManualRows${t}`]}, minmax(0, 1fr))`)),"masonry"===e?.gridLayoutType?(r.display="block",r["column-count"]=e[`gridManualColumns${t}`]):r["row-gap"]=a(e[`gkitQueryBuilderGridRowGap${t}`]),r["column-gap"]=a(e[`gkitQueryBuilderGridColumnGap${t}`])),"flex"===e?.gkitQueryBuilderLayoutType&&(r.display="flex",r["flex-direction"]=e[`gkitQueryBuilderFlexDirection${t}`],r["flex-wrap"]=e[`gkitQueryBuilderFlexWrap${t}`],r["justify-content"]=e[`gkitQueryBuilderFlexJustify${t}`],r["align-items"]=e[`gkitQueryBuilderFlexAlign${t}`],r["row-gap"]=a(e[`gkitQueryBuilderFlexRowGap${t}`]),r["column-gap"]=a(e[`gkitQueryBuilderFlexColumnGap${t}`])),r},c=o(e?.queryItemActiveBackground).background;return r([[{selector:`.${u}.wp-block-gutenkit-pro-query-template .gutenkit-query-template-item`,"break-inside":"grid"===e?.gkitQueryBuilderLayoutType&&"masonry"===e?.gridLayoutType?"avoid-column":null},{selector:`.${u} .swiper-pagination .swiper-pagination-bullet`,...n(e?.swiperDots?.border),background:o(e?.swiperDots?.background).background},{selector:`.${u} .swiper-pagination .swiper-pagination-bullet-active`,background:o(e?.swiperDots?.activeBackground).background,...n(e?.swiperDots?.activeBorder)},{selector:`.${u} .swiper-button`,background:o(e?.swiperArrows?.background).background,"box-shadow":i(e?.swiperArrows?.shadow),...n(e?.swiperArrows?.border)},{selector:`.${u} .swiper-button:hover`,background:o(e?.swiperArrows?.hoverBackground).background,"box-shadow":i(e?.swiperArrows?.hoverShadow),"border-color":l(e?.swiperArrows?.borderHoverColor)},{selector:`.${u} .swiper-button svg`,fill:l(e?.swiperArrows?.color)},{selector:`.${u} .swiper-button:hover svg`,fill:l(e?.swiperArrows?.hoverColor)},{selector:`.${u}.wp-block-gutenkit-pro-query-template .gutenkit-query-template-item`,background:o(e?.queryItemNormalBackground).background,"box-shadow":i(e?.queryItemNormalBoxShadow),...n(e?.queryItemNormalBorder)},{selector:`.${u}.wp-block-gutenkit-pro-query-template .gutenkit-query-template-item:hover,\n\t\t\t.${u}.wp-block-gutenkit-pro-query-template .block-editor-block-list__layout:hover`,background:o(e?.queryItemHoverBackground).background,"box-shadow":i(e?.queryItemHoverBoxShadow),...n(e?.queryItemHoverBorder)},{selector:`.${u}.wp-block-gutenkit-pro-query-template .block-editor-block-list__layout`,background:c||o(e?.queryItemNormalBackground).background,"box-shadow":i(e?.queryItemActiveBoxShadow?e?.queryItemActiveBoxShadow:e?.queryItemNormalBoxShadow),...n(e?.queryItemActiveBorder?e?.queryItemActiveBorder:e?.queryItemNormalBorder)}],t=>[{selector:`.${u}.wp-block-gutenkit-pro-query-template`,...p(t)},{selector:`.${u}.wp-block-gutenkit-pro-query-template .gutenkit-query-template-item`,"margin-bottom":"masonry"===e?.gridLayoutType?a(e[`gkitQueryBuilderGridRowGap${t}`]):null},{selector:`.${u} .swiper-pagination`,bottom:e?.swiperDots&&a(e?.swiperDots[`verticalAlign${t}`]),"justify-content":e?.swiperDots&&e?.swiperDots[`alignment${t}`],gap:e?.swiperDots&&a(e?.swiperDots[`spaceBetween${t}`])},{selector:`.${u} .swiper-pagination .swiper-pagination-bullet`,width:e?.swiperDots&&a(e?.swiperDots[`width${t}`]),height:e?.swiperDots&&a(e?.swiperDots[`height${t}`]),...s(e?.swiperDots&&e?.swiperDots[`borderRadius${t}`],"border-radius")},{selector:`.${u} .swiper-pagination .swiper-pagination-bullet-active`,width:e?.swiperDots&&a(e?.swiperDots[`activeWidth${t}`]),height:e?.swiperDots&&a(e?.swiperDots[`activeHeight${t}`]),transform:`scale(${a(e?.swiperDots&&e?.swiperDots[`activeScale${t}`])})`},{selector:`.${u} .swiper-button`,"font-size":e?.swiperArrows&&a(e?.swiperArrows[`iconSize${t}`]),width:e?.swiperArrows&&a(e?.swiperArrows[`backgroundSize${t}`]),height:e?.swiperArrows&&a(e?.swiperArrows[`backgroundSize${t}`]),...s(e?.swiperArrows&&e?.swiperArrows[`borderRadius${t}`],"border-radius")},{selector:`.${u} .swiper-button-prev`,transform:e?.swiperArrows&&`translateY(${a(e?.swiperArrows?.position[`prevVertical${t}`])})`,left:e?.swiperArrows&&a(e?.swiperArrows?.position[`prevHorizontal${t}`])},{selector:`.${u} .swiper-button-next`,transform:e?.swiperArrows&&`translateY(${a(e?.swiperArrows?.position[`nextVertical${t}`])})`,right:e?.swiperArrows&&a(e?.swiperArrows?.position[`nextHorizontal${t}`])},{selector:`.${u}.wp-block-gutenkit-pro-query-template .gutenkit-query-template-item`,...s(e[`queryItemNormalBorderRadius${t}`],"border-radius"),...s(e[`queryItemPadding${t}`],"padding")},{selector:`.${u}.wp-block-gutenkit-pro-query-template .gutenkit-query-template-item:hover,\n\t\t\t\t.${u}.wp-block-gutenkit-pro-query-template .block-editor-block-list__layout:hover`,...s(e[`queryItemHoverBorderRadius${t}`],"border-radius")},{selector:`.${u}.wp-block-gutenkit-pro-query-template .block-editor-block-list__layout`,...s(e[`queryItemActiveBorderRadius${t}`]?e[`queryItemActiveBorderRadius${t}`]:e[`queryItemNormalBorderRadius${t}`],"border-radius"),...s(e[`queryItemPadding${t}`],"padding")}]],t)})(e,T)),U=(0,a.useMemo)((()=>L?.map((e=>{var t;return{postType:e.post_type||e?.type,postId:e.ID||e?.id,classList:null!==(t=e?.class_list)&&void 0!==t?t:""}}))),[L]);return Q?(0,i.createElement)("p",{...C},(0,i.createElement)(u.Spinner,null)):L.length?(0,i.createElement)(i.Fragment,null,(0,i.createElement)(h,{blocksCSS:z}),c&&(0,i.createElement)(x,null,(0,i.createElement)(b,{attributes:e,setAttributes:t,device:q,advancedControl:o})),(0,i.createElement)("div",{...C},U&&"slider"===e?.gkitQueryBuilderLayoutType?(0,i.createElement)("div",{className:"gkit-query-builder-slider swiper","data-settings":JSON.stringify(e?.swiperSettings)},(0,i.createElement)("div",{className:"swiper-wrapper"},U.map(((e,t)=>(0,i.createElement)("div",{className:"swiper-slide",key:e.postId},(0,i.createElement)(n.BlockContextProvider,{key:e.postId,value:e},e.postId===(D||U[0]?.postId)?(0,i.createElement)(k,{index:t,classList:e?.classList}):null,(0,i.createElement)(w,{blocks:j,blockContextId:e.postId,setActiveBlockContextId:P,isHidden:e.postId===(D||U[0]?.postId),classList:e?.classList,index:t})))))),e?.enableDots&&(0,i.createElement)("div",{className:"swiper-pagination"}),e?.enableArrows&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)($,{icon:e?.leftArrowIcon,className:"swiper-button swiper-button-prev"}),(0,i.createElement)($,{icon:e?.rightArrowIcon,className:"swiper-button swiper-button-next"}))):U.map(((e,t)=>(0,i.createElement)(n.BlockContextProvider,{key:e.postId,value:e},e.postId===(D||U[0]?.postId)?(0,i.createElement)(k,{index:t,classList:e?.classList}):null,(0,i.createElement)(w,{blocks:j,blockContextId:e.postId,setActiveBlockContextId:P,isHidden:e.postId===(D||U[0]?.postId),classList:e?.classList,index:t})))))):(0,i.createElement)("p",{...C}," ",(0,s.__)("No results found.","gutenkit-blocks-addon-pro"))},icon:f,save:function(){const e=n.useInnerBlocksProps.save();return(0,i.createElement)("div",{...e})}})},1609:e=>{"use strict";e.exports=window.React},6087:e=>{"use strict";e.exports=window.wp.element},7723:e=>{"use strict";e.exports=window.wp.i18n},5573:e=>{"use strict";e.exports=window.wp.primitives},6942:(e,t)=>{var r;!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];r&&(e=n(e,s(r)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)o.call(e,r)&&e[r]&&(t=n(t,r));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}};return o[e](r,r.exports,s),r.exports}s.m=o,e=[],s.O=(t,r,o,i)=>{if(!r){var n=1/0;for(p=0;p<e.length;p++){for(var[r,o,i]=e[p],a=!0,l=0;l<r.length;l++)(!1&i||n>=i)&&Object.keys(s.O).every((e=>s.O[e](r[l])))?r.splice(l--,1):(a=!1,i<n&&(n=i));if(a){e.splice(p--,1);var u=o();void 0!==u&&(t=u)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[r,o,i]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,r)=>(s.f[r](e,t),t)),[])),s.u=e=>e+".js",s.miniCssF=e=>{},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},r="gutenkit-blocks-addon-pro:",s.l=(e,o,i,n)=>{if(t[e])t[e].push(o);else{var a,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),p=0;p<u.length;p++){var c=u[p];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==r+i){a=c;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",r+i),a.src=e),t[e]=[o];var d=(r,o)=>{a.onerror=a.onload=null,clearTimeout(w);var i=t[e];if(delete t[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(o))),r)return r(o)},w=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}},s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!e||!/^http(s?):/.test(e));)e=r[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../../"})(),(()=>{var e={9478:0,1066:0};s.f.j=(t,r)=>{var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else if(1066!=t){var i=new Promise(((r,i)=>o=e[t]=[r,i]));r.push(o[2]=i);var n=s.p+s.u(t),a=new Error;s.l(n,(r=>{if(s.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),n=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",a.name="ChunkLoadError",a.type=i,a.request=n,o[1](a)}}),"chunk-"+t,t)}else e[t]=0},s.O.j=t=>0===e[t];var t=(t,r)=>{var o,i,[n,a,l]=r,u=0;if(n.some((t=>0!==e[t]))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(l)var p=l(s)}for(t&&t(r);u<n.length;u++)i=n[u],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(p)},r=globalThis.webpackChunkgutenkit_blocks_addon_pro=globalThis.webpackChunkgutenkit_blocks_addon_pro||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var n=s.O(void 0,[1066],(()=>s(2155)));n=s.O(n)})();