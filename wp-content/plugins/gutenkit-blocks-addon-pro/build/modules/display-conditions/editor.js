(()=>{var e={6942:(e,t)=>{var a;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=r(e,l(a)))}return e}function l(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)n.call(e,a)&&e[a]&&(t=r(t,a));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(a=function(){return o}.apply(t,[]))||(e.exports=a)}()}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,a),l.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.hooks,t=window.React,n=window.wp.compose,o=window.wp.i18n,l=window.wp.element,r=window.wp.components,i=window.wp.primitives,s=(0,t.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(i.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})),u={conditionType:{},operator:{},value:null};function d(){return(Date.now().toString(36)+Math.random().toString(36).substring(2,8)).substring(0,8)}function c(e=[],t,a=null){if(a)t(e.map((e=>e.id===a||e?.innerConditions?.length?{...e,innerConditions:[...e.innerConditions,{id:d(),data:u}]}:e)));else{const a={id:d(),data:u,innerConditions:[]};t([...e,a])}}const p=(0,t.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})),v=[{label:"==",value:"=="},{label:"!=",value:"!="},{label:">=",value:">="},{label:"<=",value:"<="},{label:">",value:">"},{label:"<",value:"<"}],m=[{label:"is",value:"=="},{label:"is not",value:"!="},{label:"contains",value:"contains"},{label:"not contains",value:"notContains"}],b=[{label:"is",value:"=="},{label:"is not",value:"!="}],g={postId:{operators:v,values:""},postTitle:{operators:m,values:""},postParent:{operators:v,values:""},postStatus:{operators:b,values:[{label:"Draft",value:"draft"},{label:"Pending",value:"pending"},{label:"Private",value:"private"},{label:"Publish",value:"publish"}]},postAuthor:{operators:b,values:["postAuthor"]},postDate:{operators:v,values:"",datePicker:!0,dateType:"date"},featuredImage:{operators:b,values:[{label:"Not Set",value:"notSet"},{label:"Set",value:"set"}]},userLogin:{operators:b,values:[{label:"Logged In",value:"loggedIn"},{label:"Logged Out",value:"loggedOut"}]},userId:{operators:v,values:""},userRegistered:{operators:[{label:"after",value:"after"},{label:"before",value:"before"}],values:"",datePicker:!0,dateType:"date-time"},userRole:{operators:b,values:[{label:"Administrator",value:"administrator"},{label:"Editor",value:"editor"},{label:"Author",value:"author"},{label:"Contributor",value:"contributor"},{label:"Subscriber",value:"subscriber"}]},weekday:{operators:v,values:[{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6},{label:"Sunday",value:0}]},date:{operators:v,values:"",datePicker:!0,dateType:"date"},time:{operators:v,values:"",datePicker:!0,dateType:"time"},dateAndTime:{operators:v,values:"",datePicker:!0,dateType:"date-time"},browser:{operators:m,values:[{label:"Chrome",value:"Chrome"},{label:"Firefox",value:"Firefox"},{label:"Safari",value:"Safari"},{label:"Opera",value:"Opera"},{label:"Edge",value:"Edge"},{label:"Internet Explorer",value:"InternetExplorer"}]},operatingSystem:{operators:m,values:[{label:"Windows",value:"Windows"},{label:"Mac",value:"MacOS"},{label:"Linux",value:"Linux"},{label:"Ubuntu",value:"Ubuntu"},{label:"iPhone",value:"iPhone"},{label:"iPad",value:"iPad"},{label:"iPod",value:"iPod"},{label:"Android",value:"Android"},{label:"Blackberry",value:"Blackberry"},{label:"Mobile (webOs)",value:"WebOS"}]},dynamicData:{operators:m,values:""},currentUrl:{operators:m,values:"",isUrl:!0},referrerUrl:{operators:m,values:"",isUrl:!0}},y=[{label:"POST",options:[{label:"Post ID",value:"postId",category:"post"},{label:"Post Title",value:"postTitle",category:"post"},{label:"Post Parent",value:"postParent",category:"post"},{label:"Post Status",value:"postStatus",category:"post"},{label:"Post Author",value:"postAuthor",category:"post"},{label:"Post Date",value:"postDate",category:"post"},{label:"Featured Image",value:"featuredImage",category:"post"}]},{label:"USER",options:[{label:"User Login",value:"userLogin",category:"user"},{label:"User ID",value:"userId",category:"user"},{label:"User Registered",value:"userRegistered",category:"user"},{label:"User Role",value:"userRole",category:"user"}]},{label:"DATE & TIME",options:[{label:"Weekday",value:"weekday",category:"date"},{label:"Date",value:"date",category:"date"},{label:"Time",value:"time",category:"date"},{label:"Date and Time",value:"dateAndTime",category:"date"}]},{label:"OTHERS",options:[{label:"Browser",value:"browser",category:"others"},{label:"Operating System",value:"operatingSystem",category:"others"},{label:"Current Url",value:"currentUrl",category:"others"},{label:"Referrer Url",value:"referrerUrl",category:"others"}]}];function h(e,t,a,n){const o=function e(t,a,n){return t.map((t=>t.id===a?{...t,data:{...t.data,...n}}:t?.innerConditions?.length?{...t,innerConditions:e(t.innerConditions,a,n)}:t))}(e,a,n);t(o)}const f=(0,l.memo)((({value:e,onChange:a,conditionName:n,setShowPopover:o})=>{const i=(0,l.useRef)(null);return(0,l.useEffect)((()=>{if(i.current){const e=i.current.querySelector(".components-datetime__timezone");e&&e.addEventListener("click",(e=>{e.preventDefault();const t=window?.gutenkit?.generalSettingsUrl;t&&window.open(t,"_blank")}))}}),[i?.current]),(0,t.createElement)(r.Popover,{placement:"left",offset:20,focusOnMount:!0,onFocusOutside:()=>{o(!1)}},(0,t.createElement)("div",{className:"gkit-display-condition-popover",ref:i},("dateAndTime"===n||"userRegistered"===n)&&(0,t.createElement)(r.DateTimePicker,{is12Hour:!0,currentDate:e,onChange:a}),"time"===n&&(0,t.createElement)(r.TimePicker,{is12Hour:!0,currentTime:e,onChange:a}),("date"===n||"postDate"===n)&&(0,t.createElement)(r.DatePicker,{currentDate:e,onChange:a})))}));function w(e,t,a){const n=t=>{for(const o of t){if(o.id===e)return o.data?.[a]||null;if(o?.innerConditions){const e=n(o.innerConditions);if(null!==e)return e}}return null};return n(t)}const k=window.wp.data,C=e=>{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric"}).format(t)},E=e=>{const t=new Date(e);return new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(t)},S=e=>g[e],P=(0,l.memo)((({conditions:e,id:a,setCondition:n})=>{const{GkitComplexSelect:o,GkitText:i,GkitAdvancedUrl:u}=window.gutenkit.components,{isNull:d}=window.gutenkit.helpers,[v,m]=(0,l.useState)(!1),b=w(a,e,"conditionType"),{authors:g}=(0,l.useMemo)((()=>{const e=(0,k.select)("core").getUsers({who:"authors"});return{authors:e&&e?.length&&e.map((e=>({value:e.id,label:e.name})))||[]}}),[]);return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"gkit-display-condition-control"},(0,t.createElement)(o,{value:w(a,e,"conditionType"),options:y,onChange:t=>h(e,n,a,{conditionType:t,operator:null,value:null})}),!d(w(a,e,"conditionType"))&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o,{value:w(a,e,"operator"),options:S(b?.value)?.operators,onChange:t=>h(e,n,a,{operator:t})}),w(a,e,"operator")?.value&&Array.isArray(S(b?.value)?.values)&&(0,t.createElement)(t.Fragment,null,"postAuthor"===S(b?.value)?.values[0]?(0,t.createElement)(o,{value:w(a,e,"value"),options:g,onChange:t=>h(e,n,a,{value:t})}):(0,t.createElement)(o,{value:w(a,e,"value"),options:S(b?.value)?.values,onChange:t=>h(e,n,a,{value:t})})),w(a,e,"operator")?.value&&S(b?.value)?.datePicker&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"gkit-control gkit-control-wrap gkit-display-condition-control-popover-button",onClick:()=>{m(!0)}},(()=>{const t=w(a,e,"value");if(!t)return"Select Date";switch(S(b?.value)?.dateType){case"date":return C(t);case"time":return E(t);case"date-time":return`${C(t)} ${E(t)}`;default:return t}})()),v&&(0,t.createElement)(f,{onChange:t=>h(e,n,a,{value:t}),conditionName:b?.value,value:w(a,e,"value"),setShowPopover:m})),w(a,e,"operator")?.value&&S(b?.value)?.isUrl&&(0,t.createElement)(u,{value:w(a,e,"value"),onChange:t=>h(e,n,a,{value:t}),isSupportDynamicContent:!1}),w(a,e,"operator")?.value&&!Array.isArray(S(b?.value)?.values)&&!S(b?.value)?.datePicker&&!S(b?.value)?.isUrl&&(0,t.createElement)(i,{value:w(a,e,"value"),onChange:t=>h(e,n,a,{value:t}),labelBlock:"block"})),(0,t.createElement)("div",{className:"gkit-display-condition-control-button"},(0,t.createElement)(r.Button,{icon:s,onClick:()=>c(e,n,a)}),(0,t.createElement)(r.Button,{icon:p,onClick:()=>function(e,t,a){const n=function e(t,a){let n=[];for(const o of t)o.id!==a&&(o.innerConditions?.length&&(o.innerConditions=e(o.innerConditions,a)),n.push(o));return n}(e,a);t(n)}(e,n,a)}))))})),T=(0,n.createHigherOrderComponent)((e=>a=>{const{clientId:n,tabName:i}=a;if("advanced"===i){const{GkitPanelBody:i}=window.gutenkit.components,{getAttributes:u,setAttributes:d}=window?.gutenkit?.helpers,p=u(n),v=(0,l.useMemo)((()=>p.displayConditions),[p?.displayConditions]),m=(0,l.useCallback)((e=>{d(n,{displayConditions:e})}),[p?.displayConditions]);return(0,t.createElement)(e,{...a},a.children,(0,t.createElement)(i,{title:(0,o.__)("Display Conditions","gutenkit-blocks-addon-pro"),initialOpen:!1},(0,t.createElement)("ul",{className:"gkit-display-conditions-container"},v?.length?v?.map(((e,a,n)=>(0,t.createElement)("li",{className:"gkit-display-condition-item",key:a,"data-label":n?.length!==a+1?"OR":""},(0,t.createElement)(P,{conditions:v,id:e.id,setCondition:m}),e?.innerConditions&&e?.innerConditions.map(((e,a)=>(0,t.createElement)("div",{key:a,className:"gkit-display-condition-item-inner","data-label":"AND"},(0,t.createElement)(P,{conditions:v,id:e.id,setCondition:m}))))))):(0,t.createElement)("span",{className:"gkit-display-conditions-help-text"},(0,o.__)("Click the Add condition button to add your first condition. Conditions don't run in the builder until they're added to your block.","gutenkit-blocks-addon-pro")),(0,t.createElement)(r.Button,{isSecondary:!0,onClick:()=>c(v,m),icon:s,iconPosition:"left",showTooltip:!0,label:(0,o.__)("Add conditions","gutenkit-blocks-addon-pro"),className:"gkit-first-level-add-condition-button"},(0,o.__)("Add conditions","gutenkit-blocks-addon-pro")),v?.length?(0,t.createElement)("p",{className:"gkit-display-conditions-help-text select-conditions"},(0,o.__)("Note: Conditions with empty condition Type, Operator, or Value fields are ignored during evaluation, ensuring only valid conditions are processed.","gutenkit-blocks-addon-pro")):"")))}return(0,t.createElement)(e,{...a},a.children)}),"Settings");var A=a(6942),D=a.n(A);(0,e.addFilter)("gutenkit.tabs.after-tab","gutenkit.display-conditions.controls",T,10),(0,e.addFilter)("gutenkit.blockWrapper.attributes","gutenkit.display-conditions.wrapper",((e,t)=>{const a=t?.displayConditions?.length;return{...e,className:D()(e.className,{"gutenkit-has-conditions":a})}}),10)})()})();