(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,i=window.wp.hooks,n=window.wp.compose,s=window.wp.i18n,o=window.wp.element,l=(0,n.createHigherOrderComponent)((e=>i=>{const{gkitResponsiveValue:n,useDeviceType:l,getAttributes:a,setAttributes:c,useDeviceList:r}=window.gutenkit.helpers,{GkitResponsive:d,GkitSwitcher:u,GkitBackgrounGroup:k,GkitRangeUnit:g,GkitText:p,GkitPanelBody:m,GkitSelect:y,GkitNumber:b,GkitBoxControl:f}=window.gutenkit.components,h=a(i?.clientId),{stickyPosition:v}=h||{},w=l(),_=r(),E=(0,o.useCallback)(((e,t,n)=>{c(i?.clientId,{[e+n]:t})}),[i?.clientId]);return(0,t.createElement)(t.Fragment,null,"advanced"===i?.tabName?(0,t.createElement)(e,{...i},(0,t.createElement)(m,{title:(0,s.__)("Sticky","gutenkit-blocks-addon-pro"),initialOpen:!1},(0,t.createElement)(y,{label:(0,s.__)("Sticky","gutenkit-blocks-addon-pro"),value:v,options:[{label:(0,s.__)("None","gutenkit-blocks-addon-pro"),value:"none"},{label:(0,s.__)("Top","gutenkit-blocks-addon-pro"),value:"top"},{label:(0,s.__)("Bottom","gutenkit-blocks-addon-pro"),value:"bottom"},{label:(0,s.__)("Show on Scroll Up","gutenkit-blocks-addon-pro"),value:"scroll-up"}],onChange:e=>c(i?.clientId,{stickyPosition:e})}),"scroll-up"===v&&(0,t.createElement)(y,{label:(0,s.__)("Effect Type","gutenkit-blocks-addon-pro"),value:h.scrollEffect,options:[{label:(0,s.__)("Fade","gutenkit-blocks-addon-pro"),value:"fade"},{label:(0,s.__)("Slide","gutenkit-blocks-addon-pro"),value:"slide"}],onChange:e=>c(i?.clientId,{scrollEffect:e})}),"none"!==v&&(0,t.createElement)(t.Fragment,null,!h.isStickyContainer&&(0,t.createElement)(p,{label:(0,s.__)("Sticky Until","gutenkit-blocks-addon-pro"),value:h?.stickyUntil,onChange:e=>c(i?.clientId,{stickyUntil:e}),help:(0,s.__)('Use Block Class Here, Example: "my-block" ',"gutenkit-blocks-addon-pro"),labelBlock:"block"}),(0,t.createElement)(u,{label:(0,s.__)("Stay In Container","gutenkit-blocks-addon-pro"),help:(0,s.__)("Wrap your block with Container to see the effect","gutenkit-blocks-addon-pro"),value:h.isStickyContainer,onChange:e=>c(i?.clientId,{isStickyContainer:e})}),(0,t.createElement)(d,null,(0,t.createElement)(g,{label:(0,s.__)("Sticky Offset","gutenkit-blocks-addon-pro"),value:n(h,"stickYOffset",w),onChange:e=>E("stickYOffset",e,w,c),sizeUnits:["px"],units:{px:{min:0,max:1e3}}})),(0,t.createElement)(k,{label:(0,s.__)("Background","gutenkit-blocks-addon-pro"),value:h?.stickyBackground,onChange:e=>c(i?.clientId,{stickyBackground:e}),exclude:{video:!0,image:!0}}),(0,t.createElement)(b,{label:(0,s.__)("Z-Index","gutenkit-blocks-addon-pro"),value:h?.stickyZIndex,onChange:e=>c(i?.clientId,{stickyZIndex:e})}),(0,t.createElement)(f,{label:(0,s.__)("Padding","gutenkit-blocks-addon-pro"),values:h?.stickyPadding,onChange:e=>c(i?.clientId,{stickyPadding:e})}),_&&_.map(((e,n)=>(0,t.createElement)(u,{key:n,label:(0,s.__)(`Disable For ${e?.label}`,"gutenkit-blocks-addon-pro"),value:h?.[`sticky${e?.slug}Disable`],onChange:t=>c(i?.clientId,{[`sticky${e?.slug}Disable`]:t})}))))),i.children):(0,t.createElement)(e,{...i},i.children))}),"StickySettings"),a=(e,t,i,n,s)=>{if(!e||!t||!i)return;const{stickyPosition:o,stickyUntil:l,isStickyContainer:a,stickYOffsetDesktop:c,stickYOffsetTablet:r,stickYOffsetMobile:d,scrollEffect:u}=t,k=e.getBoundingClientRect(),g=i.scrollY,p=function(e,t){const i=t.startsWith("."),n=t.startsWith("#");let s=e.parentElement;for(;null!==s;){if(i&&s.classList.contains(t.slice(1))||n&&s.id===t.slice(1)||!i&&!n&&s.tagName.toLowerCase()===t.toLowerCase())return s;s=s.parentElement}return null}(e,".wp-block-gutenkit-container"),m=a?p:l?i.document.querySelector("."+l):null,y=m?.getBoundingClientRect();let b=0,f=0,h=!1,v=i.innerWidth,w=v<=768?d:v<=1024&&v>768?r:c,_=e?.cloneNode(!0);const E=(t="fixed")=>{let i=e?.getBoundingClientRect();e.classList.add("gutenkit-sticky"),e.parentNode.querySelector(".gutenkit-sticky-clone")||(_.classList.add("gutenkit-sticky-clone"),_.style.visibility="hidden",e.insertAdjacentElement("afterend",_));let n={position:t,transition:"background-color 0.3s ease-in, top 0.3s ease-in, left 0.3s ease-in, height 0.3s ease-in, transform 0.3s ease-in, z-index 0.3s ease-in, padding 0.3s ease-in",left:`${i.left}px`,width:`${i.width}px`};e.classList.contains("alignfull")&&(n={...n,"margin-left":"unset","margin-right":"unset"});let s=e.style.cssText.trim();Object.keys(n).forEach((e=>{s.includes(`${e}:`)||(s+=`${e}: ${n[e]}; `)})),e.style.cssText=s},x=()=>{e.classList.remove("gutenkit-sticky");const t=e?.parentNode?.querySelector(".gutenkit-sticky-clone");t&&t.remove();let i=e.style.cssText;const n=["position","width","z-index","transition","left","height","width","margin-left","margin-right","margin-top","margin-bottom","transform","top","bottom"],s=i.split(";").map((e=>e.trim())).filter((e=>!n.some((t=>e.startsWith(`${t}:`))))).join("; ");e.style.cssText=s};return"bottom"===o&&null===m&&E(),{start:function(l){l.preventDefault(),l.stopPropagation();const a=i.scrollY;if("editor-canvas"===window?.name||window?.gutenkit){if(s&&t?.[`sticky${s}Disable`])return void x()}else{var c=!1;if(((e,t)=>{if(e)for(let i=0;i<e.length;i++){const n=e[i];let s="base"===n?.value?Number(e[1]?.value)-1:i>0?Number(e[i-1]?.value):0;const o=i<e.length-1?Number(e[i+1]?.value):0;isNaN(s)&&(s=Number(e[1]?.value)-1);const l=window.matchMedia(`(max-width: ${"base"===n?.value?Number(e[1].value)-1:n.value}px)`),a=window.innerWidth,c=(e,i=n)=>{"function"==typeof t&&e.matches&&t(i)};a>=e[1]?.value?c({matches:!0},e[1]):a<o&&a>e[2]?.value?c({matches:!0},e[0]):a<=n.value&&a>o&&"base"!==n.value&&"max"===n.direction&&c({matches:!0},n),l.addEventListener("change",(e=>c(e,n)))}})(n,(e=>{t?.[`sticky${e?.slug}Disable`]&&(x(),c=!0)})),c)return}switch(o){case"top":if(a>=k.top+1+g-(w?.size||0)){if(e.style.top=`${w?.size||0}${w?.unit||"px"}`,e.style.marginTop=0,E(),m){const t=m.getBoundingClientRect().bottom-w?.size;t<=0?e.style.transform=`translateY(${t}px)`:e.style.removeProperty("transform")}}else x();break;case"bottom":const t=k.bottom+g,n=i.innerHeight;if(a>=t-n+(w?.size||0))x();else if(e.style.bottom=`${w?.size||0}${w?.unit||"px"}`,e.style.marginBottom=0,E(),m){const t=y.top+g+k.height,i=t-n-a+(w?.size||0);a>=t-n+(w?.size||0)?(E(),e.style.removeProperty("transform")):e.style.transform=`translateY(${i}px)`}break;case"scroll-up":const s=a||i.document.documentElement.scrollTop||i.document.body.scrollTop||0,o=h&&s<f;if(h=s>100,f=s,a>=k.top+g-(w?.size||0)){let t=e?.getBoundingClientRect();e.parentNode.querySelector(".gutenkit-sticky-clone")||(_.classList.add("gutenkit-sticky-clone"),_.style.visibility="hidden",e.insertAdjacentElement("afterend",_)),e.classList.add("gutenkit-sticky");const i={position:"fixed",top:`${w?.size||0}px`,width:`${t.width}px`,left:`${t.left}px`,transition:"background-color 0.3s ease-in, opacity 0.3s, visibility 0.3s, transform 0.2s ease-in-out, z-index 0.3s ease-in-out, padding 0.3s ease-in-out",marginTop:0,"--gutenkit-sticky-offset":`${w?.size||0}px`};Object.entries(i).forEach((([t,i])=>{e.style.setProperty(t,i)})),"fade"===u?e.classList.add("gutenkit-hide-fade"):e.classList.add("gutenkit-hide-slide")}else x(),e.classList.remove("gutenkit-hide-fade"),e.classList.remove("gutenkit-hide-slide"),b=1;o?(e.classList.remove("gutenkit-hide-slide"),e.classList.remove("gutenkit-hide-fade")):0===b&&("fade"===u?e.classList.add("gutenkit-hide-fade"):e.classList.add("gutenkit-hide-slide")),m&&a>y.bottom+g-(w?.size||0)&&("fade"===u?e.classList.add("gutenkit-hide-fade"):e.classList.add("gutenkit-hide-slide"))}},resize:function(){v=i.innerWidth,w=v<=768?d:v<=1024&&v>768?r:c},destroy:function(){x()}}},c=window.wp.domReady;var r=e.n(c);const d=(0,n.createHigherOrderComponent)((e=>i=>{if(i.name.includes("gutenkit")){const{clientId:n,name:s,attributes:l,isSelected:c}=i,{useDeviceType:d,hasCSS:u,useModuleStyles:k,useDeviceList:g}=window.gutenkit.helpers,{GkitStyle:p}=window.gutenkit.components,m=d(),y=g(),{stickyPosition:b}=l;(0,o.useEffect)((()=>{const e=window.frames["editor-canvas"]||window,{document:t}=e;let i;return t&&r()((()=>{const n=t.querySelector(`.${l?.blockClass}`);n&&(i=a(n,l,e,y,m),e.addEventListener("scroll",i?.start),e.addEventListener("resize",i?.resize))})),()=>{i&&(i.destroy(),e.removeEventListener("scroll",i?.start),e.removeEventListener("resize",i?.resize))}}),[n,m,c,JSON.stringify(l),y?.length]);const f=k(n,"stickyStyles",((e,t,i)=>{const{parseCSS:n,getSliderValue:s,backgroundGenerator:o,getBoxValue:l}=window.gutenkit.helpers,a=["top","scroll-up","container"];return n([[{selector:`.editor-styles-wrapper .block-editor-block-list__layout.is-root-container ${t}.gutenkit-sticky, .gutenkit ${t}.gutenkit-sticky`,background:o(e?.stickyBackground).background,"z-index":e?.stickyZIndex,...l(e?.stickyPadding,"padding")}],i=>[{selector:`.editor-styles-wrapper .block-editor-block-list__layout.is-root-container :where(${t}.gutenkit-sticky), .gutenkit :where(${t}.gutenkit-sticky)`,top:a.includes(e?.stickyPosition)?s(e?.[`stickYOffset${i}`])||0:void 0,bottom:"bottom"===e?.stickyPosition?s(e?.[`stickYOffset${i}`])||0:void 0}]],i)})(l,`.${l?.blockClass}`,y));return(0,t.createElement)(t.Fragment,null,"none"!==b&&u(f)&&(0,t.createElement)(p,{blocksCSS:f}),(0,t.createElement)(e,{...i}))}return(0,t.createElement)(e,{...i})}),"StickyEditor");(0,i.addFilter)("gutenkit.tabs.after-tab","gutenkit-pro/sticky/controls",l,10),(0,i.addFilter)("editor.BlockEdit","gutenkit-pro/sticky/edit",d,10)})();