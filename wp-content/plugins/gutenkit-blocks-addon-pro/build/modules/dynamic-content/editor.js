(()=>{var e={6942:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=c(e,l(n)))}return e}function l(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=c(t,n));return t}function c(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,n),l.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.domReady;var t=n.n(e);const a=window.wp.i18n,o=window.React,l=window.wp.blockEditor,c=window.wp.element,r=window.wp.data,i=window.wp.components,s=window.wp.richText,m=(0,c.createContext)(null),p=()=>{const e=(0,c.useContext)(m);if(!e)throw new Error("useDynamicContent must be used within a DynamicContentProvider");return e},u=window.wp.primitives,d=(0,o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(u.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})),b=(0,o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(u.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),k=()=>{const{dispatch:e}=p(),{goTo:t}=(0,i.__experimentalUseNavigator)();return(0,o.createElement)(i.Button,{className:"gkit-dynamic-content-back-button",icon:b,label:(0,a.__)("Back","gutenkit-blocks-addon-pro"),iconPosition:"left",onClick:()=>{e({type:"SET_SELECTED_PATH",selectedpath:"/"}),t("/",{skipFocus:!0})},variant:"tertiary",size:"small"},(0,a.__)("Back","gutenkit-blocks-addon-pro"))},g=({setEnablePopover:e,title:t,isSidebar:n=!1})=>{const a=(0,r.select)("core/block-editor").getSelectedBlockClientId(),l=(0,c.useRef)(a),{clearSelectedBlock:s,selectBlock:m}=(0,r.dispatch)("core/block-editor");return(0,o.createElement)(i.Flex,{className:"gkit-dynamic-content-topbar"},(0,o.createElement)(i.FlexItem,null,(0,o.createElement)(k,null)),(0,o.createElement)(i.FlexItem,null,(0,o.createElement)(i.__experimentalHeading,{level:"5",weight:"400"},t)),(0,o.createElement)(i.FlexItem,null,(0,o.createElement)(i.Button,{size:"small",icon:d,className:"gkit-dynamic-content-close-button",variant:"tertiary",onClick:()=>{e(!1),n||(s(),setTimeout((()=>{m(l.current)}),100))}})))},E=()=>{const{value:e}=p();let t=(0,a.__)("Apply Image","gutenkit-blocks-addon-pro");return e&&e.isDynamicContent&&e.dynamicContentType&&e.selectedpath&&(t=(0,a.__)("Update Image","gutenkit-blocks-addon-pro")),t},_=()=>{const{value:e}=p();let t=(0,a.__)("Apply URL","gutenkit-blocks-addon-pro");return e&&e.isDynamicContent&&e.dynamicContentType&&e.selectedpath&&(t=(0,a.__)("Update URL","gutenkit-blocks-addon-pro")),t},h=()=>{const{value:e}=p();let t=(0,a.__)("Apply Text","gutenkit-blocks-addon-pro");return e&&"object"==typeof e&&(t=(0,a.__)("Update Text","gutenkit-blocks-addon-pro")),t},y=(e,t=!1)=>{const{activeAttributes:n,...o}=p();let l=(0,a.__)("Apply Format","gutenkit-blocks-addon-pro"),c=!1;if(e&&e.length>0){const r=e.some((e=>void 0!==o[e])),i=e.some((e=>void 0!==n[e]));r||i||t||(c=!0),r&&!i&&(c=!0),i&&r&&(c=e.some((e=>o[e]!==n[e])),l=(0,a.__)("Update Format","gutenkit-blocks-addon-pro"))}return{buttonText:l,hasChange:c}},f=[{value:"first_name",label:"First Name"},{value:"last_name",label:"Last Name"},{value:"user_email",label:"Email"},{value:"description",label:"Bio"},{value:"user_url",label:"Website"}],v=[{value:"user_nicename",label:"Nick Name"},{value:"user_email",label:"Email"},{value:"user_url",label:"Website"}],C=[{value:"published",label:"Published"},{value:"modified",label:"Modified"}],T=new Date,S=T.getFullYear(),F=T.getMonth()+1,x=T.getDate(),A=[{value:"F j, Y",label:`${["January","February","March","April","May","June","July","August","September","October","November","December"][F-1]} ${x}, ${S}`},{value:"Y-m-d",label:`${S}-${F}-${x}`},{value:"m/d/Y",label:`${F}/${x}/${S}`},{value:"d/m/Y",label:`${x}/${F}/${S}`},{value:"Y/m/d",label:`${S}/${F}/${x}`},{value:"custom",label:"Custom"}],P=[...A,{value:"none",label:"None"}],w=T.getHours(),D=T.getMinutes(),L=[{value:"g:i a",label:`${w}:${D} am`},{value:"g:i A",label:`${w}:${D} AM`},{value:"H:i",label:`${w}:${D}`},{value:"custom",label:"Custom"}],N=[...L,{value:"none",label:"None"}],R=window.wp.apiFetch;var O=n.n(R);window.wp.url;const U=window.wp.coreData;function M(e,t,n=e.start,a=e.end){const o={start:null,end:null},{formats:l}=e;let c,r;if(!l?.length)return o;const i=l.slice(),s=i[n]?.find((({type:e})=>e===t.type)),m=i[a]?.find((({type:e})=>e===t.type)),p=i[a-1]?.find((({type:e})=>e===t.type));if(s)c=s,r=n;else if(m)c=m,r=a;else{if(!p)return o;c=p,r=a-1}const u=i[r].indexOf(c),d=[i,r,c,u];return{start:n=(n=G(...d))<0?0:n,end:a=K(...d)}}function B(e,t,n,a,o){let l=t;const c={forwards:1,backwards:-1}[o]||1,r=-1*c;for(;e[l]&&e[l][a]===n;)l+=c;return l+=r,l}const I=(e,...t)=>(...n)=>e(...n,...t),G=I(B,"backwards"),K=I(B,"forwards"),H=()=>{const{records:e,isResolving:t}=(0,U.useEntityRecords)("root","plugin");return(0,c.useMemo)((()=>{if(!t&&e)return-1!==e.findIndex((e=>e?.plugin?.includes("advanced-custom-fields")&&"active"===e?.status))}),[e,t])},$=(0,c.forwardRef)((function({icon:e,size:t=24,...n},a){return(0,c.cloneElement)(e,{width:t,height:t,...n,ref:a})})),J=(0,o.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,o.createElement)(u.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})),j=({attributes:e,symbolText:t,setEnablePopover:n,buttonText:a,onApply:l,onRemove:c,isRichText:r=!0})=>{const{fallback:m,value:u,isActive:d,name:b,onChange:k,activeAttributes:g,selectedpath:E}=p();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)("div",{className:"gkit-dynamic-content-footer"},(0,o.createElement)(i.Button,{className:"gkit-dynamic-content-apply-button",variant:"primary",onClick:()=>{if(r){((e,t,n,a,o,l)=>{const c=function(e,t){let n=e.start,a=e.end;if(t){const t=M(e,{type:"gutenkit/dynamic-content"});n=t.start,a=t.end+1}return(0,s.slice)(e,n,a)}(t,n),r=c.text;let i;if((0,s.isCollapsed)(t)&&!n){const n=(0,s.insert)(t,a);return i=(0,s.applyFormat)(n,e,t.start,t.start+a.length),o(i),void l(!1)}if(a===r)i=(0,s.applyFormat)(t,e);else{i=(0,s.create)({text:a}),i=(0,s.applyFormat)(i,e,0,a.length);const n=M(t,{type:"gutenkit/dynamic-content"}),[o,l]=(0,s.split)(t,n.start,n.start),c=(0,s.replace)(l,r,i);i=(0,s.concat)(o,c)}o(i),l(!1)})({type:b,attributes:{...e,fallback:m||""}},u,d,t,k,n)}else l()}},a),(0,o.createElement)(i.Button,{className:"gkit-dynamic-content-remove-button",variant:"primary",disabled:!(g&&g.hasOwnProperty("selectedpath")&&e.selectedpath===E||!r&&u?.isDynamicContent),onClick:()=>{r?((e,t)=>{const n=M(e,{type:"gutenkit/dynamic-content"}),[a,o]=(0,s.split)(e,n.start,n.start);t((0,s.removeFormat)((0,s.replace)(e,o.text,""),"gutenkit/dynamic-content"))})(u,k):c()}},(0,o.createElement)($,{icon:J}))))},z=({setEnablePopover:e})=>{const{GkitSelect:t,GkitText:n}=window.gutenkit.components,l=(0,r.select)("core/editor").getEditedPostAttribute("meta"),[i,s]=(0,c.useState)([]),{dispatch:m,postcustomfield:u,postcustomfieldkey:d,fallback:b}=p(),{hasChange:k,buttonText:E}=y(["postcustomfield","postcustomfieldkey","fallback"],!0);return(0,c.useEffect)((()=>{O()({path:"/gutenkit/v1/post-meta"}).then((e=>{if(e){let t=[{value:"",label:(0,a.__)("Select Custom Field","gutenkit-blocks-addon-pro")}];for(const n in e)if(Object.hasOwnProperty.call(e,n)){const a=e[n];"string"!==a.type&&"number"!==a.type&&"boolean"!==a.type||t.push({value:n,label:n})}s(t)}}))}),[l]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Custom Field","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Meta Key","gutenkit-blocks-addon-pro"),value:u,onChange:e=>m({type:"SET_CUSTOM_FIELD",postcustomfield:e}),options:i}),u?null:(0,o.createElement)(n,{label:(0,a.__)("Custom Meta Key","gutenkit-blocks-addon-pro"),value:d,onChange:e=>m({type:"SET_CUSTOM_FIELD_KEY",postcustomfieldkey:e}),isSupportDynamicContent:!1}),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:b,onChange:e=>m({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),u||d?(0,o.createElement)(j,{attributes:{selectedpath:"/postcustomfield",postcustomfield:u||"",postcustomfieldkey:d||""},symbolText:`custom_field_${u||d}`,setEnablePopover:e,buttonText:E}):null)},Y=({setEnablePopover:e})=>{const{GkitSelect:t,GkitText:n}=window.gutenkit.components,{dispatch:l,postdatetype:c,dateformat:r,customdateformat:i,fallback:s}=p(),{hasChange:m,buttonText:u}=y(["postdatetype","dateformat","customdateformat","fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Date","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Type","gutenkit-blocks-addon-pro"),options:C,value:c,onChange:e=>l({type:"SET_POST_DATE_TYPE",postdatetype:e})}),(0,o.createElement)(t,{label:(0,a.__)("Format","gutenkit-blocks-addon-pro"),options:A,value:r,onChange:e=>l({type:"SET_DATE_FORMAT",dateformat:e})}),"custom"===r&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n,{value:i,label:(0,a.__)("Custom Format","gutenkit-blocks-addon-pro"),onChange:e=>l({type:"SET_POST_DATE_CUSTOM_FORMAT",customdateformat:e}),labelBlock:"block",isSupportDynamicContent:!1}),(0,o.createElement)("span",{className:"components-base-control__help"},"Learn more about formats ",(0,o.createElement)("a",{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},"here"))),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:s,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/postdate",postdatetype:c,dateformat:r,customdateformat:"custom"===r&&i?i:""},symbolText:"post_date",setEnablePopover:e,buttonText:u}))},X=[{label:(0,a.__)("Custom Field","gutenkit-blocks-addon-pro"),path:"/postcustomfield"},{label:(0,a.__)("Date","gutenkit-blocks-addon-pro"),path:"/postdate"},{label:(0,a.__)("Excerpt","gutenkit-blocks-addon-pro"),path:"/postexcerpt"},{label:(0,a.__)("ID","gutenkit-blocks-addon-pro"),path:"/postid"},{label:(0,a.__)("Tag","gutenkit-blocks-addon-pro"),path:"/posttag"},{label:(0,a.__)("Time","gutenkit-blocks-addon-pro"),path:"/posttime"},{label:(0,a.__)("Title","gutenkit-blocks-addon-pro"),path:"/posttitle"},{label:(0,a.__)("Category","gutenkit-blocks-addon-pro"),path:"/postcategory"},{label:(0,a.__)("Comments","gutenkit-blocks-addon-pro"),path:"/postcomments"}],V=[{label:(0,a.__)("Featured Image","gutenkit-blocks-addon-pro"),path:"/featuredimage"}],W=[{label:(0,a.__)("Description","gutenkit-blocks-addon-pro"),path:"/archivedescription"},{label:(0,a.__)("Title","gutenkit-blocks-addon-pro"),path:"/archivetitle"}],q=[{label:(0,a.__)("Tagline","gutenkit-blocks-addon-pro"),path:"/sitetagline"},{label:(0,a.__)("Title","gutenkit-blocks-addon-pro"),path:"/sitetitle"},{label:(0,a.__)("Current Date Time","gutenkit-blocks-addon-pro"),path:"/currentdatetime"}],Z=[{label:(0,a.__)("Logo","gutenkit-blocks-addon-pro"),path:"/sitelogo"}],Q=[{label:(0,a.__)("Display Name","gutenkit-blocks-addon-pro"),path:"/authordisplayname"},{label:(0,a.__)("Info","gutenkit-blocks-addon-pro"),path:"/authorinfo"}],ee=[{label:(0,a.__)("Author Avatar","gutenkit-blocks-addon-pro"),path:"/authoravatar"},{label:(0,a.__)("User Avatar","gutenkit-blocks-addon-pro"),path:"/useravatar"}],te=[{label:(0,a.__)("User Name","gutenkit-blocks-addon-pro"),path:"/currentusername"},{label:(0,a.__)("Info","gutenkit-blocks-addon-pro"),path:"/currentuserinfo"}],ne=[{label:(0,a.__)("Advanced Custom Field","gutenkit-blocks-addon-pro"),path:"/acf"}],ae=[{label:(0,a.__)("Post Custom Field URL","gutenkit-blocks-addon-pro"),path:"/postcustomfield"},{label:(0,a.__)("Post URL","gutenkit-blocks-addon-pro"),path:"/posturl"}],oe=[{label:(0,a.__)("Archive URL","gutenkit-blocks-addon-pro"),path:"/archiveurl"}],le=[{label:(0,a.__)("Site URL","gutenkit-blocks-addon-pro"),path:"/siteurl"}],ce=[{label:(0,a.__)("Author URL","gutenkit-blocks-addon-pro"),path:"/authorurl"}],re=[{label:(0,a.__)("Comments URL","gutenkit-blocks-addon-pro"),path:"/commentsurl"}],ie=[{label:(0,a.__)("Advanced Custom Field","gutenkit-blocks-addon-pro"),path:"/acfimage"}],se=[{label:(0,a.__)("Advanced Custom Field","gutenkit-blocks-addon-pro"),path:"/acfurl"}],me=[{label:(0,a.__)("Popup","gutenkit-blocks-addon-pro"),path:"/popup"}],pe=()=>{const{goTo:e}=(0,i.__experimentalUseNavigator)(),t=H();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Post","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},X.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Archive","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},W.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Site","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},q.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Author","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},Q.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("User","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},te.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Others","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},ne.map(((n,a)=>(0,o.createElement)(i.Button,{disabled:"/acf"===n.path&&!t,key:a,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button acf",onClick:()=>e(n.path,{skipFocus:!0})},n.label)))))},ue=({setEnablePopover:e})=>{const{GkitNumber:t,GkitText:n}=window.gutenkit.components,{dispatch:l,excerptlength:c,fallback:r}=p(),{hasChange:i,buttonText:s}=y(["excerptlength","fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Excerpt","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Word Length","gutenkit-blocks-addon-pro"),value:c||0,onChange:e=>l({type:"SET_EXCERPT_LENGTH",excerptlength:e})}),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:r,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/postexcerpt",excerptlength:`${c||0}`},symbolText:"post_excerpt",setEnablePopover:e,buttonText:s}))},de=({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,fallback:l,value:c,isActive:r,name:i,onChange:s}=p(),{hasChange:m,buttonText:u}=y(["fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post ID","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:l,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/postid"},symbolText:"post_id",setEnablePopover:e,buttonText:u}))},be=({setEnablePopover:e})=>{const{GkitNumber:t,GkitText:n}=window.gutenkit.components,{dispatch:l,tagindex:c,fallback:r}=p(),{hasChange:i,buttonText:s}=y(["tagindex","fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Tag","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Tag Index","gutenkit-blocks-addon-pro"),value:c||0,onChange:e=>l({type:"SET_TAG_INDEX",tagindex:e}),min:0}),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:r,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/posttag",tagindex:`${c||0}`},symbolText:"post_tag",setEnablePopover:e,buttonText:s}))},ke=({setEnablePopover:e})=>{const{GkitSelect:t,GkitText:n}=window.gutenkit.components,{dispatch:l,timetype:c,timeformat:r,customtimeformat:i,fallback:s}=p(),{buttonText:m}=y(["timetype","timeformat","customtimeformat","fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Time","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Type","gutenkit-blocks-addon-pro"),options:C,value:c,onChange:e=>l({type:"SET_TIMETYPE",timetype:e})}),(0,o.createElement)(t,{label:(0,a.__)("Format","gutenkit-blocks-addon-pro"),options:L,value:r,onChange:e=>l({type:"SET_TIME_FORMAT",timeformat:e})}),"custom"===r&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n,{value:i,label:(0,a.__)("Custom Date","gutenkit-blocks-addon-pro"),onChange:e=>l({type:"SET_TIME_CUSTOM_FORMAT",customtimeformat:e}),labelBlock:"block",isSupportDynamicContent:!1}),(0,o.createElement)("span",{className:"components-base-control__help"},"Learn more about formats ",(0,o.createElement)("a",{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},"here"))),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:s,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/posttime",timetype:c,timeformat:r,customtimeformat:"custom"===r&&i?i:""},symbolText:"post_time",setEnablePopover:e,buttonText:m}))},ge=({setEnablePopover:e})=>{const{GkitNumber:t,GkitText:n}=window.gutenkit.components,{dispatch:l,categoryindex:c,fallback:r}=p(),{hasChange:i,buttonText:s}=y(["categoryindex","fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Category","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Category Index","gutenkit-blocks-addon-pro"),value:c||0,onChange:e=>l({type:"SET_CATEGORY_INDEX",categoryindex:e}),min:0}),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:r,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/postcategory",categoryindex:`${c||0}`},symbolText:"post_category",setEnablePopover:e,buttonText:s}))},Ee=({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,nocomment:l,singlecomment:c,multicomments:r,fallback:i,value:s,isActive:m,name:u,onChange:d}=p(),{hasChange:b,buttonText:k}=y(["nocomment","singlecomment","multicomments","fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Comments","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("No Comment","gutenkit-blocks-addon-pro"),value:l,onChange:e=>n({type:"SET_NOCOMMENT",nocomment:e}),isSupportDynamicContent:!1}),(0,o.createElement)(t,{label:(0,a.__)("Single Comment","gutenkit-blocks-addon-pro"),value:c,onChange:e=>n({type:"SET_SINGLECOMMENT",singlecomment:e}),isSupportDynamicContent:!1}),(0,o.createElement)(t,{label:(0,a.__)("Multiple Comments","gutenkit-blocks-addon-pro"),value:r,onChange:e=>n({type:"SET_MULTIPLECOMMENTS",multicomments:e}),help:(0,a.__)("Use {number} to display the number of comments. Example: {number} Comments","gutenkit-blocks-addon-pro"),isSupportDynamicContent:!1}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:i,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/postcomments",nocomment:l||"",singlecomment:c||"",multicomments:r||""},symbolText:"post_comments",setEnablePopover:e,buttonText:k}))},_e=({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,fallback:l}=p(),{hasChange:c,buttonText:r}=y(["fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Title","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:l,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/posttitle"},symbolText:"post_title",setEnablePopover:e,buttonText:r}))},he=({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,fallback:l}=p(),{hasChange:c,buttonText:r}=y(["fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Archive Description","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:l,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/archivedescription"},symbolText:"archive_description",setEnablePopover:e,buttonText:r}))},ye=({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,fallback:l}=p(),{hasChange:c,buttonText:r}=y(["fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Archive Title","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:l,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/archivetitle"},symbolText:"archive_title",setEnablePopover:e,buttonText:r}))},fe=({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,fallback:l,value:c,isActive:r,name:i,onChange:s}=p(),{hasChange:m,buttonText:u}=y(["fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Site Tagline","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:l,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/sitetagline"},symbolText:"site_tagline",setEnablePopover:e,buttonText:u}))},ve=({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,fallback:l}=p(),{hasChange:c,buttonText:r}=y(["fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Site Title","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:l,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/sitetitle"},symbolText:"site_title",setEnablePopover:e,buttonText:r}))},Ce=({setEnablePopover:e})=>{const{GkitSelect:t,GkitText:n}=window.gutenkit.components,{dispatch:l,currentdateformat:c,customcurrentdateformat:r,currenttimeformat:i,customcurrenttimeformat:s,fallback:m}=p(),{hasChange:u,buttonText:d}=y(["currentdateformat","customcurrentdateformat","currenttimeformat","customcurrenttimeformat","fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Current Datetime","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Date Format","gutenkit-blocks-addon-pro"),options:P,value:c,onChange:e=>l({type:"SET_CURRENT_DATE_FORMAT",currentdateformat:e})}),"custom"===c&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n,{value:r,label:(0,a.__)("Custom Date Format","gutenkit-blocks-addon-pro"),onChange:e=>l({type:"SET_CURRENT_CUSTOM_DATE_FORMAT",customcurrentdateformat:e}),labelBlock:"block",isSupportDynamicContent:!1}),(0,o.createElement)("span",{className:"components-base-control__help"},"Learn more about formats ",(0,o.createElement)("a",{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},"here"))),(0,o.createElement)(t,{label:(0,a.__)("Time Format","gutenkit-blocks-addon-pro"),options:N,value:i,onChange:e=>l({type:"SET_CURRENT_TIME_FORMAT",currenttimeformat:e})}),"custom"===i&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n,{value:s,label:(0,a.__)("Custom Time Format","gutenkit-blocks-addon-pro"),onChange:e=>l({type:"SET_CURRENT_CUSTOM_TIME_FORMAT",customcurrenttimeformat:e}),labelBlock:"block",isSupportDynamicContent:!1}),(0,o.createElement)("span",{className:"components-base-control__help"},"Learn more about formats ",(0,o.createElement)("a",{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},"here"))),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:m,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/currentdatetime",currentdateformat:c||"F j, Y",customcurrentdateformat:r||"",currenttimeformat:i||"g:i A",customcurrenttimeformat:s||""},symbolText:"site_current_datetime",setEnablePopover:e,buttonText:d}))},Te=({setEnablePopover:e})=>{const{GkitText:t,GkitSelect:n}=window.gutenkit.components,{dispatch:l,authorinfo:c,fallback:r}=p(),{hasChange:i,buttonText:s}=y(["authorinfo","fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Author Info","gutenkit-blocks-addon-pro")}),(0,o.createElement)(n,{label:(0,a.__)("Field","gutenkit-blocks-addon-pro"),options:f,value:c||"first_name",onChange:e=>l({type:"SET_AUTHOR_INFO",authorinfo:e})}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:r,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/authorinfo",authorinfo:c||"first_name"},symbolText:"author_info",setEnablePopover:e,buttonText:s}))},Se=({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,fallback:l}=p(),{hasChange:c,buttonText:r}=y(["fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Author Display Name","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:l,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/authordisplayname"},symbolText:"author_display_name",setEnablePopover:e,buttonText:r}))},Fe=({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,fallback:l}=p(),{hasChange:c,buttonText:r}=y(["fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Current User Name","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:l,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/currentusername"},symbolText:"current_username",setEnablePopover:e,buttonText:r}))},xe=({setEnablePopover:e})=>{const{GkitText:t,GkitSelect:n}=window.gutenkit.components,{dispatch:l,currentuserinfo:c,fallback:r}=p(),{hasChange:i,buttonText:s}=y(["currentuserinfo","fallback"]);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Current User Info","gutenkit-blocks-addon-pro")}),(0,o.createElement)(n,{label:(0,a.__)("Field","gutenkit-blocks-addon-pro"),options:v,value:c||"user_nicename",onChange:e=>l({type:"SET_CURRENT_USER_INFO",currentuserinfo:e})}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:r,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/currentuserinfo",currentuserinfo:c||"user_nicename"},symbolText:"current_user_info",setEnablePopover:e,buttonText:s}))},Ae=({setEnablePopover:e})=>{const{GkitText:t,GkitSelect:n}=window.gutenkit.components,{dispatch:l,acfgroup:r,acffield:i,fallback:s}=p(),{hasChange:m,buttonText:u}=y(["fallback"]),[d,b]=(0,c.useState)([]),[k,E]=(0,c.useState)([]),_=H();return(0,c.useEffect)((()=>{O()({path:"/gutenkit/v1/acf-meta/groups"}).then((e=>{e&&b([{value:"",label:(0,a.__)("Select ACF Group","gutenkit-blocks-addon-pro")},...e])})).catch((e=>{console.error(e)}))}),[]),(0,c.useEffect)((()=>{r&&O()({path:`/gutenkit/v1/acf-meta/groups/${r}`}).then((e=>{e&&E([{value:"",label:(0,a.__)("Select ACF Field","gutenkit-blocks-addon-pro")},...e.map((e=>({value:e.name,label:e.label})))])})).catch((e=>{console.error(e)}))}),[r]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Advanced Custom Field","gutenkit-blocks-addon-pro")}),_?(0,o.createElement)(o.Fragment,null,d.length>0&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n,{label:(0,a.__)("ACF Group","gutenkit-blocks-addon-pro"),value:r,onChange:e=>l({type:"SET_ACF_GROUP",acfgroup:e}),options:d}),r&&k.length>0&&(0,o.createElement)(n,{label:(0,a.__)("ACF Field","gutenkit-blocks-addon-pro"),value:i,onChange:e=>l({type:"SET_ACF_FIELD",acffield:e}),options:k})),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:s,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1})):(0,o.createElement)("p",null,(0,a.__)("Advanced Custom Field is not installed","gutenkit-blocks-addon-pro")),i&&(0,o.createElement)(j,{attributes:{selectedpath:"/acf",acfgroup:r||"",acffield:i||""},symbolText:`acf_field_${i}`,setEnablePopover:e,buttonText:u}))},Pe=(0,c.memo)((function({contentRef:e,toolbarRef:t,setEnablePopover:n,activeAttributes:a,isActive:l}){const c=(0,s.useAnchor)({editableContentElement:e?.current||t?.current}),{selectedpath:m}=a,p=(0,r.useSelect)((e=>{const{getCurrentPost:t}=e("core/editor");return t()}),[]),u=[{path:"/",component:(0,o.createElement)(pe,null)},{path:"/postcustomfield",component:(0,o.createElement)(z,{setEnablePopover:n})},{path:"/postdate",component:(0,o.createElement)(Y,{setEnablePopover:n,postData:p})},{path:"/postexcerpt",component:(0,o.createElement)(ue,{setEnablePopover:n})},{path:"/postid",component:(0,o.createElement)(de,{setEnablePopover:n})},{path:"/posttag",component:(0,o.createElement)(be,{setEnablePopover:n})},{path:"/posttime",component:(0,o.createElement)(ke,{setEnablePopover:n})},{path:"/posttitle",component:(0,o.createElement)(_e,{setEnablePopover:n})},{path:"/postcategory",component:(0,o.createElement)(ge,{setEnablePopover:n})},{path:"/postcomments",component:(0,o.createElement)(Ee,{setEnablePopover:n})},{path:"/archivedescription",component:(0,o.createElement)(he,{setEnablePopover:n})},{path:"/archivetitle",component:(0,o.createElement)(ye,{setEnablePopover:n})},{path:"/sitetagline",component:(0,o.createElement)(fe,{setEnablePopover:n})},{path:"/sitetitle",component:(0,o.createElement)(ve,{setEnablePopover:n})},{path:"/currentdatetime",component:(0,o.createElement)(Ce,{setEnablePopover:n})},{path:"/authordisplayname",component:(0,o.createElement)(Se,{setEnablePopover:n})},{path:"/authorinfo",component:(0,o.createElement)(Te,{setEnablePopover:n})},{path:"/currentusername",component:(0,o.createElement)(Fe,{setEnablePopover:n})},{path:"/currentuserinfo",component:(0,o.createElement)(xe,{setEnablePopover:n})},{path:"/acf",component:(0,o.createElement)(Ae,{setEnablePopover:n})}];return(0,o.createElement)(i.Popover,{anchor:c,placement:"bottom",offset:20,shift:!0,constrainTabbing:!0,animate:!1,className:"gkit-dynamic-content-popover-wrapper"},(0,o.createElement)("div",{className:"gkit-dynamic-content-popover"},(0,o.createElement)(i.__experimentalNavigatorProvider,{initialPath:m||"/",style:{height:"100%"}},u.map(((e,t)=>(0,o.createElement)(i.__experimentalNavigatorScreen,{key:t,path:e.path},e.component))))))})),we=(e,t)=>{switch(t.type){case"SET_CUSTOM_FIELD":return{...e,postcustomfield:t.postcustomfield};case"SET_CUSTOM_FIELD_KEY":return{...e,postcustomfieldkey:t.postcustomfieldkey};case"SET_POST_DATE_TYPE":return{...e,postdatetype:t.postdatetype};case"SET_DATE_FORMAT":return{...e,dateformat:t.dateformat};case"SET_POST_DATE_CUSTOM_FORMAT":return{...e,customdateformat:t.customdateformat};case"SET_EXCERPT_LENGTH":return{...e,excerptlength:t.excerptlength};case"SET_TAG_INDEX":return{...e,tagindex:t.tagindex};case"SET_CATEGORY_INDEX":return{...e,categoryindex:t.categoryindex};case"SET_TIMETYPE":return{...e,timetype:t.timetype};case"SET_TIME_FORMAT":return{...e,timeformat:t.timeformat};case"SET_TIME_CUSTOM_FORMAT":return{...e,customtimeformat:t.customtimeformat};case"SET_NOCOMMENT":return{...e,nocomment:t.nocomment};case"SET_SINGLECOMMENT":return{...e,singlecomment:t.singlecomment};case"SET_MULTIPLECOMMENTS":return{...e,multicomments:t.multicomments};case"SET_CURRENT_DATE_FORMAT":return{...e,currentdateformat:t.currentdateformat};case"SET_CURRENT_CUSTOM_DATE_FORMAT":return{...e,customcurrentdateformat:t.customcurrentdateformat};case"SET_CURRENT_TIME_FORMAT":return{...e,currenttimeformat:t.currenttimeformat};case"SET_CURRENT_CUSTOM_TIME_FORMAT":return{...e,customcurrenttimeformat:t.customcurrenttimeformat};case"SET_AUTHOR_INFO":return{...e,authorinfo:t.authorinfo};case"SET_CURRENT_USER_INFO":return{...e,currentuserinfo:t.currentuserinfo};case"SET_ACF_GROUP":return{...e,acfgroup:t.acfgroup};case"SET_ACF_FIELD":return{...e,acffield:t.acffield};case"SET_FALLBACK":return{...e,fallback:t.fallback};case"SET_SELECTED_PATH":return{...e,selectedpath:t.selectedpath};case"SET_FALLBACK_IMAGE":return{...e,fallbackimage:t.fallbackimage};case"SET_FALLBACK_URL":return{...e,fallbackUrl:t.fallbackUrl};case"SET_AUTHOR_LINK":return{...e,authorLinkType:t.authorLinkType};case"SET_POPUP_ACTION":return{...e,popupAction:t.popupAction};case"SET_POPUP":return{...e,popupID:t.popupID};default:return e}},De=({children:e,initialState:t})=>{const[n,a]=(0,c.useReducer)(we,t);return(0,o.createElement)(m.Provider,{value:{...n,dispatch:a}},e)},Le=(0,a.__)("Dynamic Content","gutenkit-blocks-addon"),Ne=(0,c.memo)((({isActive:e,onFocus:t,contentRef:n,...a})=>{const{selectedBlock:i}=(0,r.useSelect)((e=>({selectedBlock:e("core/block-editor").getSelectedBlock()})),[]);if(i&&!i.name.includes("gutenkit"))return null;const[s,m]=(0,c.useState)(!1),{dynamicContent:p}=window?.gutenkit?.editorIcon,u=(0,c.useRef)(null);(0,c.useEffect)((()=>{e?(m(!0),t()):m(!1)}),[e]);const d={...a.activeAttributes,value:a.value,onChange:a.onChange,postdatetype:a.activeAttributes?.postdatetype||"published",dateformat:a.activeAttributes?.dateformat||"F j, Y",timetype:a.activeAttributes?.timetype||"published",timeformat:a.activeAttributes?.timeformat||"g:i a",isActive:e,activeAttributes:a.activeAttributes,name:"gutenkit/dynamic-content"};return(0,o.createElement)(o.Fragment,null,(0,o.createElement)("div",{ref:u},(0,o.createElement)(l.RichTextToolbarButton,{name:"unknown",icon:p,title:Le,onClick:()=>m(!s),isActive:e,className:"gkit-dynamic-content-toolbar-button"})),s&&(0,o.createElement)(De,{initialState:d},(0,o.createElement)(Pe,{setEnablePopover:m,contentRef:n,isActive:e,toolbarRef:u,...a})))})),Re={name:"gutenkit/dynamic-content",title:(0,a.__)("Dynamic Content","gutenkit-blocks-addon"),attributes:{selectedpath:"selectedpath",postcustomfield:"postcustomfield",postcustomfieldkey:"postcustomfieldkey",postdatetype:"postdatetype",timetype:"timetype",excerptlength:"excerptlength",dateformat:"dateformat",customdateformat:"customdateformat",timeformat:"timeformat",customtimeformat:"customtimeformat",tagindex:"tagindex",categoryindex:"categoryindex",nocomment:"nocomment",singlecomment:"singlecomment",multiplecomments:"multiplecomments",currentdateformat:"currentdateformat",currenttimeformat:"currenttimeformat",authorinfo:"authorinfo",currentuserinfo:"currentuserinfo",acfgroup:"acfgroup",acffield:"acffield",fallback:"fallback"},tagName:"gdc",className:"gkit-dynamic-content",edit:Ne},Oe=window.wp.hooks,Ue=window.wp.compose,Me=()=>{const{goTo:e}=(0,i.__experimentalUseNavigator)(),t=H();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Post","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},V.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Site","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},Z.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Author","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},ee.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Others","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},ie.map(((n,a)=>(0,o.createElement)(i.Button,{disabled:"/acfimage"===n.path&&!t,key:a,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(n.path,{skipFocus:!0})},n.label)))))},Be=({setEnablePopover:e})=>{const{GkitMedia:t}=window.gutenkit.components,{dispatch:n,fallbackimage:l,onChange:c,value:r}=p(),i=(0,a.__)("Featured Image","gutenkit-blocks-addon-pro"),s=E();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:i,isSidebar:!0}),(0,o.createElement)(t,{label:(0,a.__)("Fallback Image","gutenkit"),labelBlock:"block",mediaTypes:["image/jpeg","image/png","image/webp"],onChange:e=>{n({type:"SET_FALLBACK_IMAGE",fallbackimage:e})},value:l,isSupportDynamicContent:!1}),(0,o.createElement)(j,{buttonText:s,isRichText:!1,onApply:()=>{const t={...r,selectedpath:"/featuredimage",dynamicLabel:i,fallbackimage:l||null,isDynamicContent:!0,dynamicContentType:"featuredimage"};c(t),e(!1)},onRemove:()=>{const t={...r,selectedpath:"/",fallbackimage:null,isDynamicContent:!1,dynamicContentType:null};c(t),e(!1)}}))},Ie=({setEnablePopover:e})=>{const{GkitMedia:t}=window.gutenkit.components,{dispatch:n,fallbackimage:l,onChange:c,value:r}=p(),i=(0,a.__)("Site Logo","gutenkit-blocks-addon-pro"),s=E();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:i,isSidebar:!0}),(0,o.createElement)(t,{label:(0,a.__)("Fallback Image","gutenkit"),labelBlock:"block",mediaTypes:["image/jpeg","image/png","image/webp"],onChange:e=>{n({type:"SET_FALLBACK_IMAGE",fallbackimage:e})},value:l,isSupportDynamicContent:!1}),(0,o.createElement)(j,{buttonText:s,isRichText:!1,onApply:()=>{const t={...r,selectedpath:"/sitelogo",fallbackimage:l||null,dynamicLabel:i,isDynamicContent:!0,dynamicContentType:"sitelogo"};c(t),e(!1)},onRemove:()=>{const t={...r,selectedpath:"/",fallbackimage:null,isDynamicContent:!1,dynamicContentType:null};c(t),e(!1)}}))},Ge=({setEnablePopover:e})=>{const{GkitMedia:t}=window.gutenkit.components,{dispatch:n,fallbackimage:l,onChange:c,value:r}=p(),i=(0,a.__)("Author Avatar","gutenkit-blocks-addon-pro"),s=E();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:i,isSidebar:!0}),(0,o.createElement)(t,{label:(0,a.__)("Fallback Image","gutenkit"),labelBlock:"block",mediaTypes:["image/jpeg","image/png","image/webp"],onChange:e=>{n({type:"SET_FALLBACK_IMAGE",fallbackimage:e})},value:l,isSupportDynamicContent:!1}),(0,o.createElement)(j,{buttonText:s,isRichText:!1,onApply:()=>{const t={...r,selectedpath:"/authoravatar",fallbackimage:l||null,dynamicLabel:i,isDynamicContent:!0,dynamicContentType:"authoravatar"};c(t),e(!1)},onRemove:()=>{const t={...r,selectedpath:"/",fallbackimage:null,isDynamicContent:!1,dynamicContentType:null};c(t),e(!1)}}))},Ke=({setEnablePopover:e})=>{const{GkitMedia:t}=window.gutenkit.components,{dispatch:n,fallbackimage:l,onChange:c,value:r}=p(),i=(0,a.__)("User Avatar","gutenkit-blocks-addon-pro"),s=E();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:i,isSidebar:!0}),(0,o.createElement)(t,{label:(0,a.__)("Fallback Image","gutenkit"),labelBlock:"block",mediaTypes:["image/jpeg","image/png","image/webp"],onChange:e=>{n({type:"SET_FALLBACK_IMAGE",fallbackimage:e})},value:l,isSupportDynamicContent:!1}),(0,o.createElement)(j,{buttonText:s,isRichText:!1,onApply:()=>{const t={...r,selectedpath:"/useravatar",fallbackimage:l||null,dynamicLabel:i,isDynamicContent:!0,dynamicContentType:"useravatar"};c(t),e(!1)},onRemove:()=>{const t={...r,selectedpath:"/",fallbackimage:null,isDynamicContent:!1,dynamicContentType:null};c(t),e(!1)}}))},He=({setEnablePopover:e})=>{const{GkitSelect:t,GkitMedia:n}=window.gutenkit.components,{dispatch:l,acfgroup:r,acffield:i,fallbackimage:s,value:m,onChange:u}=p(),d=E(),[b,k]=(0,c.useState)([]),[_,h]=(0,c.useState)([]),y=H(),f=(0,a.__)("Advanced Custom Field","gutenkit-blocks-addon-pro");return(0,c.useEffect)((()=>{O()({path:"/gutenkit/v1/acf-meta/groups"}).then((e=>{e&&k([{value:"",label:(0,a.__)("Select ACF Group","gutenkit-blocks-addon-pro")},...e])})).catch((e=>{k([]),console.error(e)}))}),[]),(0,c.useEffect)((()=>{r&&O()({path:`/gutenkit/v1/acf-meta/groups/${r}`}).then((e=>{e&&h([{value:"",label:(0,a.__)("Select ACF Field","gutenkit-blocks-addon-pro")},...e.filter((e=>"image"===e.type)).map((e=>({value:e.name,label:e.label})))])})).catch((e=>{h([]),console.error(e)}))}),[r]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:f,isSidebar:!0}),y?(0,o.createElement)(o.Fragment,null,b.length>0&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(t,{label:(0,a.__)("ACF Group","gutenkit-blocks-addon-pro"),value:r||"",onChange:e=>l({type:"SET_ACF_GROUP",acfgroup:e}),options:b}),r&&_.length>0&&(0,o.createElement)(t,{label:(0,a.__)("ACF Field","gutenkit-blocks-addon-pro"),value:i||"",onChange:e=>l({type:"SET_ACF_FIELD",acffield:e}),options:_})),(0,o.createElement)(n,{label:(0,a.__)("Fallback Image","gutenkit"),labelBlock:"block",mediaTypes:["image/jpeg","image/png","image/webp"],onChange:e=>{l({type:"SET_FALLBACK_IMAGE",fallbackimage:e})},value:s,isSupportDynamicContent:!1})):(0,o.createElement)("p",null,(0,a.__)("Advanced Custom Field is not installed","gutenkit-blocks-addon-pro")),i&&(0,o.createElement)(j,{buttonText:d,isRichText:!1,onApply:()=>{const t={...m,selectedpath:"/acfimage",fallbackimage:s||null,dynamicLabel:f,isDynamicContent:!0,dynamicContentType:"acfimage",acfgroup:r,acffield:i};u(t),e(!1)},onRemove:()=>{const t={...m,selectedpath:"/",fallbackimage:null,dynamicLabel:null,isDynamicContent:!1,dynamicContentType:null,acfgroup:null,acffield:null};u(t),e(!1)}}))},$e=(0,c.memo)((({setEnablePopover:e})=>{const{selectedpath:t}=p(),n=(0,c.useMemo)((()=>[{path:"/",component:(0,o.createElement)(Me,null)},{path:"/featuredimage",component:(0,o.createElement)(Be,{setEnablePopover:e})},{path:"/sitelogo",component:(0,o.createElement)(Ie,{setEnablePopover:e})},{path:"/authoravatar",component:(0,o.createElement)(Ge,{setEnablePopover:e})},{path:"/useravatar",component:(0,o.createElement)(Ke,{setEnablePopover:e})},{path:"/acfimage",component:(0,o.createElement)(He,{setEnablePopover:e})}]),[e]);return(0,o.createElement)("div",{className:"gkit-dynamic-content-popover gkit-tabs-container"},(0,o.createElement)(i.__experimentalNavigatorProvider,{initialPath:t||"/",style:{height:"100%"}},n.map(((e,t)=>(0,o.createElement)(i.__experimentalNavigatorScreen,{key:t,path:e.path},e.component)))))})),Je=(0,a.__)("Dynamic Content","gutenkit-blocks-addon"),je=(0,Ue.createHigherOrderComponent)((e=>t=>{const{dynamicContent:n}=window?.gutenkit?.editorIcon,[a,l]=(0,c.useState)(!1),r=(0,c.useMemo)((()=>({...t.value,onChange:t.onChange,value:t.value})),[t]),s=(0,c.useRef)(null);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(e,{...t},t.children,(0,o.createElement)(i.Button,{ref:s,className:"gkit-dynamic-content-button gkit-dynamic-content-button-media",icon:n,label:Je,onClick:()=>{l(!a)}}),a&&(0,o.createElement)(De,{initialState:r},(0,o.createElement)(i.Popover,{anchor:s.current,placement:"left",offset:30,shift:!0,constrainTabbing:!0,animate:!1,onFocusOutside:e=>{e.relatedTarget?.closest(".gutenkit-dynamic-content-button, .media-modal ")||l(!1)}},(0,o.createElement)($e,{setEnablePopover:l})))))}),"DynamicContentForMedia"),ze=({heading:e,navigatorButtons:t})=>{const{goTo:n}=(0,i.__experimentalUseNavigator)(),l=H();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)(e,"gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},t?.map(((e,t)=>(0,o.createElement)(i.Button,{key:t,disabled:"/acfurl"==e?.path&&!l,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>n(e.path)},e.label)))))},Ye=({setEnablePopover:e,path:t,contentType:n,heading:l})=>{const{GkitAdvancedUrl:c}=window.gutenkit.components,{dispatch:r,fallbackUrl:i,onChange:s,value:m}=p(),u=_();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:l,isSidebar:!0}),(0,o.createElement)(c,{label:(0,a.__)("Fallback URL","gutenkit-blocks-addon-pro"),value:i,onChange:e=>r({type:"SET_FALLBACK_URL",fallbackUrl:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{buttonText:u,isRichText:!1,onApply:()=>{const a={...m,selectedpath:t,isDynamicContent:!0,dynamicContentType:n,dynamicContentLabel:l,fallbackUrl:i};s(a),e(!1)},onRemove:()=>{const t={...m,selectedpath:"/",isDynamicContent:!1,dynamicContentType:null,dynamicContentLabel:null,fallbackUrl:""};s(t),e(!1)}}))},Xe=[{path:"/",component:()=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)(ze,{heading:(0,a.__)("Post","gutenkit-blocks-addon-pro"),navigatorButtons:ae}),(0,o.createElement)(ze,{heading:(0,a.__)("Site","gutenkit-blocks-addon-pro"),navigatorButtons:le}),(0,o.createElement)(ze,{heading:(0,a.__)("Author","gutenkit-blocks-addon-pro"),navigatorButtons:ce}),(0,o.createElement)(ze,{heading:(0,a.__)("Comments","gutenkit-blocks-addon-pro"),navigatorButtons:re}),(0,o.createElement)(ze,{heading:(0,a.__)("Archive","gutenkit-blocks-addon-pro"),navigatorButtons:oe}),(0,o.createElement)(ze,{heading:(0,a.__)("Actions","gutenkit-blocks-addon-pro"),navigatorButtons:me}),(0,o.createElement)(ze,{heading:(0,a.__)("Others","gutenkit-blocks-addon-pro"),navigatorButtons:se}))},{path:"/posturl",component:Ye,props:{contentType:"post_url",heading:"Post URL"}},{path:"/archiveurl",component:Ye,props:{contentType:"archive_url",heading:"Archive URL"}},{path:"/siteurl",component:Ye,props:{contentType:"site_url",heading:"Site URL"}},{path:"/commentsurl",component:Ye,props:{contentType:"comments_url",heading:"Comments URL"}},{path:"/postcustomfield",component:({setEnablePopover:e})=>{const{GkitSelect:t,GkitText:n,GkitAdvancedUrl:l}=window.gutenkit.components,i=(0,r.select)("core/editor").getEditedPostAttribute("meta"),[s,m]=(0,c.useState)([]),{dispatch:u,onChange:d,value:b,postcustomfield:k,postcustomfieldkey:E,fallbackUrl:h}=p(),y=_();return(0,c.useEffect)((()=>{O()({path:"/gutenkit/v1/post-meta"}).then((e=>{if(e){const t=Object.keys(e).reduce(((t,n)=>{const a=e[n];return["string"].includes(a.type)&&t.push({value:n,label:n}),t}),[{value:"",label:(0,a.__)("Select Custom Field","gutenkit-blocks-addon-pro")}]);m(t)}}))}),[i]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Custom Field","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Meta Key","gutenkit-blocks-addon-pro"),value:k,onChange:e=>u({type:"SET_CUSTOM_FIELD",postcustomfield:e}),options:s}),!k&&(0,o.createElement)(n,{label:(0,a.__)("Custom Meta Key","gutenkit-blocks-addon-pro"),value:E,onChange:e=>u({type:"SET_CUSTOM_FIELD_KEY",postcustomfieldkey:e}),isSupportDynamicContent:!1}),(0,o.createElement)(l,{label:(0,a.__)("Fallback URL","gutenkit-blocks-addon-pro"),value:h,onChange:e=>u({type:"SET_FALLBACK_URL",fallbackUrl:e}),isSupportDynamicContent:!1}),k||E?(0,o.createElement)(j,{buttonText:y,isRichText:!1,onApply:()=>{const t={...b,selectedpath:"/postcustomfield",isDynamicContent:!0,dynamicContentType:"post_custom_field_url",postcustomfield:k,postcustomfieldkey:E,fallbackUrl:h};d(t),e(!1)},onRemove:()=>{const t={...b,selectedpath:"/",isDynamicContent:!1,dynamicContentType:null,postcustomfield:"",postcustomfieldkey:"",fallbackUrl:""};d(t),e(!1)}}):null)}},{path:"/authorurl",component:({setEnablePopover:e,heading:t})=>{const{GkitSelect:n,GkitAdvancedUrl:l}=window.gutenkit.components,{dispatch:c,onChange:r,value:i,authorLinkType:s,fallbackUrl:m}=p(),u=_();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)(t,"gutenkit-blocks-addon-pro"),isSidebar:!0}),(0,o.createElement)(n,{label:(0,a.__)("Link","gutenkit-blocks-addon-pro"),options:[{label:(0,a.__)("Author Archive","gutenkit-blocks-addon-pro"),value:"archive"},{label:(0,a.__)("Author Website","gutenkit-blocks-addon-pro"),value:"url"}],value:s||"archive",onChange:e=>{c({type:"SET_AUTHOR_LINK",authorLinkType:e})}}),(0,o.createElement)(l,{label:(0,a.__)("Fallback URL","gutenkit-blocks-addon-pro"),value:m,onChange:e=>c({type:"SET_FALLBACK_URL",fallbackUrl:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{buttonText:u,isRichText:!1,onApply:()=>{const t={...i,selectedpath:"/authorurl",isDynamicContent:!0,dynamicContentType:"author_url",authorLinkType:s||"archive",fallbackUrl:m};r(t),e(!1)},onRemove:()=>{const t={...i,selectedpath:"/",isDynamicContent:!1,dynamicContentType:null,authorLinkType:null,fallbackUrl:null};r(t),e(!1)}}))}},{path:"/popup",component:({setEnablePopover:e,heading:t})=>{const{GkitSelect:n,GkitChoose:l}=window.gutenkit.components,{dispatch:i,onChange:s,value:m,popupID:u,popupAction:d}=p(),[b,k]=(0,c.useState)([]),E=_(),h=(0,r.select)("core/editor").getCurrentPostType();(0,c.useEffect)((()=>{O()({path:"/wp/v2/gutenkit-popup"}).then((e=>{const t=e.map((e=>({label:e.title.rendered,value:e.id})));k([{label:"None",value:"none"},...t])}))}),[]);const y="gutenkit-popup"==h?[{label:(0,a.__)("Close","gutenkit-blocks-addon"),value:"close"},{label:(0,a.__)("Toggle","gutenkit-blocks-addon"),value:"toggle"}]:[{label:(0,a.__)("Open","gutenkit-blocks-addon"),value:"open"},{label:(0,a.__)("Close","gutenkit-blocks-addon"),value:"close"},{label:(0,a.__)("Toggle","gutenkit-blocks-addon"),value:"toggle"}];return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)(t,"gutenkit-blocks-addon-pro"),isSidebar:!0}),(0,o.createElement)(l,{label:(0,a.__)("Popup Action","gutenkit-blocks-addon"),options:y,value:d,onChange:e=>{i({type:"SET_POPUP_ACTION",popupAction:e})}}),"close"!==d&&(0,o.createElement)(n,{label:(0,a.__)("Choose Popup","gutenkit-blocks-addon"),options:b,value:u,onChange:e=>{i({type:"SET_POPUP",popupID:e})}}),("close"===d||d&&"none"!==u&&void 0!==u)&&(0,o.createElement)(j,{buttonText:E,isRichText:!1,onApply:()=>{const t={...m,selectedpath:"/popup",isDynamicContent:!0,dynamicContentType:"popup",popupID:u||"none",popupAction:d||"open"};s(t),e(!1)},onRemove:()=>{const t={...m,selectedpath:"/",isDynamicContent:!1,dynamicContentType:null,popupID:"none",popupAction:"open"};s(t),e(!1)}}))},props:{contentType:"popup",heading:"Popup"}},{path:"/acfurl",component:({setEnablePopover:e,heading:t})=>{const{GkitSelect:n,GkitAdvancedUrl:l}=window.gutenkit.components,{dispatch:r,acfgroup:i,acffield:s,fallbackUrl:m,value:u,onChange:d}=p(),[b,k]=(0,c.useState)([]),[E,h]=(0,c.useState)([]),y=H(),f=_();return(0,c.useEffect)((()=>{O()({path:"/gutenkit/v1/acf-meta/groups"}).then((e=>{e&&k([{value:"",label:(0,a.__)("Select ACF Group","gutenkit-blocks-addon-pro")},...e])})).catch((e=>{k([]),console.error(e)}))}),[]),(0,c.useEffect)((()=>{i?O()({path:`/gutenkit/v1/acf-meta/groups/${i}`}).then((e=>{if(e&&Array.isArray(e)){const t=e.reduce(((e,t)=>(["url","text"].includes(t.type)&&e.push({value:t.name,label:t.label}),e)),[]);h([{value:"",label:(0,a.__)("Select ACF Field","gutenkit-blocks-addon-pro")},...t])}})).catch((e=>{h([]),console.error(e)})):h([])}),[i]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)(t,"gutenkit-blocks-addon-pro"),isSidebar:!0}),y?(0,o.createElement)(o.Fragment,null,b.length>0&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n,{label:(0,a.__)("ACF Group","gutenkit-blocks-addon-pro"),value:i||"",onChange:e=>r({type:"SET_ACF_GROUP",acfgroup:e}),options:b}),i&&E.length>0&&(0,o.createElement)(n,{label:(0,a.__)("ACF Field","gutenkit-blocks-addon-pro"),value:s||"",onChange:e=>r({type:"SET_ACF_FIELD",acffield:e}),options:E})),(0,o.createElement)(l,{label:(0,a.__)("Fallback URL","gutenkit-blocks-addon-pro"),value:m,onChange:e=>r({type:"SET_FALLBACK_URL",fallbackUrl:e}),isSupportDynamicContent:!1})):null,s&&(0,o.createElement)(j,{buttonText:f,isRichText:!1,onApply:()=>{const t={...u,selectedpath:"/acfurl",isDynamicContent:!0,dynamicContentType:"acf_url",acfgroup:i,acffield:s,fallbackUrl:m};d(t),e(!1)},onRemove:()=>{const t={...u,selectedpath:"/",isDynamicContent:!1,dynamicContentType:"",acfgroup:"",acffield:"",fallbackUrl:""};d(t),e(!1)}}))},props:{contentType:"acf_url",heading:"ACF URL"}}],Ve=({setEnablePopover:e})=>{const{selectedpath:t}=p();return(0,o.createElement)("div",{className:"gkit-dynamic-content-popover gkit-tabs-container"},(0,o.createElement)(i.__experimentalNavigatorProvider,{initialPath:t||"/",style:{height:"100%"}},Xe.map((({path:t,component:n,props:a={}},l)=>(0,o.createElement)(i.__experimentalNavigatorScreen,{key:l,path:t},(0,o.createElement)(n,{setEnablePopover:e,path:t,...a}))))))},We=(0,a.__)("Dynamic Content","gutenkit-blocks-addon"),qe=(0,Ue.createHigherOrderComponent)((e=>t=>{const{dynamicContent:n}=window?.gutenkit?.editorIcon,[a,l]=(0,c.useState)(!1),r=(0,c.useMemo)((()=>({...t.value,value:t.value,onChange:t.onChange})),[t]),s=(0,c.useRef)(null);return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(e,{...t},t.children,(0,o.createElement)(i.Button,{ref:s,className:"gkit-dynamic-content-button gkit-dynamic-content-button-advance-url",icon:n,label:We,onClick:()=>{l(!a)}}),a&&(0,o.createElement)(De,{initialState:r},(0,o.createElement)(i.Popover,{anchor:s.current,placement:"left",offset:235,shift:!0,constrainTabbing:!0,animate:!1,onFocusOutside:e=>{e.relatedTarget?.closest(".gutenkit-dynamic-content-button")||l(!1)}},(0,o.createElement)(Ve,{setEnablePopover:l})))))}),"DynamicContentForAdvanceUrl"),Ze=(0,Ue.createHigherOrderComponent)((e=>({value:t,isSupportDynamicContent:n,onChange:l,children:r})=>{let s=(0,c.useMemo)((()=>{return t?.dynamicContentType&&(e=t?.dynamicContentType,e.split("_").map((e=>"url"===e.toLowerCase()?e.toUpperCase():e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(" "));var e}),[t?.dynamicContentType]);return n&&t?.isDynamicContent?(0,o.createElement)(o.Fragment,null,(0,o.createElement)(e,null,(0,o.createElement)(o.Fragment,null,t?.dynamicContentType?(0,o.createElement)(o.Fragment,null,(0,o.createElement)("div",{className:"gkit-dynamic-content-preview"},(0,o.createElement)("span",null,s),(0,o.createElement)(i.Button,{className:"gkit-dynamic-content-reset-btn",label:(0,a.__)("Reset Dynamic Content","gutenkit-blocks-addon"),onClick:()=>l({...t,selectedpath:"/",isDynamicContent:!1,dynamicContentType:null}),icon:"no-alt"}))):null))):(0,o.createElement)(e,null,r)}),"AdvanceUrlContentPreview"),Qe=(0,Ue.createHigherOrderComponent)((e=>(0,c.memo)((({value:t,isSupportDynamicContent:n,onChange:s,children:m})=>{const{id:p}=(0,l.useBlockProps)(),[u,d]=(0,c.useState)(""),b=H(),k=(0,r.useSelect)((e=>{const n=window.frames["editor-canvas"]||window,{document:a}=n,o=a.getElementById(p);if(o?.dataset?.blockContext){const n=JSON.parse(o?.dataset?.blockContext),{getEditedEntityRecord:a,getMedia:l,getUser:c,getCurrentUser:r}=e("core");if("featuredimage"===t?.dynamicContentType||"authoravatar"===t?.dynamicContentType){const{featured_media:e,author:t}=a("postType",n?.postType,n?.postId);return{featuredImage:l(e),author:c(t),context:n}}if("sitelogo"===t?.dynamicContentType){const{site_logo:e}=a("root","site");return{siteLogo:l(e),context:n}}if("useravatar"===t?.dynamicContentType)return{currentUser:r(),context:n};if("acfimage"===t?.dynamicContentType)return{context:n}}}),[p,t,n]);return(0,c.useEffect)((()=>{const e=k?.context;n&&t?.isDynamicContent&&e&&"acfimage"===t?.dynamicContentType&&t?.acffield&&b&&O()({path:`/gutenkit/v1/acf-meta/value?id=${e?.postId}&field=${t?.acffield}`}).then((e=>{d(e)})).catch((e=>{d(""),console.error(e)}))}),[t,n,p,k,b]),n&&t?.isDynamicContent?(0,o.createElement)(o.Fragment,null,(0,o.createElement)(e,null,(0,o.createElement)(o.Fragment,null,t?.dynamicContentType?(0,o.createElement)(o.Fragment,null,(0,o.createElement)(i.Button,{className:"gkit-control__media-delete",icon:"no-alt",onClick:()=>{s({...t,selectedpath:"/",fallbackimage:null,dynamicLabel:null,isDynamicContent:!1,dynamicContentType:null,acfgroup:null,acffield:null})},label:(0,a.__)("Remove Dynamic Content","gutenkit-blocks-addon-pro")}),(0,o.createElement)("div",{className:"gkit-control__media-add gkit-dynamic-content-media-preview",style:{backgroundImage:"url()"}},(0,o.createElement)("h2",null,t?.dynamicLabel))):null))):(0,o.createElement)(e,null,m)}))),"MediaImagePreview"),et=Qe,tt=(0,Ue.createHigherOrderComponent)((e=>t=>{if(t.name?.includes("gutenkit")){const{name:e,attributes:n,setAttributes:a}=t,{placeholderImage:o,generatePlaceholder:l}=window.gutenkit.helpers,i=H(),s=(0,r.select)("core/blocks").getBlockType(e),m=s?.attributes;let p={};(0,c.useEffect)((()=>{if(n)for(const a of Object.keys(n)){const o=m[a];"image"===n?.[a]?.backgroundType&&(n?.[a]?.backgroundImage?.url||n?.[a]?.backgroundImage?.isDynamicContent)&&(p[a]={...n?.[a]?.backgroundImage,...o,selector:(e=o?.selector,t=n?.blockClass,e?e.replace(/{{WRAPPER}}/g,t):"")})}var e,t;if(Object.keys(p).length>0&&JSON.stringify(p)!==JSON.stringify(n?.backgroundTracker)){a({backgroundTracker:p});for(const e in n?.backgroundTracker){const t=n?.backgroundTracker[e];t?.isHover&&a({[e]:{...n?.[e],backgroundImage:{...n?.[e]?.backgroundImage,isHover:!0}}})}}}),[n]);const u=(0,c.useCallback)(((e,t,n,a)=>{e.src=t,e.alt=n,a&&(e.dataset.originalUrl=a)}),[]);(0,c.useEffect)((()=>{const e=window.frames["editor-canvas"]||window,{document:t}=e,a=t.querySelectorAll(`.wp-block.${n?.blockClass}  img[data-dynamic-content]`);a.length>0?setTimeout((()=>{a.forEach((e=>{const{dynamicContent:t}=e.dataset;if(!t)return;const{dynamicContentType:n,isDynamicContent:a,originalUrl:o,fallbackimage:c,dynamicLabel:r}=JSON.parse(t);if(!a)return;let s=l(r,800,540),m=c?JSON.parse(c)?.url:s;switch(n){case"featuredimage":case"sitelogo":case"authoravatar":case"useravatar":u(e,s,r,o);break;case"acfimage":i&&u(e,s,r,o);break;default:u(e,m,r,o)}}))}),1e3):t.querySelectorAll("[data-original-url]").forEach((e=>{e.dataset.dynamicContent||(e.src=e.dataset.originalUrl||o)}))}),[n,i,u]),(0,c.useEffect)((()=>{const e=window.frames["editor-canvas"]||window,{document:t}=e;t.querySelectorAll(`.${n?.blockClass}`)&&n?.backgroundTracker&&Object.values(n?.backgroundTracker).forEach((e=>{(e?.selector?t.querySelectorAll(`.${e?.selector}`):[]).forEach((t=>{const n=e?.isHover||!1,a=e?.dynamicLabel;let o=l(a,800,540);if(!t)return;(e=>{t.style.setProperty("--dynamic-background-image"+(n?"-hover":""),`url(${e})`)})(e?.isDynamicContent?o:e?.url)}))}))}),[n,i])}return(0,o.createElement)(e,{...t})}),"DynamicContentContextForEdit"),nt=tt,at=[{path:"/",component:()=>{const{goTo:e}=(0,i.__experimentalUseNavigator)(),t=H();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Post","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},X.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Archive","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},W.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Site","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},q.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Author","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},Q.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("User","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},te.map(((t,n)=>(0,o.createElement)(i.Button,{key:n,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button",onClick:()=>e(t.path,{skipFocus:!0})},t.label)))),(0,o.createElement)(i.__experimentalHeading,{level:"6",weight:"400"},(0,a.__)("Others","gutenkit-blocks-addon-pro")),(0,o.createElement)("div",{className:"gutenkit-dynamic-content-buttons"},ne.map(((n,a)=>(0,o.createElement)(i.Button,{disabled:"/acf"===n.path&&!t,key:a,variant:"tertiary",size:"small",className:"gutenkit-dynamic-content-button acf",onClick:()=>e(n.path,{skipFocus:!0})},n.label)))))}},{path:"/postcustomfield",component:({setEnablePopover:e})=>{const{GkitSelect:t,GkitText:n}=window.gutenkit.components,l=(0,r.select)("core/editor").getEditedPostAttribute("meta"),[i,s]=(0,c.useState)([]),{dispatch:m,postcustomfield:u,postcustomfieldkey:d,fallback:b,onChange:k}=p(),E=h();return(0,c.useEffect)((()=>{O()({path:"/gutenkit/v1/post-meta"}).then((e=>{if(e){let t=[{value:"",label:(0,a.__)("Select Custom Field","gutenkit-blocks-addon-pro")}];for(const n in e)if(Object.hasOwnProperty.call(e,n)){const a=e[n];"string"!==a.type&&"number"!==a.type&&"boolean"!==a.type||t.push({value:n,label:n})}s(t)}}))}),[l]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Custom Field","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Meta Key","gutenkit-blocks-addon-pro"),value:u,onChange:e=>m({type:"SET_CUSTOM_FIELD",postcustomfield:e}),options:i}),u?null:(0,o.createElement)(n,{label:(0,a.__)("Custom Meta Key","gutenkit-blocks-addon-pro"),value:d,onChange:e=>m({type:"SET_CUSTOM_FIELD_KEY",postcustomfieldkey:e}),isSupportDynamicContent:!1}),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:b,onChange:e=>m({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),u||d?(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:E,onApply:()=>{const t={symbolText:`custom_field_${u||d}`,isDynamicContent:!0,selectedpath:"/postcustomfield",postcustomfield:u||"",postcustomfieldkey:d||"",fallback:b||""};k(JSON.stringify(t)),e(!1)},onRemove:()=>{k(null),e(!1)}}):null)}},{path:"/postdate",component:({setEnablePopover:e})=>{const{GkitSelect:t,GkitText:n}=window.gutenkit.components,{dispatch:l,onChange:c,postdatetype:r,dateformat:i,customdateformat:s,fallback:m}=p(),u=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Date","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Type","gutenkit-blocks-addon-pro"),options:C,value:r,onChange:e=>l({type:"SET_POST_DATE_TYPE",postdatetype:e})}),(0,o.createElement)(t,{label:(0,a.__)("Format","gutenkit-blocks-addon-pro"),options:A,value:i,onChange:e=>l({type:"SET_DATE_FORMAT",dateformat:e})}),"custom"===i&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n,{value:s,label:(0,a.__)("Custom Format","gutenkit-blocks-addon-pro"),onChange:e=>l({type:"SET_POST_DATE_CUSTOM_FORMAT",customdateformat:e}),labelBlock:"block",isSupportDynamicContent:!1}),(0,o.createElement)("span",{className:"components-base-control__help"},"Learn more about formats ",(0,o.createElement)("a",{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},"here"))),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:m,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:u,onApply:()=>{const t={isDynamicContent:!0,symbolText:"post_date",fallback:m||"",selectedpath:"/postdate",postdatetype:r,dateformat:i,customdateformat:"custom"===i&&s?s:""};c(JSON.stringify(t)),e(!1)},onRemove:()=>{c(null),e(!1)}}))}},{path:"/postexcerpt",component:({setEnablePopover:e})=>{const{GkitNumber:t,GkitText:n}=window.gutenkit.components,{dispatch:l,onChange:c,excerptlength:r,fallback:i}=p(),s=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Excerpt","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Word Length","gutenkit-blocks-addon-pro"),value:r||0,onChange:e=>l({type:"SET_EXCERPT_LENGTH",excerptlength:e})}),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:i,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:s,onApply:()=>{const t={isDynamicContent:!0,symbolText:"post_excerpt",fallback:i||"",selectedpath:"/postexcerpt",excerptlength:`${r||0}`};c(JSON.stringify(t)),e(!1)},onRemove:()=>{c(null),e(!1)}}))}},{path:"/postid",component:({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,onChange:l,fallback:c}=p(),r=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post ID","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:c,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/postid"},symbolText:"post_id",setEnablePopover:e,buttonText:r}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:r,onApply:()=>{const t={isDynamicContent:!0,symbolText:"post_id",fallback:c||"",selectedpath:"/postid"};l(JSON.stringify(t)),e(!1)},onRemove:()=>{l(null),e(!1)}}))}},{path:"/posttag",component:({setEnablePopover:e})=>{const{GkitNumber:t,GkitText:n}=window.gutenkit.components,{dispatch:l,onChange:c,tagindex:r,fallback:i}=p(),s=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Tag","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Tag Index","gutenkit-blocks-addon-pro"),value:r||0,onChange:e=>l({type:"SET_TAG_INDEX",tagindex:e}),min:0}),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:i,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:s,onApply:()=>{const t={isDynamicContent:!0,symbolText:"post_tag",fallback:i||"",selectedpath:"/posttag",tagindex:`${r||0}`};c(JSON.stringify(t)),e(!1)},onRemove:()=>{c(null),e(!1)}}))}},{path:"/posttime",component:({setEnablePopover:e})=>{const{GkitSelect:t,GkitText:n}=window.gutenkit.components,{dispatch:l,onChange:c,timetype:r,timeformat:i,customtimeformat:s,fallback:m}=p(),{buttonText:u}=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Time","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Type","gutenkit-blocks-addon-pro"),options:C,value:r,onChange:e=>l({type:"SET_TIMETYPE",timetype:e})}),(0,o.createElement)(t,{label:(0,a.__)("Format","gutenkit-blocks-addon-pro"),options:L,value:i,onChange:e=>l({type:"SET_TIME_FORMAT",timeformat:e})}),"custom"===i&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n,{value:s,label:(0,a.__)("Custom Date","gutenkit-blocks-addon-pro"),onChange:e=>l({type:"SET_TIME_CUSTOM_FORMAT",customtimeformat:e}),labelBlock:"block",isSupportDynamicContent:!1}),(0,o.createElement)("span",{className:"components-base-control__help"},"Learn more about formats ",(0,o.createElement)("a",{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},"here"))),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:m,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:u,onApply:()=>{const t={isDynamicContent:!0,symbolText:"post_time",fallback:m||"",selectedpath:"/posttime",timetype:r,timeformat:i,customtimeformat:"custom"===i&&s?s:""};c(JSON.stringify(t)),e(!1)},onRemove:()=>{c(null),e(!1)}}))}},{path:"/posttitle",component:({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,onChange:l,fallback:c}=p(),r=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Title","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:c,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:r,onApply:()=>{const t={isDynamicContent:!0,symbolText:"post_title",fallback:c||"",selectedpath:"/posttitle"};l(JSON.stringify(t)),e(!1)},onRemove:()=>{l(null),e(!1)}}))}},{path:"/postcategory",component:({setEnablePopover:e})=>{const{GkitNumber:t,GkitText:n}=window.gutenkit.components,{dispatch:l,onChange:c,categoryindex:r,fallback:i}=p(),s=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Category","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Category Index","gutenkit-blocks-addon-pro"),value:r||0,onChange:e=>l({type:"SET_CATEGORY_INDEX",categoryindex:e}),min:0}),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:i,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:s,onApply:()=>{const t={isDynamicContent:!0,selectedpath:"/postcategory",symbolText:"post_category",categoryindex:`${r||0}`,fallback:i||""};c(JSON.stringify(t)),e(!1)},onRemove:()=>{c(null),e(!1)}}))}},{path:"/postcomments",component:({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,nocomment:l,singlecomment:c,multicomments:r,fallback:i,value:s,isActive:m,name:u,onChange:d}=p(),b=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Post Comments","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("No Comment","gutenkit-blocks-addon-pro"),value:l,onChange:e=>n({type:"SET_NOCOMMENT",nocomment:e}),isSupportDynamicContent:!1}),(0,o.createElement)(t,{label:(0,a.__)("Single Comment","gutenkit-blocks-addon-pro"),value:c,onChange:e=>n({type:"SET_SINGLECOMMENT",singlecomment:e}),isSupportDynamicContent:!1}),(0,o.createElement)(t,{label:(0,a.__)("Multiple Comments","gutenkit-blocks-addon-pro"),value:r,onChange:e=>n({type:"SET_MULTIPLECOMMENTS",multicomments:e}),help:(0,a.__)("Use {number} to display the number of comments. Example: {number} Comments","gutenkit-blocks-addon-pro"),isSupportDynamicContent:!1}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:i,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:b,onApply:()=>{const t={isDynamicContent:!0,symbolText:"post_comments",fallback:i||"",selectedpath:"/postcomments",nocomment:l||"",singlecomment:c||"",multicomments:r||""};d(JSON.stringify(t)),e(!1)},onRemove:()=>{d(null),e(!1)}}))}},{path:"/archivedescription",component:({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,onChange:l,fallback:c}=p(),r=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Archive Description","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:c,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{attributes:{selectedpath:"/archivedescription"},symbolText:"archive_description",setEnablePopover:e,buttonText:r}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:r,onApply:()=>{const t={symbolText:"archive_description",isDynamicContent:!0,selectedpath:"/archivedescription",fallback:c||""};l(JSON.stringify(t)),e(!1)},onRemove:()=>{l(null),e(!1)}}))}},{path:"/archivetitle",component:({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,onChange:l,fallback:c}=p(),r=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Archive Title","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:c,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:r,onApply:()=>{const t={symbolText:"archive_title",isDynamicContent:!0,selectedpath:"/archivetitle",fallback:c||""};l(JSON.stringify(t)),e(!1)},onRemove:()=>{l(null),e(!1)}}))}},{path:"/sitetagline",component:({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,onChange:l,fallback:c}=p(),r=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Site Tagline","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:c,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:r,onApply:()=>{const t={isDynamicContent:!0,symbolText:"site_tagline",fallback:c||"",selectedpath:"/sitetagline"};l(JSON.stringify(t)),e(!1)},onRemove:()=>{l(null),e(!1)}}))}},{path:"/sitetitle",component:({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,onChange:l,fallback:c}=p(),r=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Site Title","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:c,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:r,onApply:()=>{const t={isDynamicContent:!0,symbolText:"site_title",fallback:c||"",selectedpath:"/sitetitle"};l(JSON.stringify(t)),e(!1)},onRemove:()=>{l(null),e(!1)}}))}},{path:"/currentdatetime",component:({setEnablePopover:e})=>{const{GkitSelect:t,GkitText:n}=window.gutenkit.components,{dispatch:l,onChange:c,currentdateformat:r,customcurrentdateformat:i,currenttimeformat:s,customcurrenttimeformat:m,fallback:u}=p(),d=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Current Datetime","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Date Format","gutenkit-blocks-addon-pro"),options:P,value:r,onChange:e=>l({type:"SET_CURRENT_DATE_FORMAT",currentdateformat:e})}),"custom"===r&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n,{value:i,label:(0,a.__)("Custom Date Format","gutenkit-blocks-addon-pro"),onChange:e=>l({type:"SET_CURRENT_CUSTOM_DATE_FORMAT",customcurrentdateformat:e}),labelBlock:"block",isSupportDynamicContent:!1}),(0,o.createElement)("span",{className:"components-base-control__help"},"Learn more about formats ",(0,o.createElement)("a",{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},"here"))),(0,o.createElement)(t,{label:(0,a.__)("Time Format","gutenkit-blocks-addon-pro"),options:N,value:s,onChange:e=>l({type:"SET_CURRENT_TIME_FORMAT",currenttimeformat:e})}),"custom"===s&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n,{value:m,label:(0,a.__)("Custom Time Format","gutenkit-blocks-addon-pro"),onChange:e=>l({type:"SET_CURRENT_CUSTOM_TIME_FORMAT",customcurrenttimeformat:e}),labelBlock:"block",isSupportDynamicContent:!1}),(0,o.createElement)("span",{className:"components-base-control__help"},"Learn more about formats ",(0,o.createElement)("a",{target:"_blank",href:"https://wordpress.org/support/article/formatting-date-and-time/"},"here"))),(0,o.createElement)(n,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:u,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:d,onApply:()=>{const t={isDynamicContent:!0,symbolText:"site_current_datetime",fallback:u||"",selectedpath:"/currentdatetime",currentdateformat:r||"F j, Y",customcurrentdateformat:i||"",currenttimeformat:s||"g:i A",customcurrenttimeformat:m||""};c(JSON.stringify(t)),e(!1)},onRemove:()=>{c(null),e(!1)}}))}},{path:"/authordisplayname",component:({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,onChange:l,fallback:c}=p(),r=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Author Display Name","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:c,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:r,onApply:()=>{const t={symbolText:"author_display_name",isDynamicContent:!0,selectedpath:"/authordisplayname",fallback:c||""};l(JSON.stringify(t)),e(!1)},onRemove:()=>{l(null),e(!1)}}))}},{path:"/authorinfo",component:({setEnablePopover:e})=>{const{GkitText:t,GkitSelect:n}=window.gutenkit.components,{dispatch:l,onChange:c,authorinfo:r,fallback:i}=p(),s=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Author Info","gutenkit-blocks-addon-pro")}),(0,o.createElement)(n,{label:(0,a.__)("Field","gutenkit-blocks-addon-pro"),options:f,value:r||"first_name",onChange:e=>l({type:"SET_AUTHOR_INFO",authorinfo:e})}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:i,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:s,onApply:()=>{const t={symbolText:"author_info",isDynamicContent:!0,selectedpath:"/authorinfo",authorinfo:r||"first_name",fallback:i||""};c(JSON.stringify(t)),e(!1)},onRemove:()=>{c(null),e(!1)}}))}},{path:"/currentusername",component:({setEnablePopover:e})=>{const{GkitText:t}=window.gutenkit.components,{dispatch:n,onChange:l,fallback:c}=p(),r=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Current User Name","gutenkit-blocks-addon-pro")}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:c,onChange:e=>n({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:r,onApply:()=>{const t={isDynamicContent:!0,symbolText:"current_username",fallback:c||"",selectedpath:"/currentusername"};l(JSON.stringify(t)),e(!1)},onRemove:()=>{l(null),e(!1)}}))}},{path:"/currentuserinfo",component:({setEnablePopover:e})=>{const{GkitText:t,GkitSelect:n}=window.gutenkit.components,{dispatch:l,onChange:c,currentuserinfo:r,fallback:i}=p(),s=h();return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Current User Info","gutenkit-blocks-addon-pro")}),(0,o.createElement)(n,{label:(0,a.__)("Field","gutenkit-blocks-addon-pro"),options:v,value:r||"user_nicename",onChange:e=>l({type:"SET_CURRENT_USER_INFO",currentuserinfo:e})}),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:i,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1}),(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:s,onApply:()=>{const t={isDynamicContent:!0,symbolText:"current_user_info",fallback:i||"",selectedpath:"/currentuserinfo",currentuserinfo:r||"user_nicename"};c(JSON.stringify(t)),e(!1)},onRemove:()=>{c(null),e(!1)}}))}},{path:"/acf",component:({setEnablePopover:e})=>{const{GkitText:t,GkitSelect:n}=window.gutenkit.components,{dispatch:l,onChange:r,acfgroup:i,acffield:s,fallback:m}=p(),u=h(),[d,b]=(0,c.useState)([]),[k,E]=(0,c.useState)([]),_=H();return(0,c.useEffect)((()=>{O()({path:"/gutenkit/v1/acf-meta/groups"}).then((e=>{e&&b([{value:"",label:(0,a.__)("Select ACF Group","gutenkit-blocks-addon-pro")},...e])})).catch((e=>{console.error(e)}))}),[]),(0,c.useEffect)((()=>{i&&O()({path:`/gutenkit/v1/acf-meta/groups/${i}`}).then((e=>{e&&E([{value:"",label:(0,a.__)("Select ACF Field","gutenkit-blocks-addon-pro")},...e.map((e=>({value:e.name,label:e.label})))])})).catch((e=>{console.error(e)}))}),[i]),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{setEnablePopover:e,title:(0,a.__)("Advanced Custom Field","gutenkit-blocks-addon-pro")}),_?(0,o.createElement)(o.Fragment,null,d.length>0&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)(n,{label:(0,a.__)("ACF Group","gutenkit-blocks-addon-pro"),value:i,onChange:e=>l({type:"SET_ACF_GROUP",acfgroup:e}),options:d}),i&&k.length>0&&(0,o.createElement)(n,{label:(0,a.__)("ACF Field","gutenkit-blocks-addon-pro"),value:s,onChange:e=>l({type:"SET_ACF_FIELD",acffield:e}),options:k})),(0,o.createElement)(t,{label:(0,a.__)("Fallback","gutenkit-blocks-addon-pro"),value:m,onChange:e=>l({type:"SET_FALLBACK",fallback:e}),isSupportDynamicContent:!1})):(0,o.createElement)("p",null,(0,a.__)("Advanced Custom Field is not installed","gutenkit-blocks-addon-pro")),s&&(0,o.createElement)(j,{isRichText:!1,setEnablePopover:e,buttonText:u,onApply:()=>{const t={symbolText:`acf_field_${s}`,isDynamicContent:!0,selectedpath:"/acf",acfgroup:i||"",acffield:s||"",fallback:m||""};r(JSON.stringify(t)),e(!1)},onRemove:()=>{r(null),e(!1)}}))}}],ot=({setEnablePopover:e})=>{const{value:t}=p(),n=t?.selectedpath||"/";return(0,o.createElement)("div",{className:"gkit-dynamic-content-popover"},(0,o.createElement)(i.__experimentalNavigatorProvider,{initialPath:n,style:{height:"100%"}},at.map((({path:t,component:n},a)=>(0,o.createElement)(i.__experimentalNavigatorScreen,{key:a,path:t},(0,o.createElement)(n,{setEnablePopover:e,isInputText:!0}))))))};var lt=n(6942),ct=n.n(lt);const rt=(0,Ue.createHigherOrderComponent)((e=>(0,c.memo)((t=>{const{isSupportDynamicContent:n=!0,value:l,onChange:r}=t;if(!n)return(0,o.createElement)(e,{...t});const s=(0,c.useRef)(null),m=(0,c.useMemo)((()=>{let e;try{e=JSON.parse(l)}catch(t){e=l}return{...e,value:e,onChange:r}}),[l,r]),[p,u]=(0,c.useState)(!1),d=(0,c.useMemo)((()=>window?.gutenkit?.editorIcon?.dynamicContent),[]),b=(0,c.useCallback)((()=>{u((e=>!e))}),[]),k=(0,c.useCallback)((e=>{e.relatedTarget?.closest(".gutenkit-dynamic-content-button")||u(!1)}),[]),g=(0,c.useMemo)((()=>{let e;try{e=JSON.parse(l)}catch(t){e=l}return e}),[l]);return(0,o.createElement)("div",{className:ct()("gkit-dynamic-content-wrapper",t?.type,{"has-dynamic-content-value":!!g&&"object"==typeof g})},g&&"object"==typeof g?(0,o.createElement)("div",{className:"gkit-dynamic-content-text"},(0,o.createElement)("span",{className:"gkit-dynamic-content-text-value"},g?.symbolText?.length>20?`${g.symbolText.substring(0,20)}...`:g.symbolText),(0,o.createElement)(i.Button,{className:"gkit-dynamic-content-reset-btn",label:(0,a.__)("Reset Dynamic Content","gutenkit-blocks-addon"),onClick:()=>r(null),icon:"no-alt"})):(0,o.createElement)(e,{...t}),(0,o.createElement)(i.Button,{ref:s,className:"gkit-dynamic-content-button gkit-dynamic-content-button-advance-url",icon:d,label:(0,a.__)("Dynamic Content","gutenkit-blocks-addon"),onClick:b}),p&&(0,o.createElement)(De,{initialState:m},(0,o.createElement)(i.Popover,{anchor:s.current,placement:"left",offset:240,shift:!0,constrainTabbing:!0,animate:!1,onFocusOutside:k},(0,o.createElement)(ot,{setEnablePopover:u}))))}),((e,t)=>e.value===t.value&&e.onChange===t.onChange)))),it=(0,Ue.createHigherOrderComponent)((e=>(0,c.memo)((t=>((0,c.useEffect)((()=>{const e=window.frames["editor-canvas"]||window,{document:n}=e,a=n.querySelectorAll(`#block-${t.clientId}`);a.length>0&&a.forEach((e=>{const t=n.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);let a;const o=[];for(;a=t.nextNode();){const e=a.nodeValue;if(e.includes("symbolText"))try{const t=JSON.parse(e);t?.symbolText&&o.push({node:a,newValue:t.symbolText})}catch(e){console.error("Error parsing JSON from text content:",e)}}o.forEach((({node:e,newValue:t})=>{e.nodeValue=t}))}))}),[t.clientId,t.attributes]),(0,o.createElement)(e,{...t}))))),"InputTextEdit"),st=window?.gutenkit?.screen;"widgets.php"!==st&&(t()((()=>{const{name:e,...t}=Re;(0,s.registerFormatType)(e,t)})),(0,Oe.addFilter)("gutenkit.media.extra-content","gutenkit/dynamic-content-for-media",je,10),(0,Oe.addFilter)("gutenkit.media.preview","gutenkit/dynamic-media-preview",et,10),(0,Oe.addFilter)("editor.BlockEdit","gutenkit/dynamic-content-for-media/edit",nt,10),(0,Oe.addFilter)("gutenkit.url.extra-content","gutenkit/dynamic-content-for-text",qe,10),(0,Oe.addFilter)("gutenkit.url.preview","gutenkit/dynamic-text-preview",Ze,10),(0,Oe.addFilter)("gutenkit.backgroundImage.url","gutenkit/dynamic-background-image",((e,t)=>`\n        var(\n            --dynamic-background-image${t?.isHover?"-hover":""}, \n           ${t?.isDynamicContent&&t?.dynamicContentType?"url("+t?.dynamicContentType+")":e}\n        )`),10),(0,Oe.addFilter)("gutenkit.text.extra-content","gutenkit/dynamic-content-for-input-text",rt,10),(0,Oe.addFilter)("gutenkit.textarea.extra-content","gutenkit/dynamic-content-for-input-textarea",rt,10),(0,Oe.addFilter)("editor.BlockEdit","gutenkit/dynamic-content-for-input-text/edit",it,10))})()})();