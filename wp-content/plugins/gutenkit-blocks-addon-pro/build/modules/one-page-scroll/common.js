(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{const{gsap:n,Observer:s,ScrollToPlugin:a,onePageScrollSettings:l}=window;n.registerPlugin(s,a);const i=document.querySelectorAll(".gkit-one-page-scroll");let c=0,r=!1;function d(t){const o=document.querySelectorAll(".gkit-one-page-scroll-dots li");o.forEach((e=>e.classList.remove("active"))),o[t]&&o[t].classList.add("active"),e()}if(i&&i.length){let{speed:p,animation:g,showDots:u,navigationStyle:m,navigationPosition:h,customIcon:f}=l;function v(e){let t=null,o=0;return e.forEach((e=>{const n=e.getBoundingClientRect(),s=Math.min(n.bottom,window.innerHeight)-Math.max(n.top,0);s>o&&(o=s,t=e)})),t}function w(e){e<0||e>=i.length||(r=!0,n.to(window,{duration:Number(p)/1e3,scrollTo:{y:i[e],autoKill:!1},onComplete:()=>{c=e,d(e),r=!1},ease:g}))}function y(e){const t=v(i);e.deltaY<=-100||-5===e.deltaY?(t&&!t.dataset.firstSection&&e.preventDefault(),r||w(c-1)):e.deltaY>=100||5===e.deltaY?(t&&!t.dataset.lastSection&&e.preventDefault(),r||w(c+1)):e.preventDefault()}if(i.forEach(((e,t,o)=>{e.dataset.opsIndex=t,e.dataset.opsNextIndex=t+1<o.length?t+1:null,e.dataset.opsPrevIndex=t-1>=0?t-1:null,0===t&&(e.dataset.firstSection=!0),t===o.length-1&&(e.dataset.lastSection=!0)})),s.create({type:"touch",wheelSpeed:-1,onDown:()=>!r&&w(c-1),onUp:()=>!r&&w(c+1),tolerance:0,preventDefault:!0}),window.addEventListener("wheel",y,{passive:!1}),window.addEventListener("keydown",(e=>{const t=v(i);"ArrowUp"===e.key?(t&&!t.dataset.firstSection&&e.preventDefault(),r||w(c-1)):"ArrowDown"===e.key&&(t&&!t.dataset.lastSection&&e.preventDefault(),r||w(c+1))})),window.addEventListener("resize",(()=>{r||w(c)})),u){const S=document.createElement("ul");S.classList.add("gkit-one-page-scroll-dots"),S.classList.add(`gkit-one-page-scroll-dots-${h}`),S.classList.add(`gkit-one-page-scroll-dots-${m}`),i.forEach(((e,n)=>{const s=document.createElement("li");s.classList.add("gkit-one-page-scroll-dot"),s.classList.add(`gkit-one-page-scroll-dot-${m}`),s.dataset.section=n,t(e,s),"customIcon"===m&&o(f,s),s.addEventListener("click",(e=>{const t=parseInt(e.currentTarget.dataset.section);r||t===c||w(t)})),S.appendChild(s)})),document.body.appendChild(S)}!function(){const e=new IntersectionObserver(((e,t)=>{e.forEach((e=>{e.isIntersecting&&(c=parseInt(e.target.dataset.opsIndex),d(c),t.disconnect())}))}));i.forEach((t=>{e.observe(t)}))}()}}));const e=()=>{const e=document.querySelector(".active"),t=document.querySelector(".gkit-one-page-scroll-dot-lineMove"),o=document.querySelector(".gkit-one-page-scroll-dot-dotMove");if((t||o)&&e?.getBoundingClientRect()){const{width:t,height:o,top:n,left:s}=e?.getBoundingClientRect(),a=document?.querySelector(".gkit-one-page-scroll-dots"),l=s-a?.getBoundingClientRect()?.left,i=n-a?.getBoundingClientRect()?.top;a.style.setProperty("--width",`${t}px`),a.style.setProperty("--height",`${o}px`),a.style.setProperty("--translateX",`${l}px`),a.style.setProperty("--translateY",`${i}px`)}},t=(e,t)=>{const{tooltipColor:o,tooltip:n}=JSON.parse(e.dataset.opsSettings);if(n){const e=document.createElement("span");e.classList.add("gkit-one-page-scroll-tooltip"),e.innerText=n,o&&e.setAttribute("style",(s={color:o},Object.entries(s).map((([e,t])=>`${e}: ${t};`)).join(" "))),t.appendChild(e)}var s},o=(e,t)=>{const o=(new DOMParser).parseFromString(e,"image/svg+xml").documentElement;t.appendChild(o)}})();