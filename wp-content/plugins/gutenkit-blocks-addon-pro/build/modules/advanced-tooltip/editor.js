(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var l in o)e.o(o,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:o[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,o=window.wp.hooks,l=window.wp.compose,n=window.wp.i18n,a=window.wp.primitives,i=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(a.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})),r=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(a.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})),d=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(a.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})),s=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(a.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})),c=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(a.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})),p=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(a.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})),u=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(a.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})),g=(0,t.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(a.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"})),m=(0,l.createHigherOrderComponent)((e=>o=>{const{clientId:l,tabName:a,blockName:m}=o,{GkitNumber:k,GkitBackgrounGroup:v,GkitBoxControl:b,GkitTypography:w,GkitBoxShadow:h,GkitPanelBody:_,GkitSwitcher:E,GkitText:y,GkitChoose:C,GkitTabs:T,GkitSelect:f,GkitColor:x,GkitBorderControl:S,GkitResponsive:B,GkitRangeUnit:P}=window.gutenkit.components,{getAttributes:A,setAttributes:V,boxControlUnit:G,gkitResponsiveValue:L,useDeviceType:$}=window?.gutenkit?.helpers,H=A(l),O=$(),M=(e,t,o)=>{V(l,{[e+o]:t})};return(0,t.createElement)(t.Fragment,null,"advanced"===a&&m?.includes("gutenkit")?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(e,{...o},(0,t.createElement)(_,{title:(0,n.__)("Advanced Tooltip","gutenkit-blocks-addon-pro")},(0,t.createElement)(E,{label:(0,n.__)("Enable Tooltip","gutenkit-blocks-addon-pro"),value:H?.enableTooltip,onChange:e=>V(l,{enableTooltip:e})}),H?.enableTooltip&&(0,t.createElement)(T,{type:"normal",tabs:[{name:"content",title:(0,n.__)("Settings","gutenkit-blocks-addon-pro")},{name:"style",title:(0,n.__)("Styles","gutenkit-blocks-addon-pro")}]},(e=>"content"===e.name?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(y,{value:H?.tooltipContent,label:(0,n.__)("Tooltip Content","gutenkit-blocks-addon-pro"),onChange:e=>V(l,{tooltipContent:e}),labelBlock:"block",type:"textarea",help:(0,n.__)("You can use HTML tags here.","gutenkit-blocks-addon-pro")}),(0,t.createElement)(C,{label:(0,n.__)("Position","gutenkit-blocks-addon-pro"),value:H?.tooltipPosition,options:[{label:(0,n.__)("Top","gutenkit-blocks-addon-pro"),value:"top",icon:i},{label:(0,n.__)("Bottom","gutenkit-blocks-addon-pro"),value:"bottom",icon:r},{label:(0,n.__)("Left","gutenkit-blocks-addon-pro"),value:"left",icon:d},{label:(0,n.__)("Right","gutenkit-blocks-addon-pro"),value:"right",icon:s}],onChange:e=>V(l,{tooltipPosition:e}),isToggle:!1}),(0,t.createElement)(C,{label:(0,n.__)("Placement","gutenkit-blocks-addon-pro"),value:H?.tooltipPlacement,options:[{label:(0,n.__)("Start","gutenkit-blocks-addon-pro"),value:"-start"},{label:(0,n.__)("Center","gutenkit-blocks-addon-pro"),value:""},{label:(0,n.__)("End","gutenkit-blocks-addon-pro"),value:"-end"}],onChange:e=>V(l,{tooltipPlacement:e}),isToggle:!1}),(0,t.createElement)(C,{label:(0,n.__)("Trigger","gutenkit-blocks-addon-pro"),value:H?.tooltipTrigger,options:[{label:(0,n.__)("Hover","gutenkit-blocks-addon-pro"),value:"mouseenter"},{label:(0,n.__)("Click","gutenkit-blocks-addon-pro"),value:"click"}],onChange:e=>V(l,{tooltipTrigger:e}),isToggle:!1}),(0,t.createElement)(k,{label:(0,n.__)("OffsetX (px)","gutenkit-blocks-addon-pro"),value:H?.tooltipOffset,onChange:e=>V(l,{tooltipOffset:e}),labelPosition:"side"}),(0,t.createElement)(k,{label:(0,n.__)("OffsetY (px)","gutenkit-blocks-addon-pro"),value:H?.tooltipOffsetY,onChange:e=>V(l,{tooltipOffsetY:e}),labelPosition:"side"}),(0,t.createElement)(E,{label:(0,n.__)("Enable Arrow","gutenkit-blocks-addon-pro"),value:H?.enableTooltipArrow,onChange:e=>V(l,{enableTooltipArrow:e}),help:(0,n.__)("If you disable the arrow, more background styles and border will be available.","gutenkit-blocks-addon-pro")}),(0,t.createElement)(f,{label:(0,n.__)("Animation","gutenkit-blocks-addon-pro"),value:H?.tooltipAnimation,options:[{label:(0,n.__)("Fade","gutenkit-blocks-addon-pro"),value:"fade"},{label:(0,n.__)("Scale","gutenkit-blocks-addon-pro"),value:"scale"},{label:(0,n.__)("Shift Away","gutenkit-blocks-addon-pro"),value:"shift-away"},{label:(0,n.__)("Shift Toward","gutenkit-blocks-addon-pro"),value:"shift-toward"},{label:(0,n.__)("Perspective","gutenkit-blocks-addon-pro"),value:"perspective"}],onChange:e=>V(l,{tooltipAnimation:e})}),(0,t.createElement)(k,{label:(0,n.__)("Animation Delay (ms)","gutenkit-blocks-addon"),onChange:e=>V(l,{tooltipDelay:e}),value:H?.tooltipDelay,min:0,max:1e4,step:100,labelPosition:"side"})):"style"===e.name?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(B,null,(0,t.createElement)(C,{label:(0,n.__)("Text Alignment","gutenkit-blocks-addon-pro"),value:L(H,"tooltipTextAlign",O),options:[{label:(0,n.__)("Left","gutenkit-blocks-addon-pro"),value:"left",icon:c},{label:(0,n.__)("Center","gutenkit-blocks-addon-pro"),value:"center",icon:p},{label:(0,n.__)("Right","gutenkit-blocks-addon-pro"),value:"right",icon:u},{label:(0,n.__)("Justify","gutenkit-blocks-addon-pro"),value:"justify",icon:g}],onChange:e=>M("tooltipTextAlign",e,O)})),(0,t.createElement)(B,null,(0,t.createElement)(P,{label:(0,n.__)("Width","gutenkit-blocks-addon"),value:L(H,"tooltipWidth",O),onChange:e=>M("tooltipWidth",e,O),units:{px:{min:0,max:1e3}}})),(0,t.createElement)(x,{label:(0,n.__)("Text Color","gutenkit-blocks-addon-pro"),onChange:e=>V(l,{tooltipColor:e}),value:H?.tooltipColor}),H.enableTooltipArrow?(0,t.createElement)(x,{label:(0,n.__)("Background Color","gutenkit-blocks-addon-pro"),onChange:e=>V(l,{tooltipBackgroundColor:e}),value:H?.tooltipBackgroundColor}):(0,t.createElement)(t.Fragment,null,(0,t.createElement)(v,{onChange:e=>V(l,{tooltipBackground:e}),value:H?.tooltipBackground,exclude:{video:!0}}),(0,t.createElement)(S,{label:(0,n.__)("Border ","gutenkit-blocks-addon-pro"),onChange:e=>V(l,{tooltipBorder:e}),value:H?.tooltipBorder})),(0,t.createElement)(B,null,(0,t.createElement)(b,{label:(0,n.__)("Border Radius","gutenkit-blocks-addon-pro"),units:G,values:L(H,"tooltipBorderRadius",O),onChange:e=>M("tooltipBorderRadius",e,O)})),(0,t.createElement)(B,null,(0,t.createElement)(b,{label:(0,n.__)("Padding","gutenkit-blocks-addon"),units:G,values:L(H,"tooltipPadding",O),onChange:e=>M("tooltipPadding",e,O)})),(0,t.createElement)(w,{value:H?.tooltipTypography,onChange:e=>V(l,{tooltipTypography:e})}),(0,t.createElement)(h,{value:H?.tooltipShadow,onChange:e=>V(l,{tooltipShadow:e})})):void 0))),o.children)):(0,t.createElement)(e,{...o},o.children))}),"advancedTooltipSettings"),k=window.wp.element,v=window.wp.domReady;var b=e.n(v);const w=(0,l.createHigherOrderComponent)((e=>o=>{if(o?.name?.includes("gutenkit")){const{useDeviceType:l,hasCSS:n,useFontFamilyinBlock:a,useModuleStyles:i,useDeviceList:r}=window?.gutenkit?.helpers,{clientId:d,attributes:s}=o,{enableTooltip:c,tooltipContent:p,tooltipPosition:u,tooltipPlacement:g,tooltipTrigger:m,tooltipOffset:v,tooltipOffsetY:w,enableTooltipArrow:h,tooltipAnimation:_,tooltipPadding:E,tooltipTypography:y,tooltipDelay:C}=s,[T,f]=(0,k.useState)(null),x=l(),{GkitStyle:S}=window.gutenkit.components;(0,k.useEffect)((()=>{const e=window.frames["editor-canvas"]||window,{document:t}=e;let o=null;return e&&(f(t),b()((()=>{setTimeout((()=>{const e=t.querySelector(`.${s?.blockClass}`);e&&c&&(o=((e,t,o,l,n)=>{const{tooltipContent:a,tooltipPosition:i,tooltipPlacement:r,tooltipTrigger:d,tooltipOffset:s,tooltipOffsetY:c,enableTooltipArrow:p,tooltipAnimation:u,tooltipDelay:g}=t,{computePosition:m,flip:k,shift:v,offset:b,arrow:w}=window.FloatingUIDOM,h=r?i+r:i;let _=l.querySelector(`#gkit-advanced-tooltip-${o}`),E=_?.querySelector("#arrow");function y(){e&&_&&m(e,_,{placement:h,middleware:[b({mainAxis:s||0,crossAxis:c||0}),k(),v({padding:10}),w({element:E})]}).then((({x:t,y:o,placement:n,middlewareData:a})=>{Object.assign(_.style,{left:`${t}px`,top:`${o}px`}),_.setAttribute("data-placement",i),_.setAttribute("data-animation",u),"click"===d?(setTimeout((()=>{_.classList.toggle("active"),_?.classList.contains("active")||_?.addEventListener("transitionend",(()=>{_.remove(),_=null,E=null}))}),100),l.addEventListener("click",(function(t){!_||e.contains(t.target)||_.contains(t.target)||(_.classList.remove("active"),_?.addEventListener("transitionend",(()=>{_.remove(),_=null,E=null})))}))):setTimeout((()=>{_.classList.add("active")}),100);const{x:s,y:c}=a.arrow,p={top:"bottom",right:"left",bottom:"top",left:"right"}[n.split("-")[0]],g=.1*_.clientWidth;E&&Object.assign(E.style,{left:null!=s?"-start"===r?`${g}px`:""===r?"50%":"":"",top:null!=c?"-start"===r?`${g}px`:""===r?"50%":"":"",right:null!=s&&"-end"===r?`${g}px`:"",bottom:null!=c&&"-end"===r?`${g}px`:"",[p]:"-4px"})}))}function C(){if(!n){_||(_=l.createElement("div"),_.id=`gkit-advanced-tooltip-${o}`,_.className="gkit-advanced-tooltip",l.body.appendChild(_));let e=_.querySelector(".gkit-advanced-tooltip-content");e?e.innerHTML=a:(e=l.createElement("div"),e.className="gkit-advanced-tooltip-content",e.innerHTML=a,_.appendChild(e)),p&&!E&&(E=l.createElement("div"),E.id="arrow",E.className="gkit-advanced-tooltip-arrow",_.appendChild(E))}y()}function T(){!n&&_?(_.classList.remove("active"),setTimeout((()=>{_?.addEventListener("transitionend",(()=>{_.remove(),_=null,E=null}))}),100)):n&&_&&e&&_.classList.remove("active")}return l.documentElement.style.setProperty("--tooltip-delay",`${g}ms`),"click"===d?e.addEventListener("click",C):(e.addEventListener("mouseenter",C),e.addEventListener("mouseleave",T)),{showTooltip:C,hideTooltip:T,updateTooltip:y,destroy:function(){e.removeEventListener("mouseenter",C),e.removeEventListener("mouseleave",T),e.removeEventListener("click",C)}}})(e,s,s?.blockClass,t,!0))}),100)}))),()=>{o&&o.destroy()}}),[d,x,c,p,u,g,m,v,w,h,_,E,y,C,s?.blockClass]);const B=r(),P=i(d,"tooltipStyle",((e,t,o)=>{const{parseCSS:l,backgroundGenerator:n,getBoxShadowValue:a,getSliderValue:i,getBoxValue:r,getTypographyValue:d,getBorderValue:s,getColor:c}=window.gutenkit.helpers,p=e?.enableTooltipArrow?{}:s(e?.tooltipBorder);return l([[{selector:`.editor-styles-wrapper ${t}, .gutenkit ${t}`,color:c(e?.tooltipColor),"box-shadow":a(e?.tooltipShadow),...p},{selector:`.editor-styles-wrapper ${t} .gkit-advanced-tooltip-arrow, .gutenkit ${t} .gkit-advanced-tooltip-arrow`,background:c(e?.tooltipBackgroundColor)}],o=>[{selector:`.editor-styles-wrapper ${t}, .gutenkit ${t}`,...d(e?.tooltipTypography,o),background:e?.enableTooltipArrow?c(e?.tooltipBackgroundColor):n(e?.tooltipBackground,o).background,"background-size":e?.enableTooltipArrow?void 0:n(e?.tooltipBackground,o).size,...r(e[`tooltipBorderRadius${o}`],"border-radius"),...r(e[`tooltipPadding${o}`],"padding"),width:i(e?.[`tooltipWidth${o}`])},{selector:`.editor-styles-wrapper ${t} .gkit-advanced-tooltip-content, .gutenkit ${t} .gkit-advanced-tooltip-content`,"text-align":e?.[`tooltipTextAlign${o}`]}]],o)})(s,`#gkit-advanced-tooltip-${s?.blockClass}`,B));return a([s?.tooltipTypography]),(0,t.createElement)(t.Fragment,null,c&&n(P)&&(0,t.createElement)(S,{blocksCSS:P}),(0,t.createElement)(e,{...o}),c&&T&&(0,k.createPortal)((0,t.createElement)("div",{id:`gkit-advanced-tooltip-${s?.blockClass}`,className:"gkit-advanced-tooltip"},(0,t.createElement)("div",{className:"gkit-advanced-tooltip-content",dangerouslySetInnerHTML:{__html:p}}),h&&(0,t.createElement)("div",{id:"arrow",className:"gkit-advanced-tooltip-arrow"})),T.body))}return(0,t.createElement)(e,{...o})}),"advancedTooltipEdit");(0,o.addFilter)("gutenkit.tabs.after-tab","gutenkit-pro.advancedTooltip.controls",m,10),(0,o.addFilter)("editor.BlockEdit","gutenkit-pro/advancedTooltip/edit",w,10)})();