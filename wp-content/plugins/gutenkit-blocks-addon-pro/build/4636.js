"use strict";(globalThis.webpackChunkgutenkit_blocks_addon_pro=globalThis.webpackChunkgutenkit_blocks_addon_pro||[]).push([[4636],{4636:(e,t,a)=>{a.r(t),a.d(t,{default:()=>q});var l=a(1609),n=a(7723),o=a(6087),r=a(6427),s=a(6942),i=a.n(s),c=a(7143),u=a(3582),m=a(7677);const{post:p,comments:d,user:b,terms:k}=window.gutenkit.controlIcon,g=()=>{const e=(0,c.useSelect)((e=>{const{getPostTypes:t}=e(u.store),a=[],l=t({per_page:-1})?.filter((({viewable:e,slug:t})=>e&&!a.includes(t)));return l}),[]);return{postTypesTaxonomiesMap:(0,o.useMemo)((()=>{if(e?.length)return e.reduce(((e,t)=>(e[t.slug]=t.taxonomies,e)),{})}),[e]),postTypesSelectOptions:(0,o.useMemo)((()=>(e||[]).map((({labels:e,slug:t})=>({label:e.singular_name,value:t})))),[e])}},E=[{label:"Post",value:"post",icon:(0,l.createElement)(m.A,{icon:p})},{label:"Terms",value:"terms",isDisabled:!0,icon:(0,l.createElement)(m.A,{icon:k})},{label:"Users",value:"user",isDisabled:!0,icon:(0,l.createElement)(m.A,{icon:b})},{label:"Comments",value:"comments",isDisabled:!0,icon:(0,l.createElement)(m.A,{icon:d})}];var _=a(5794),v=a.n(_),y=a(1455),h=a.n(y);const N=[{label:"Any",value:"any"},{label:"Publish",value:"publish"},{label:"Pending",value:"pending"},{label:"Draft",value:"draft"},{label:"Future",value:"future"},{label:"Private",value:"private"},{label:"Trash",value:"trash"}],C=[{label:"none",value:"none"},{label:"ID",value:"ID"},{label:"Author",value:"author"},{label:"Title",value:"title"},{label:"Name",value:"name"},{label:"Type",value:"type"},{label:"Date",value:"date"},{label:"Modified",value:"modified"},{label:"Parent",value:"parent"},{label:"Random",value:"rand"},{label:"Comment Count",value:"comment_count"},{label:"Menu Order",value:"menu_order"},{label:"Meta Value",value:"meta_value"},{label:"Meta Value Num",value:"meta_value_num"},{label:"Post In",value:"post__in"},{label:"Post Name In",value:"post_name__in"},{label:"Post Parent In",value:"post_parent__in"}],T=[{label:"CHAR",value:"CHAR"},{label:"NUMERIC",value:"NUMERIC"},{label:"BINARY",value:"BINARY"},{label:"DATE",value:"DATE"},{label:"DATETIME",value:"DATETIME"},{label:"DECIMAL",value:"DECIMAL"},{label:"SIGNED",value:"SIGNED"},{label:"UNSIGNED",value:"UNSIGNED"},{label:"TIME",value:"TIME"}],I={CHAR:[{label:"==",value:"="},{label:"!=",value:"!="},{label:"LIKE",value:"LIKE"},{label:"NOT LIKE",value:"NOT LIKE"},{label:"IN",value:"IN"},{label:"NOT IN",value:"NOT IN"},{label:"REGEXP",value:"REGEXP"}],NUMERIC:[{label:"==",value:"="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"},{label:"IN",value:"IN"},{label:"NOT IN",value:"NOT IN"}],BINARY:[{label:"==",value:"="},{label:"!=",value:"!="}],DATE:[{label:"==",value:"="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}],DATETIME:[{label:"==",value:"="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}],DECIMAL:[{label:"==",value:"="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}],SIGNED:[{label:"==",value:"="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="}],UNSIGNED:[{label:"==",value:"="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="}],TIME:[{label:"==",value:"="},{label:"!=",value:"!="},{label:">",value:">"},{label:">=",value:">="},{label:"<",value:"<"},{label:"<=",value:"<="},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}]},w=[{label:"==",value:"="},{label:"!=",value:"!="},{label:">",value:">"},{label:"<",value:"<"},{label:">=",value:">="},{label:"<=",value:"<="},{label:"LIKE",value:"LIKE"},{label:"NOT LIKE",value:"NOT LIKE"},{label:"IN",value:"IN"},{label:"NOT IN",value:"NOT IN"},{label:"BETWEEN",value:"BETWEEN"},{label:"NOT BETWEEN",value:"NOT BETWEEN"}],S=[{label:"==",value:"="},{label:"!=",value:"!="},{label:">",value:">"},{label:"<",value:"<"},{label:">=",value:">="},{label:"<=",value:"<="}];var A=a(3832),O=a(5095);function P(){return(Date.now().toString(36)+Math.random().toString(36).substring(2,8)).substring(0,8)}const f=(0,o.memo)((({repeaterFields:e=[],children:t,onChange:a,itemLabelName:s="",defaultLabel:i="Item",addUniqueId:c=!1})=>{const{isNull:u}=window.gutenkit.helpers,{cloneIcon:m,closeIcon:p}=window.gutenkit.controlIcon;return(0,l.createElement)("div",{className:"gkit-repeater"},e&&e.map(((n,d)=>{let b=((e,t,a,l)=>t&&e[t]&&e[t].trim().length>0&&e[t].length>22?e[t].substring(0,22):t&&e[t]&&e[t].trim().length>0&&e[t].length<=22?e[t]:`${l} #${a+1}`)(n,s,d,i);return(0,l.createElement)("div",{key:d,className:"gkit-repeater__item gkit-control-wrap"},(0,l.createElement)(r.PanelBody,{title:b,initialOpen:!1,className:"gkit-repeater__item__panel"},(0,l.createElement)("div",{className:"gkit-repeater__item-content"},o.Children.toArray(t).map(((t,l)=>{const r=((e,t,a)=>{if(t[a]){let l=t[a];if(!u(e?.props?.condition)){const{props:t}=e;return"parent"===t?.condition?.type?t?.condition?.name===t?.condition?.value:l[t?.condition?.name]===t?.condition?.value}return!0}})(t,e,d);if(r){const r=t?.props?.name;return(0,o.cloneElement)(t,{key:l,...r?{value:n[r],onChange:t=>((t,l,n)=>{const o=JSON.parse(JSON.stringify(e));o[t][l]=n,a(o)})(d,r,t)}:{id:n.id}})}})))),(0,l.createElement)("div",{className:"repeater-action-btns"},(0,l.createElement)(r.Button,{className:"gkit-repeater__item__clone-button gkit-repeater__item__action-button",icon:m,label:"Clone Item",tooltipPosition:"top",onClick:()=>(t=>{const l=[...e],n={...l[t]};c&&(n.id=P()),l.splice(t+1,0,n),a(l)})(d)}),(0,l.createElement)(r.Button,{className:"gkit-repeater__item__delete-button gkit-repeater__item__action-button",icon:p,label:"Delete Item",tooltipPosition:"top",onClick:()=>(t=>{const l=[...e];l.splice(t,1),a(l)})(d)})))})),(0,l.createElement)(r.Button,{className:"gkit-repeater__add-button",icon:O.A,variant:"primary",onClick:()=>{const l={};c&&(l.id=P()),o.Children.toArray(t).forEach((e=>{e.props.name&&(l[e.props.name]=e.props.default||"")})),a([...e,l])}},(0,n.__)("Add Item","gutenkit-blocks-addon")))})),x=(0,o.memo)((({value:e,onChange:t})=>{const{GkitSwitcher:a,GkitComplexSelect:r,GkitComplexSelectAsync:s}=window.gutenkit.components,[i,c]=(0,o.useState)([]),u=(0,o.useCallback)((e=>h()({path:"/wp/v2/taxonomies"}).then((t=>{let a=Object.keys(t).map((e=>{let a=t[e];return{label:a?.name,value:a?.slug,...a}}));return e&&(a=a.filter((t=>t.label.toLowerCase().includes(e.toLowerCase())))),a})).catch((e=>{console.error(e)}))),[]);return(0,o.useEffect)((()=>{const t=(0,A.addQueryArgs)("/gutenkit/v1/query-builder/taxQuery",{taxonomy:e?.taxonomy});h()({path:t}).then((e=>{const t=e.map((e=>({label:e?.name,value:e?.slug,...e})));c(t)})).catch((e=>{c([]),console.error(e)}))}),[e?.taxonomy]),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a,{label:(0,n.__)("Include Children","gutenkit-blocks-addon-pro"),value:e?.includeChildren,onChange:a=>t({...e,includeChildren:a})}),(0,l.createElement)(s,{label:(0,n.__)("Taxonomy","gutenkit-blocks-addon-pro"),value:e?.taxonomy,options:u,onChange:a=>t({...e,taxonomy:a,terms:[]}),defaultOptions:!0,cacheOptions:!0}),e?.taxonomy&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r,{label:(0,n.__)("Terms","gutenkit-blocks-addon-pro"),value:e?.terms,options:i,defaultOptions:!0,isMulti:!0,onChange:a=>{t({...e,terms:a})}})))})),D=(...e)=>!(e.length<1)&&e.some((e=>!(null==e||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length||"string"==typeof e&&0===e.trim().length))),M=(0,o.memo)((({value:e,onChange:t})=>{const{GkitComplexSelect:a}=window.gutenkit.components;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(a,{label:(0,n.__)("Meta Type","gutenkit-blocks-addon-pro"),value:e?.metaType,options:T,isSearchable:!0,isClearable:!0,onChange:e=>t({metaType:e,metaCompare:void 0}),key:"metaType"}),e?.metaType?.value&&(0,l.createElement)(a,{label:(0,n.__)("Meta Compare","gutenkit-blocks-addon-pro"),value:e?.metaCompare,onChange:a=>t({...e,metaCompare:a}),options:(o=e?.metaType?.value,I[o]||[]),isSearchable:!0,isClearable:!0,key:"metaCompare"}));var o})),R=(0,o.memo)((({posts:e,setPosts:t})=>{const{postTypesSelectOptions:a}=g(),{GkitSwitcher:s,GkitChoose:u,GkitText:p,GkitNumber:d,GkitComplexSelect:b,GkitComplexSelectAsync:k,GkitTooltip:E}=window.gutenkit.components,{helpIcon:_}=window.gutenkit.controlIcon,{allowedMimeTypes:v}=(0,o.useMemo)((()=>{const{getSettings:e}=(0,c.select)("core/block-editor");return{allowedMimeTypes:()=>{const t=e()?.allowedMimeTypes;return t?Object.entries(t).map((([e,t])=>({label:e,value:t}))):[]}}}),[]),y=(0,o.useCallback)((e=>{const t={search:e,per_page:20},a=h()({path:(0,A.addQueryArgs)("/wp/v2/search",t)}).then((e=>{let t=e.map((e=>({label:e?.title,value:e?.id})));return t})).catch((e=>{console.error(e)}));return a}),[]),T=(0,o.useCallback)((e=>h()({path:`/wp/v2/users/?search=${e}`}).then((e=>e.map((e=>({label:e?.name,value:e?.id}))))).catch((e=>{console.error(e)}))),[]),I=(0,o.useMemo)((()=>D(e?.postType,e?.postsIn,e?.parentIn,e?.postParent,e?.postNotIn,e?.postsNotInParent)),[e?.postType,e?.postsIn,e?.parentIn,e?.postParent,e?.postNotIn,e?.postsNotInParent]),O=(0,o.useMemo)((()=>D(e?.taxRelation,e?.taxRepeaterFields)),[e?.taxRelation,e?.taxRepeaterFields]),P=(0,o.useMemo)((()=>D(e?.metaRelation,e?.metaRepeaterFields)),[e?.metaRelation,e?.metaRepeaterFields]),R=(0,o.useMemo)((()=>D(e?.dateRelation,e?.dateRepeaterFields)),[e?.dateRelation,e?.dateRepeaterFields]),B=(0,o.useMemo)((()=>D(e?.author,e?.authorName,e?.authorIn,e?.authorNotIn)),[e?.author,e?.authorName,e?.authorIn,e?.authorNotIn]),q=(0,o.useMemo)((()=>D(e?.attachmentPostType)),[e?.attachmentPostType]),F=(0,o.useMemo)((()=>D(e?.numberOfComments,e?.commentAmountCompare)),[e?.numberOfComments,e?.commentAmountCompare]),Q=(0,o.useMemo)((()=>D(e?.postStatus)),[e?.postStatus]),W=(0,o.useMemo)((()=>D(e?.hasPassword,e?.password)),[e?.hasPassword,e?.password]),G=(0,o.useMemo)((()=>D(e?.orderBy,e?.order)),[e?.orderBy,e?.order]),K=(0,o.useMemo)((()=>D(e?.postsPerPage,e?.paginationPage,e?.paginationOffset,e?.ignoreStickyPosts)),[e?.postsPerPage,e?.paginationPage,e?.paginationOffset,e?.ignoreStickyPosts]),L=(0,o.useMemo)((()=>D(e?.searchKeyword)),[e?.searchKeyword]);return(0,l.createElement)(r.TabPanel,{className:"gutenkit-query-builder-editor-tab gkit-tabs",activeClass:"gutenkit-query-builder-editor-tab-active",onSelect:()=>{},tabs:[{name:"posts",title:(0,n.__)("Posts","gutenkit-blocks-addon-pro"),className:i()("posts",{"has-value":I})},{name:"TaxonomyQuery",title:(0,n.__)("Taxonomy Query","gutenkit-blocks-addon-pro"),className:i()("taxonomy-query",{"has-value":O})},{name:"metaQuery",title:(0,n.__)("Meta Query","gutenkit-blocks-addon-pro"),className:i()("meta-query",{"has-value":P})},{name:"dateQuery",title:(0,n.__)("Date Query","gutenkit-blocks-addon-pro"),className:i()("date-query",{"has-value":R})},{name:"author",title:(0,n.__)("Author","gutenkit-blocks-addon-pro"),className:i()("author",{"has-value":B})},{name:"mimeTypes",title:(0,n.__)("Mime Types","gutenkit-blocks-addon-pro"),className:i()("mime-types",{"has-value":q})},{name:"comments",title:(0,n.__)("Comments","gutenkit-blocks-addon-pro"),className:i()("comments",{"has-value":F})},{name:"status",title:(0,n.__)("Status","gutenkit-blocks-addon-pro"),className:i()("status",{"has-value":Q})},{name:"password",title:(0,n.__)("Password","gutenkit-blocks-addon-pro"),className:i()("password",{"has-value":W})},{name:"order",title:(0,n.__)("Order","gutenkit-blocks-addon-pro"),className:i()("order",{"has-value":G})},{name:"pagination",title:(0,n.__)("Pagination","gutenkit-blocks-addon-pro"),className:i()("pagination",{"has-value":K})},{name:"search",title:(0,n.__)("Search","gutenkit-blocks-addon-pro"),className:i()("search",{"has-value":L})}]},(o=>{switch(o.name){case"posts":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Choose the types of posts to retrieve. Default is 'post'. If 'tax_query' is set, it defaults to 'any'. Accepts a string or an array.","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(b,{label:(0,n.__)("Post type","gutenkit-blocks-addon-pro"),options:a,value:e?.postType,onChange:e=>t({postType:e}),isMulti:!0,isSearchable:!0,isClearable:!0,key:"posts-postType"})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Specify the posts to retrieve. Note: Sticky posts will always be included at the top unless you use 'ignore_sticky_posts'","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(k,{label:(0,n.__)("Post In","gutenkit-blocks-addon-pro"),options:y,value:e?.postsIn,onChange:e=>t({postsIn:e}),defaultOptions:!0,isMulti:!0,isSearchable:!0,isClearable:!0,key:"posts-postsIn"})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Specify posts whose parent is in an array","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(k,{label:(0,n.__)("Parent In","gutenkit-blocks-addon-pro"),loadOptions:y,value:e?.parentIn,onChange:e=>t({parentIn:e}),cacheOptions:!0,defaultOptions:!0,isMulti:!0,isSearchable:!0,isClearable:!0,key:"posts-parentIn"})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Set to 0 to return only top-level entries.","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(d,{label:(0,n.__)("Post Parent","gutenkit-blocks-addon-pro"),value:e?.postParent,onChange:e=>t({postParent:e})})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Specify post NOT to retrieve","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(k,{label:(0,n.__)("Post Not In","gutenkit-blocks-addon-pro"),options:y,value:e?.postNotIn,onChange:e=>t({postNotIn:e}),cacheOptions:!0,defaultOptions:!0,isMulti:!0,isSearchable:!0,isClearable:!0,key:"posts-postNotIn"})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Specify posts whose parent is not in an array","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(k,{label:(0,n.__)("Not In Parent","gutenkit-blocks-addon-pro"),options:y,value:e?.postsNotInParent,onChange:e=>t({postsNotInParent:e}),cacheOptions:!0,defaultOptions:!0,isMulti:!0,isSearchable:!0,isClearable:!0,key:"posts-postsNotInParent"})));case"TaxonomyQuery":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",gap:"10px",text:(0,n.__)("Set to 'AND' or 'OR' for multiple taxonomy arrays. Do not use with a single array.","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(u,{label:(0,n.__)("Relation","gutenkit-blocks-addon-pro"),value:e?.taxRelation,onChange:e=>t({taxRelation:e}),options:[{label:(0,n.__)("AND","gutenkit-blocks-addon-pro"),value:"AND"},{label:(0,n.__)("OR","gutenkit-blocks-addon-pro"),value:"OR"}]})),(0,l.createElement)(r.Card,null,(0,l.createElement)(r.CardHeader,null,(0,n.__)("Taxonomy Query","gutenkit-blocks-addon-pro")),(0,l.createElement)(r.CardBody,null,(0,l.createElement)(f,{repeaterFields:e?.taxRepeaterFields,onChange:e=>t({taxRepeaterFields:e})},(0,l.createElement)(x,{name:"taxQuery",label:(0,n.__)("Taxonomy Query","gutenkit-blocks-addon-pro")}),(0,l.createElement)(b,{label:(0,n.__)("Operator","gutenkit-blocks-addon-pro"),name:"taxQueryOperator",options:[{label:(0,n.__)("IN","gutenkit-blocks-addon-pro"),value:"IN"},{label:(0,n.__)("NOT IN","gutenkit-blocks-addon-pro"),value:"NOT IN"},{label:(0,n.__)("AND","gutenkit-blocks-addon-pro"),value:"AND"},{label:(0,n.__)("EXISTS","gutenkit-blocks-addon-pro"),value:"EXISTS"},{label:(0,n.__)("NOT EXISTS","gutenkit-blocks-addon-pro"),value:"NOT EXISTS"}],isSearchable:!0,isClearable:!0,key:"taxQueryOperator"})))));case"metaQuery":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("AND or OR, how the sub-arrays should be compared","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(u,{label:(0,n.__)("Relation","gutenkit-blocks-addon-pro"),value:e?.metaRelation,onChange:e=>t({metaRelation:e}),options:[{label:(0,n.__)("AND","gutenkit-blocks-addon-pro"),value:"AND"},{label:(0,n.__)("OR","gutenkit-blocks-addon-pro"),value:"OR"}]})),(0,l.createElement)(r.Card,null,(0,l.createElement)(r.CardHeader,null,(0,n.__)("Meta Query","gutenkit-blocks-addon-pro")),(0,l.createElement)(r.CardBody,null,(0,l.createElement)(f,{repeaterFields:e?.metaRepeaterFields,onChange:e=>t({metaRepeaterFields:e})},(0,l.createElement)(p,{label:(0,n.__)("Meta Key","gutenkit-blocks-addon-pro"),name:"metaKey",isSupportDynamicContent:!1}),(0,l.createElement)(p,{label:(0,n.__)("Meta Value","gutenkit-blocks-addon-pro"),name:"metaValue",isSupportDynamicContent:!1}),(0,l.createElement)(M,{name:"metaQueryCompare",label:(0,n.__)("Meta Query Compare","gutenkit-blocks-addon-pro"),isSupportDynamicContent:!1})))));case"dateQuery":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("AND or OR, how the sub-arrays should be compared","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(u,{label:(0,n.__)("Relation","gutenkit-blocks-addon-pro"),value:e?.dateRelation,onChange:e=>t({dateRelation:e}),options:[{label:(0,n.__)("AND","gutenkit-blocks-addon-pro"),value:"AND"},{label:(0,n.__)("OR","gutenkit-blocks-addon-pro"),value:"OR"}]})),(0,l.createElement)(r.Card,null,(0,l.createElement)(r.CardHeader,null,(0,n.__)("Date Query","gutenkit-blocks-addon-pro")),(0,l.createElement)(r.CardBody,null,(0,l.createElement)(f,{repeaterFields:e?.dateRepeaterFields,onChange:e=>t({dateRepeaterFields:e})},(0,l.createElement)(p,{label:(0,n.__)("Year","gutenkit-blocks-addon-pro"),name:"year",isSupportDynamicContent:!1}),(0,l.createElement)(p,{label:(0,n.__)("Month","gutenkit-blocks-addon-pro"),name:"month",isSupportDynamicContent:!1}),(0,l.createElement)(p,{label:(0,n.__)("Week","gutenkit-blocks-addon-pro"),name:"week",isSupportDynamicContent:!1}),(0,l.createElement)(p,{label:(0,n.__)("Day","gutenkit-blocks-addon-pro"),name:"day",isSupportDynamicContent:!1}),(0,l.createElement)(p,{label:(0,n.__)("Hour","gutenkit-blocks-addon-pro"),name:"hour",isSupportDynamicContent:!1}),(0,l.createElement)(p,{label:(0,n.__)("Minute","gutenkit-blocks-addon-pro"),name:"minute",isSupportDynamicContent:!1}),(0,l.createElement)(p,{label:(0,n.__)("Second","gutenkit-blocks-addon-pro"),name:"second",isSupportDynamicContent:!1}),(0,l.createElement)(b,{label:(0,n.__)("Date Compare","gutenkit-blocks-addon-pro"),name:"dateCompare",options:w,isSearchable:!0,isClearable:!0,key:"dateCompare"})))));case"author":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Display posts by author using their author ID.","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(k,{label:(0,n.__)("Author","gutenkit-blocks-addon-pro"),options:T,value:e?.author,onChange:e=>t({author:e}),cacheOptions:!0,isClearable:!0,defaultOptions:!0,key:"author"})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Display posts by author using their name or ID.","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(p,{label:(0,n.__)("Author Name (User Nice Name)","gutenkit-blocks-addon-pro"),value:e?.authorName,onChange:e=>t({authorName:e}),isSupportDynamicContent:!1})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Display posts from multiple authors.","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(k,{label:(0,n.__)("Author In","gutenkit-blocks-addon-pro"),options:T,value:e?.authorIn,onChange:e=>t({authorIn:e}),cacheOptions:!0,defaultOptions:!0,isMulti:!0,key:"authorIn",isSearchable:!0,isClearable:!0})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Exclude multiple authors","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(k,{label:(0,n.__)("Author Not In","gutenkit-blocks-addon-pro"),options:T,value:e?.authorNotIn,onChange:e=>t({authorNotIn:e}),cacheOptions:!0,defaultOptions:!0,isMulti:!0,key:"authorNotIn",isSearchable:!0,isClearable:!0})));case"mimeTypes":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Specify the content you desire along with the acceptable MIME types","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(b,{label:(0,n.__)("Attachment Post Type","gutenkit-blocks-addon-pro"),value:e?.attachmentPostType,onChange:e=>t({attachmentPostType:e}),options:v(),isMulti:!0,isSearchable:!0,isClearable:!0,key:"attachmentPostType"})));case"comments":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Specify the minimum number of comments required for Custom Post Type (CPT).","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(d,{label:(0,n.__)("Number of Comments","gutenkit-blocks-addon-pro"),value:e?.numberOfComments,onChange:e=>t({numberOfComments:e})})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Specify the minimum number of comments a post must have when performing comparisons","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(b,{label:(0,n.__)("Compare Number of Comments","gutenkit-blocks-addon-pro"),options:S,value:e?.commentAmountCompare,onChange:e=>t({commentAmountCompare:e}),isSearchable:!0,isClearable:!0,key:"commentAmountCompare"})));case"status":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Retrieves posts by post status","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(b,{label:(0,n.__)("Post Status","gutenkit-blocks-addon-pro"),options:N,value:e?.postStatus,onChange:e=>t({postStatus:e}),isMulti:!0,isSearchable:!0,isClearable:!0,key:"postStatus"})));case"password":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(u,{value:e?.hasPassword,onChange:e=>t({hasPassword:e}),options:[{label:(0,n.__)("Yes","gutenkit-blocks-addon-pro"),value:"yes"},{label:(0,n.__)("No","gutenkit-blocks-addon-pro"),value:"no"},{label:(0,n.__)("Password","gutenkit-blocks-addon-pro"),value:"specific"}]}),"specific"===e?.hasPassword&&(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Display posts that are protected with a specific password.","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(p,{label:(0,n.__)("Post Password","gutenkit-blocks-addon-pro"),value:e?.postPassword,onChange:e=>t({postPassword:e}),isSupportDynamicContent:!1})));case"order":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Sort retrieved posts based on a specified parameter","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(b,{label:(0,n.__)("Order By","gutenkit-blocks-addon-pro"),options:C,value:e?.orderBy,onChange:e=>t({orderBy:e}),isClearable:!0,isSearchable:!0,key:"orderBy"})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Designate whether the order is ascending or descending","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(b,{label:(0,n.__)("Order","gutenkit-blocks-addon-pro"),options:[{label:"ASC",value:"ASC"},{label:"DESC",value:"DESC"}],value:e?.order,onChange:e=>t({order:e}),isClearable:!0,isSearchable:!0,key:"order"})));case"pagination":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Specify the number of posts to display per page","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(d,{label:(0,n.__)("Posts per page","gutenkit-blocks-addon-pro"),value:e?.postsPerPage,onChange:e=>t({postsPerPage:e})})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Specify the number of pages to display for a static front page.","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(d,{label:(0,n.__)("Page","gutenkit-blocks-addon-pro"),value:e?.paginationPage,onChange:e=>t({paginationPage:e})})),(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Specify the number of posts to display or skip over","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(d,{label:(0,n.__)("Offset","gutenkit-blocks-addon-pro"),value:e?.paginationOffset,onChange:e=>t({paginationOffset:e})})),(0,l.createElement)(s,{label:(0,n.__)("Ignore Sticky Posts","gutenkit-blocks-addon-pro"),value:e?.ignoreStickyPosts,onChange:e=>t({ignoreStickyPosts:e})}));case"search":return(0,l.createElement)("div",{className:"gkit-control-wrapper"},(0,l.createElement)(E,{placement:"top",text:(0,n.__)("Display posts based on a keyword search.","gutenkit-blocks-addon")},(0,l.createElement)(m.A,{icon:_,className:"tooltip-icon"})),(0,l.createElement)(p,{label:(0,n.__)("Search Keyword","gutenkit-blocks-addon-pro"),value:e?.searchKeyword,onChange:e=>t({searchKeyword:e}),isSupportDynamicContent:!1}))}}))})),B=(0,o.memo)((({attributes:e,setAttributes:t,setOpenQueryEditor:a})=>{const{closeIcon:o,exportIcon:s,importIcon:i}=window.gutenkit.controlIcon,{postTypesTaxonomiesMap:c,postTypesSelectOptions:u}=g(),[m,p]=((e,t,a="")=>[e?.query[a],l=>t({query:{...e?.query,[a]:{...e?.query[a],...l}}})])(e,t,"posts");return(0,l.createElement)(v(),{axis:"both",handle:".gutenkit-query-builder-editor-top-header"},(0,l.createElement)("div",{className:"gutenkit-query-builder-editor-wrapper"},(0,l.createElement)("div",{className:"gutenkit-query-builder-editor-top-header"},(0,l.createElement)("div",{className:"gutenkit-query-builder-editor-title"},(0,l.createElement)("span",{className:"gutenkit-query-builder-editor-title-text"},(0,n.__)("Query Post Editor","gutenkit-blocks-addon-pro"))),(0,l.createElement)("div",{className:"gutenkit-query-builder-editor-top-header-actions"},(0,l.createElement)(r.Button,{icon:o,className:"gutenkit-query-builder-editor-close-button",onClick:()=>a(!1),"aria-label":(0,n.__)("Close","gutenkit-blocks-addon-pro"),label:"Close",showTooltip:!0,tooltipPosition:"top"}))),(0,l.createElement)("div",{className:"gutenkit-query-builder-editor"},"post"===e?.queryType?.value?(0,l.createElement)(R,{postTypesTaxonomiesMap:c,postTypesSelectOptions:u,posts:m,setPosts:p}):null)))})),q=(0,o.memo)((({attributes:e,setAttributes:t,device:a,advancedControl:s})=>{const{GkitPanelBody:c,GkitSwitcher:u,GkitTabs:m}=window.gutenkit.components,{}=window.gutenkit.helpers,[p,d]=(0,o.useState)(!1),{pencilSmall:b}=window.gutenkit.controlIcon;return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(m,{type:"top-level",tabs:[{name:"content",title:(0,n.__)("Content","gutenkit-blocks-addon-pro")},{name:"advanced",title:(0,n.__)("Advanced","gutenkit-blocks-addon-pro")}]},(a=>{switch(a.name){case"content":return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(c,{title:(0,n.__)("Query","gutenkit-blocks-addon-pro"),initialOpen:!0},(0,l.createElement)("div",{className:"gutenkit-query-builder__query-type-label"},(0,n.__)("Query Type","gutenkit-blocks-addon-pro")),(0,l.createElement)("div",{className:"gutenkit-query-builder__query-wrap"},E.map((a=>(0,l.createElement)(r.Button,{key:a.value,className:i()("gutenkit-query-builder__query-type-btn",{"is-active":e?.queryType?.value===a.value&&!a.isDisabled,disabled:a.isDisabled}),onClick:()=>{a.isDisabled||t({queryType:a})}},(0,l.createElement)("span",{className:"btn-icon"},a.icon),(0,l.createElement)("span",{className:"btn-text"},a.label))))),(0,l.createElement)(u,{label:(0,n.__)("Inherit query from template","gutenkit-blocks-addon-pro"),help:(0,n.__)("Toggle to use the global query context that is set with the current template, such as an archive or search. Disable to customize the settings independently."),value:e?.query?.inherit,onChange:a=>t({query:{...e?.query,inherit:a}})}),e?.queryType?.value&&!e?.query?.inherit&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(r.__experimentalHStack,null,(0,l.createElement)(r.__experimentalText,{className:"gutenkit-query-builder__edit-btn-label"},(0,n.__)("Edit Query","gutenkit-blocks-addon-pro")),(0,l.createElement)(r.Button,{icon:b,onClick:()=>d(!p),className:i()("gutenkit-query-builder__edit-btn",{"is-active":p}),"aria-label":(0,n.__)("Edit Query","gutenkit-blocks-addon-pro")})))));case"advanced":return(0,l.createElement)(l.Fragment,null,s)}})),p&&(0,o.createPortal)((0,l.createElement)(B,{attributes:e,setAttributes:t,setOpenQueryEditor:d}),document.querySelector(".interface-interface-skeleton__body")))}))}}]);