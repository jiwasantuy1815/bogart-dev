(()=>{var e={9894:()=>{const e="SET_BREAKPOINT",t={breakpoint:"desktop"};wp.data.select("fpframework-breakpoints")||wp.data.registerStore("fpframework-breakpoints",{reducer:(r=t,o)=>o.type===e?{...r,breakpoint:o.breakpoint}:r,actions:{onBreakpointSet:t=>({type:e,breakpoint:t})},selectors:{getBreakpoint:e=>e.breakpoint}})},4184:(e,t)=>{var r;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var l=n.apply(null,r);l&&e.push(l)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var i in r)o.call(r,i)&&r[i]&&e.push(i)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},2703:(e,t,r)=>{"use strict";var o=r(414);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,a,l){if(l!==o){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return r.PropTypes=r,r}},5697:(e,t,r)=>{e.exports=r(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5251:(e,t,r)=>{"use strict";var o=r(9196),n=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,r){var o,s={},c=null,p=null;for(o in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(p=t.ref),t)a.call(t,o)&&!i.hasOwnProperty(o)&&(s[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===s[o]&&(s[o]=t[o]);return{$$typeof:n,type:e,key:c,ref:p,props:s,_owner:l.current}}},5893:(e,t,r)=>{"use strict";e.exports=r(5251)},9281:(e,t,r)=>{"use strict";var o=r(7889);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,a,l){if(l!==o){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return r.PropTypes=r,r}},1277:(e,t,r)=>{e.exports=r(9281)()},7889:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9196:e=>{"use strict";e.exports=window.React}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks;var t=r(9196);const o=window.wp.i18n,n=window.lodash;var a,l=new Uint8Array(16);function i(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(l)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var c=[],p=0;p<256;++p)c.push((p+256).toString(16).substr(1));const u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(c[e[t+0]]+c[e[t+1]]+c[e[t+2]]+c[e[t+3]]+"-"+c[e[t+4]]+c[e[t+5]]+"-"+c[e[t+6]]+c[e[t+7]]+"-"+c[e[t+8]]+c[e[t+9]]+"-"+c[e[t+10]]+c[e[t+11]]+c[e[t+12]]+c[e[t+13]]+c[e[t+14]]+c[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&s.test(e)}(r))throw TypeError("Stringified UUID is invalid");return r},d=function(e,t,r){var o=(e=e||{}).random||(e.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){r=r||0;for(var n=0;n<16;++n)t[r+n]=o[n];return t}return u(o)},m=window.wp.blockEditor,f=window.wp.element,b=window.wp.components,h=window.wp.data;var g=r(4184),_=r.n(g),k=r(5697),v=r.n(k);const w=window.wp.primitives,E=(0,f.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,f.createElement)(w.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})),y=(0,f.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,f.createElement)(w.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})),x=(0,f.createElement)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,f.createElement)(w.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"}));r(9894);const C=({label:e,children:r,childrenClass:o="",wrapperClass:n=""})=>{const a=[{value:"desktop",icon:(0,t.createElement)(b.Icon,{icon:E}),title:"Desktop"},{value:"tablet",icon:(0,t.createElement)(b.Icon,{icon:y}),title:"Tablet"},{value:"mobile",icon:(0,t.createElement)(b.Icon,{icon:x}),title:"Mobile"}],l=(0,h.useSelect)((e=>e("fpframework-breakpoints").getBreakpoint())),{onBreakpointSet:i}=(0,h.useDispatch)("fpframework-breakpoints"),s=a.find((e=>e.value===l));return(0,t.createElement)(b.BaseControl,{__nextHasNoMarginBottom:!0},(0,t.createElement)("div",{className:`wp-block-fpframework-responsive-control-wrap ${n}`},(0,t.createElement)(b.__experimentalHStack,{justify:"space-between",spacing:"4",className:"fpf-responsive-control-header"},e&&(0,t.createElement)(b.BaseControl.VisualLabel,{className:"fpf-responsive-control-label"},e),(0,t.createElement)(b.DropdownMenu,{icon:s.icon,label:"Select breakpoint",controls:a.map((e=>({icon:e.icon,title:e.title,isActive:e.value===l,onClick:()=>i(e.value)})))})),(0,t.createElement)("div",{className:"wp-block-fpframework-responsive-control-wrap__content"+(o?" "+o:"")},r(l))))},S=({setAttributes:e,attributeKey:r,attributes:n,label:a,breakpoint:l,positionsLabels:i=[],positions:s=["top","right","bottom","left"]})=>{const c=n[r],p=s[0],u=s[1],d=s[2],m=s[3],f=n[r]?.linked;return(0,t.createElement)("div",{className:"wp-block-fpframework-control-spacing components-base-control"},a&&(0,t.createElement)("p",{className:"wp-block-fpframework-control-spacing-label"},a),(0,t.createElement)("div",{className:"wp-block-fpframework-control-spacing-controls-wrap"},(0,t.createElement)("div",{className:"wp-block-fpframework-control-spacing-controls"},s.map(((o,n)=>{var a;return(0,t.createElement)("div",{key:n,className:"wp-block-fpframework-spacing-controls-item"},(0,t.createElement)(b.TextControl,{value:l?c?.[l]?.[o]:c?.[o],type:"number",min:-200,max:200,step:1,onChange:t=>((t,o)=>{if(l)return f?void e({[r]:{...c,[l]:{...c[l],[p]:t,[u]:t,[d]:t,[m]:t}}}):void e({[r]:{...c,[l]:{...c[l],[o]:t}}});e(f?{[r]:{...c,[p]:t,[u]:t,[d]:t,[m]:t}}:{[r]:{...c,[o]:t}})})(t,o),__nextHasNoMarginBottom:!0}),(0,t.createElement)("p",{className:"label",dangerouslySetInnerHTML:{__html:null!==(a=i[o])&&void 0!==a?a:o}}))}))),(0,t.createElement)(b.Button,{variant:f?"primary":"secondary",className:"components-toolbar__control",label:(0,o.__)("Link Values","fpf-framework"),icon:"admin-links",onClick:()=>{e({[r]:{...c,linked:!f}})}})))};var B=r(1277),O=r.n(B),T=r(5893);const P=(0,T.jsx)(w.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,T.jsx)(w.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),$=({label:e="",value:r="",defaultValue:o="",onChange:n})=>{const[a,l]=(0,f.useState)(!1),i=(0,f.useRef)(r||o),s=(0,f.useRef)(null),c=(0,f.useCallback)((e=>{s.current&&clearTimeout(s.current);let t=e;e?.rgb&&parseInt(e?.rgb?.a)<1?t=`rgb(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`:e?.hex&&(t=e.hex),i.current=t,s.current=setTimeout((()=>{n(t)}),10)}),[n]);return(0,t.createElement)(BaseControl,{label:e,__nextHasNoMarginBottom:!0,className:"firebox-color-picker-control"},(0,t.createElement)(b.__experimentalInputControl,{value:r||o,onChange:n,suffix:(0,t.createElement)(t.Fragment,null,(r||o)&&(0,t.createElement)(b.Button,{onClick:()=>n(""),icon:P,iconSize:18,variant:"tertiary"}),(0,t.createElement)("div",{onClick:()=>l(!0),style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:r||"transparent",border:"1px solid #ddd",cursor:"pointer",marginRight:"8px"}})),className:"firebox-color-picker",__next40pxDefaultSize:!0}),a&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(b.Popover,{className:"firebox-full-width-popover",position:"bottom right",onClose:()=>l(!1),onFocusOutside:()=>l(!1)},(0,t.createElement)(b.ColorPicker,{color:i.current,onChangeComplete:c,enableAlpha:!0}))))},R={attributes:O().object.isRequired,setAttributes:O().func.isRequired,attributePrefix:O().string,maxBorderWidth:O().number,showBorderRadius:O().bool,defaultValues:O().shape({color:O().string,radius:O().object,width:O().string})},L=({attributes:e,setAttributes:r,attributePrefix:n="block",title:a="",defaultValues:l={},maxBorderWidth:i=100,showBorderRadius:s=!0})=>{const c=n?e[`${n}BorderColor`]:e.borderColor,p=n?e[`${n}BorderWidth`]:e.borderWidth,u=n?e[`${n}BorderStyle`]:e.borderStyle,d=n?`${n}BorderRadius`:"borderRadius";return(0,t.createElement)(f.Fragment,null,(0,t.createElement)(b.SelectControl,{label:a,value:u,options:[{value:"none",label:(0,o.__)("None","fpf-framework")},{value:"solid",label:(0,o.__)("Solid","fpf-framework")},{value:"dotted",label:(0,o.__)("Dotted","fpf-framework")},{value:"dashed",label:(0,o.__)("Dashed","fpf-framework")},{value:"double",label:(0,o.__)("Double","fpf-framework")},{value:"groove",label:(0,o.__)("Groove","fpf-framework")},{value:"ridge",label:(0,o.__)("Ridge","fpf-framework")}],onChange:e=>{r(n?{[`${n}BorderStyle`]:e}:{borderStyle:e})}}),"none"!==u&&!!u&&(0,t.createElement)(f.Fragment,null,(0,t.createElement)($,{value:c||"",defaultValue:l.color||"",label:(0,o.__)("Border color","fpf-framework"),disableAlpha:!1,onChange:e=>{r(n?{[`${n}BorderColor`]:e}:{borderColor:e})}}),(0,t.createElement)(b.RangeControl,{label:(0,o.__)("Border Width (px)","fpf-framework"),min:0,max:i,value:p,onChange:e=>{r(n?{[`${n}BorderWidth`]:e}:{borderWidth:e})},step:1,initialPosition:l.width||0,allowReset:!0})),s&&(0,t.createElement)(C,{label:(0,o.__)("Border Radius (px)","fpf-framework")},(n=>(0,t.createElement)(S,{attributeKey:d,attributes:e,setAttributes:r,breakpoint:n,positions:["top_left","top_right","bottom_right","bottom_left"],positionsLabels:{top_left:`<div>${(0,o.__)("TOP","fpf-framework")}</div><div>${(0,o.__)("LEFT","fpf-framework")}</div>`,top_right:`<div>${(0,o.__)("TOP","fpf-framework")}</div><div>${(0,o.__)("RIGHT","fpf-framework")}</div>`,bottom_right:`<div>${(0,o.__)("BOTTOM","fpf-framework")}</div><div>${(0,o.__)("RIGHT","fpf-framework")}</div>`,bottom_left:`<div>${(0,o.__)("BOTTOM","fpf-framework")}</div><div>${(0,o.__)("LEFT","fpf-framework")}</div>`}}))))};L.propTypes=R;const I=L,N={value:O().object.isRequired,onUpdate:O().func.isRequired},M=({value:e,onUpdate:r})=>{const{type:n,top:a,left:l,spread:i,color:s,width:c}=null!=e?e:{},p=t=>{r({...e,...t})};return(0,t.createElement)(f.Fragment,null,(0,t.createElement)(b.SelectControl,{label:(0,o.__)("Type","fpf-framework"),value:n,options:[{value:"none",label:(0,o.__)("None","fpf-framework")},{value:"outset",label:(0,o.__)("Outset","fpf-framework")},{value:"inset",label:(0,o.__)("Inset","fpf-framework")}],onChange:e=>{p({type:e})},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),"none"!==n&&!!n&&(0,t.createElement)(f.Fragment,null,(0,t.createElement)($,{wrapperClass:"fpframework-gutenberg-p-t-0",value:s,defaultValue:"",label:(0,o.__)("Color","fpf-framework"),disableAlpha:!1,onChange:e=>{p({color:e})}}),(0,t.createElement)(b.RangeControl,{label:(0,o.__)("Blur (px)","fpf-framework"),min:0,max:100,value:c,onChange:e=>{p({width:e||0})},step:1,initialPosition:7,allowReset:!0}),(0,t.createElement)(b.RangeControl,{label:(0,o.__)("Spread (px)","fpf-framework"),min:0,max:100,value:i,onChange:e=>{p({spread:e||0})},step:1,initialPosition:0,allowReset:!0}),(0,t.createElement)(b.RangeControl,{label:(0,o.__)("Left (px)","fpf-framework"),min:-100,max:100,value:l,onChange:e=>{p({left:e||0})},step:1,initialPosition:0,allowReset:!0}),(0,t.createElement)(b.RangeControl,{label:(0,o.__)("Top (px)","fpf-framework"),min:-100,max:100,value:a,onChange:e=>{p({top:e||0})},step:1,initialPosition:0,allowReset:!0})))};M.propTypes=N;const D=M;async function A(e){const t=await async function(e){if("string"!=typeof e)return(0,o.__)("Location must be a string.","firebox");if(""===e.trim())return(0,o.__)("Please enter a location.","firebox");const t="https://nominatim.openstreetmap.org/search?q="+e.split(" ").map((e=>encodeURIComponent(e))).join("+")+"&format=geojson",r=await fetch(t);return r.ok&&200===r.status?r.json():(0,o.__)("An error has occured: ","firebox")+r.status}(e);if(t?.features?.length){let e=[];return t.features.forEach((t=>{e.push({latitude:String(t.geometry.coordinates[1]),longitude:String(t.geometry.coordinates[0]),properties:t.properties})})),e}return[]}const{Fill:j,Slot:z}=(0,b.createSlotFill)("FireBox_Map_Repeater_Slotfill"),V=({children:e})=>(0,t.createElement)(j,null,e);V.Slot=({fillProps:e})=>(0,t.createElement)(z,{fillProps:e},(e=>e.length?e:null));const{Fill:U,Slot:q}=(0,b.createSlotFill)("FireBox_Map_Inspector_Controls_Controls_Slotfill"),H=({children:e})=>(0,t.createElement)(U,null,e);H.Slot=({fillProps:e})=>(0,t.createElement)(q,{fillProps:e},(e=>e.length?e:null));const W={markers:v().array.isRequired,dispatch:v().func.isRequired,openMarker:v().number,setOpenMarker:v().func},F=({markers:e=[],dispatch:r,openMarker:a,setOpenMarker:l})=>{const i=(0,f.useRef)(null),[s,c]=(0,f.useState)([]),[p,u]=(0,f.useState)(!1);(0,f.useEffect)((()=>{const e=e=>{i.current&&i.current.closest(".fpframework-repeater-block-control--item").dataset.index&&!i.current.contains(e.target)&&c([])};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[i]);const m=(t,o,n)=>{r({type:be.UPDATE,ids:[e[t].id],updatedProps:{[o]:n}})},h=(0,f.useMemo)((()=>(0,n.debounce)(g,300)),[]);async function g(e,t,r){if(""!==r.trim()){u(!0),c([]);let o=await A(r);u(!1),c({marker_id:t[e].id,locations:o})}else u(!1),c([])}return(0,t.createElement)("div",{className:"fpframework-repeater-block-control"},e.map(((n,d)=>(0,t.createElement)("div",{className:"fpframework-repeater-block-control--item",key:d,"data-index":d},(0,t.createElement)("div",{className:"fpframework-repeater-block-control--item--header"},(0,t.createElement)(b.Button,{className:"fpframework-repeater-block-control--item--header--label",onClick:()=>{return(e=n.id)===a&&(e=null),void l(e);var e}},n.label),(0,t.createElement)(b.Button,{className:"fpframework-repeater-block-control--item--header--remove_btn",onClick:()=>(t=>{r({type:be.REMOVE,ids:[e[t].id]})})(d)},(0,t.createElement)(b.Icon,{icon:"no-alt"}))),a===n.id&&(0,t.createElement)("div",{className:"fpframework-repeater-block-control--item--details"},(0,t.createElement)("div",{className:"components-base-control fpframework-repeater-block-control--item--details--address"},(0,t.createElement)(b.TextControl,{label:(0,o.__)("Address","firebox"),value:n.address,onChange:t=>(async(t,o,n)=>{r({type:be.UPDATE,ids:[e[t].id],updatedProps:{address:n}}),h(t,e,n)})(d,0,t)}),p&&(0,t.createElement)(b.Spinner,null),0!==s?.locations?.length&&s?.marker_id===n.id&&(0,t.createElement)("div",{className:"wp-block-map-search-results",ref:i},s.locations.map(((e,o)=>(0,t.createElement)("div",{className:"wp-block-map-search-results-item",key:o,onClick:()=>((e,t)=>{let o=s.locations[e]||!1;o&&(u(!1),c([]),r({type:be.UPDATE,ids:[t],updatedProps:{address:o?.properties?.display_name,label:o?.properties?.display_name,latitude:o.latitude,longitude:o.longitude}}))})(o,n.id)},e.properties.display_name))))),(0,t.createElement)(b.TextControl,{label:(0,o.__)("Latitude","firebox"),value:n.latitude,onChange:e=>m(d,"latitude",e)}),(0,t.createElement)(b.TextControl,{label:(0,o.__)("Longitude","firebox"),value:n.longitude,onChange:e=>m(d,"longitude",e)}),(0,t.createElement)(b.TextControl,{label:(0,o.__)("Label","firebox"),value:n.label,onChange:e=>m(d,"label",e)}),(0,t.createElement)(b.TextareaControl,{label:(0,o.__)("Description","firebox"),value:n.description,onChange:e=>m(d,"description",e)}))))),(0,t.createElement)(V.Slot,{fillProps:{markers:e,onNewItemAdd:()=>{const e=d();r({type:be.ADD,marker:{id:e},dispatch:r}),l(e)}}}))};F.propTypes=W;const K=F,Z={attributes:v().object.isRequired,setAttributes:v().func.isRequired,dispatch:v().func,openMarker:v().number,setOpenMarker:v().func},G=({attributes:e,setAttributes:r,dispatch:a,openMarker:l,setOpenMarker:i})=>{const{provider:s,latitude:c,longitude:p,scale:u,width:d,height:h,zoomControl:g,zoom:_,markers:k,backgroundColor:v,boxShadow:w}=e,E=[{label:(0,o.__)("OpenStreetMap","firebox"),value:"osm"},{label:(0,o.__)("Google Maps (Coming soon)","firebox"),value:"gmap",disabled:!0}],[y,x]=(0,f.useState)(""),B=(0,f.useRef)(null),[O,T]=(0,f.useState)([]),[P,R]=(0,f.useState)(!1);(0,f.useEffect)((()=>{const e=e=>{B.current&&!B.current.contains(e.target)&&T([])};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[B]);const L=(0,f.useMemo)((()=>(0,n.debounce)(N,300)),[]);async function N(e){if(""!==e.trim()){R(!0),T([]);let t=await A(e);R(!1),T(t)}else R(!1),T([])}return(0,t.createElement)(m.InspectorControls,null,(0,t.createElement)(b.PanelBody,{title:(0,o.__)("Map","firebox"),initialOpen:!0},(0,t.createElement)(b.SelectControl,{label:(0,o.__)("Provider","firebox"),value:s,options:E,onChange:e=>r({provider:e})}),(0,t.createElement)("div",{className:"components-base-control fpframework-repeater-block-control--item--details--address"},(0,t.createElement)(b.TextControl,{label:(0,o.__)("Address","firebox"),value:y,onChange:e=>{x(e),L(e)},help:(0,o.__)("You can change the main location of your map by entering an address.","firebox"),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),P&&(0,t.createElement)(b.Spinner,null),0!==O?.length&&(0,t.createElement)("div",{className:"wp-block-map-search-results",ref:B},O.map(((e,o)=>(0,t.createElement)("div",{className:"wp-block-map-search-results-item",key:o,onClick:()=>(e=>{let t=O[e]||!1;t&&(R(!1),T([]),r({latitude:t.latitude,longitude:t.longitude}),x(t?.properties?.display_name))})(o)},e.properties.display_name))))),(0,t.createElement)(b.TextControl,{label:(0,o.__)("Latitude","firebox"),value:c,onChange:e=>r({latitude:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,t.createElement)(b.TextControl,{label:(0,o.__)("Longitude","firebox"),value:p,onChange:e=>r({longitude:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,t.createElement)(b.__experimentalNumberControl,{label:(0,o.__)("Zoom","firebox"),className:"components-base-control",value:_,min:"1",max:"50",onChange:e=>r({zoom:e}),__next40pxDefaultSize:!0}),(0,t.createElement)(C,{label:(0,o.__)("Width","firebox")},(e=>(0,t.createElement)(b.__experimentalUnitControl,{value:d[e],onChange:t=>r({width:{...d,[e]:t}}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}))),(0,t.createElement)(C,{label:(0,o.__)("Height","firebox")},(e=>(0,t.createElement)(b.__experimentalUnitControl,{value:h[e],onChange:t=>r({height:{...h,[e]:t}}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})))),(0,t.createElement)(b.PanelBody,{title:(0,o.__)("Controls","firebox"),initialOpen:!1},(0,t.createElement)(b.ToggleControl,{label:(0,o.__)("Zoom Control","firebox"),default:!0,checked:g,onChange:e=>r({zoomControl:e})}),(0,t.createElement)(H.Slot,{fillProps:{attributes:e,setAttributes:r}})),(0,t.createElement)(b.PanelBody,{title:(0,o.__)("Markers","firebox"),initialOpen:!1},(0,t.createElement)(K,{markers:k,dispatch:a,openMarker:l,setOpenMarker:i})),(0,t.createElement)(b.PanelBody,{title:(0,o.__)("Block","firebox"),initialOpen:!1},(0,t.createElement)(C,{label:(0,o.__)("Margin (px)","firebox")},(o=>(0,t.createElement)(S,{attributeKey:"margin",attributes:e,setAttributes:r,breakpoint:o}))),(0,t.createElement)(C,{label:(0,o.__)("Padding (px)","firebox")},(o=>(0,t.createElement)(S,{attributeKey:"padding",attributes:e,setAttributes:r,breakpoint:o})))),(0,t.createElement)(b.PanelBody,{title:(0,o.__)("Colors","firebox"),initialOpen:!1},(0,t.createElement)($,{label:(0,o.__)("Background Color","firebox"),value:v,onChange:e=>r({backgroundColor:e})})),(0,t.createElement)(b.PanelBody,{title:(0,o.__)("Border","firebox"),initialOpen:!1},(0,t.createElement)(I,{attributes:e,setAttributes:r,attributePrefix:""})),(0,t.createElement)(b.PanelBody,{title:(0,o.__)("Box Shadow","firebox"),initialOpen:!1},(0,t.createElement)(C,{label:(0,o.__)("Box Shadow","firebox")},(e=>(0,t.createElement)(D,{value:w[e],onUpdate:t=>r({boxShadow:{...w,[e]:t}})})))))};G.propTypes=Z;const J=G,Y=e=>`block-${e}`,Q=e=>!!e&&Object.values(e).some((e=>null!=e&&""!==e)),X={desktop:"",tablet:991,mobile:575},ee=(e=[])=>{if(!e||!e.length)return[];const t=e.reduce(((e,t)=>{const r=(e=>{if(!e)return"";const t=e.match(/[^{\}]+(?=})/gi)[0];return{selector:e.replace(t,"").replace("{","").replace("}","").trim(),style:t.trim()}})(t),o=e.find((({selector:e})=>e===r.selector));return o?(o.styles.push(r.style),e):(e.push({selector:r.selector,styles:[r.style]}),e)}),[]);return t.map((e=>`${e.selector} { ${e.styles.join(" ")} }`))},te=e=>({...e,rules:ee(e.rules)}),re=({id:e,value:t,rule:r,unit:n="",edgeCase:a=[],breakpoint:l="desktop",oneline:i=!1})=>{if(null==t||""===t)return null;let s=r.includes("[BLOCK_ID]")?r.replace("[BLOCK_ID]",e):`${r}`;if((e=>["box-shadow"].some((t=>e.includes(t))))(r))return["inset","outset"].includes(t.type)&&""!==t.color?(0,o.sprintf)(s,`${t.left}px ${t.top}px ${t.width}px ${t.spread}px ${"outset"===t.type?"":t.type} ${t.color}`):null;if((e=>["text-shadow"].some((t=>e.includes(t))))(r))return""!==t.hpos&&""!==t.vpos&&""!==t.blur&&""!==t.color?(0,o.sprintf)(s,`${t.hpos}px ${t.vpos}px ${t.blur}px ${t.color}`):null;if((e=>["padding","border-radius","margin","position-items"].some((t=>e.includes(t)))&&!["padding-","margin-"].some((t=>e.includes(t))))(r)){let e=r.match(/margin|border-radius|padding|position-items/gi)[0];if("position-items"===e){const e=["top","right","bottom","left"].map((e=>{if(null!=t[e]&&""!==t[e])return`${e}: ${"auto"===t[e]?"auto":`${t[e]}${n}`};`})).join(" ");return e.trim()?(c=` ${e} `,s.replace(/[^{\}]+(?=})/gi,c)):null}{const r=((e,t,r="",o=!1)=>{if(!e)return!1;if(Q(e)||Q(e[t])){const n=e[t]||e;if(["margin","padding"].includes(r)){if(4===Object.values(n).length&&1===new Set(Object.values(n)).size)return`${n.top}px`;if(Object.values(n).every((e=>""!==e))){if(n.top===n.bottom&&n.left===n.right)return`${n.top||0}px ${n.left||0}px`;Object.values(n).map((function(e){return`${e||0}px`})).join(" ")}let e=[],t=["top","right","bottom","left"];return o?(t.forEach((t=>{e.push(`${n[t]||0}px`)})),e.join(" ")):(t.forEach((t=>{""!==n[t]&&e.push(r+"-"+t+":"+n[t]+"px;")})),e)}if("border-radius"===r){if(4===Object.values(n).length&&1===new Set(Object.values(n)).size)return`${n.top_left}px`;if(Object.values(n).every((e=>""!==e))){if(n.top_left===n.bottom_right&&n.bottom_left===n.top_right)return`${n.top_left||0}px ${n.bottom_left||0}px`;Object.values(n).map((function(e){return`${e||0}px`})).join(" ")}let e=[],t=["top_left","top_right","bottom_right","bottom_left"];return o?(t.forEach((t=>{e.push(`${n[t]||0}px`)})),e.join(" ")):(t.forEach((t=>{""!==n[t]&&e.push("border-"+t.replace("_","-")+"-radius:"+n[t]+"px;")})),e)}}return!1})(t,null,e,i);if(!r)return null;if(r&&"string"==typeof r)return(0,o.sprintf)(s,r)||null;if(r&&"object"==typeof r)return s=s.replace("margin: ",""),s=s.replace("padding: ",""),s=s.replace("border-radius: ",""),s=s.replace("%s;","%s"),(0,o.sprintf)(s,r.join(""))||null}}var c;if((e=>!!e&&"object"==typeof e&&"url"in e&&"attachment"in e&&"repeat"in e)(t)){if(!t.url)return;const e=[`background-image: ${"none"!==t.url?`url(${t.url})`:"none"};`,`background-repeat: ${t.repeat};`,`background-size: ${t.size};`,`background-position: ${t.position};`,`background-attachment: ${t.attachment};`].join(" ");return(0,o.sprintf)(s,e)}if(a){const e=a.find((({edge:e})=>e===t));if(e)return""===e.value||e.skipInBreakpoints&&e.skipInBreakpoints.includes(l)?null:(n=e.unit||"",(0,o.sprintf)(s,`${e.value}${n}`))}return(0,o.sprintf)(s,`${t}${n}`)},oe=e=>f.Children.toArray(e).map((e=>Array.isArray(e.props.children)?oe(e.props.children):e)).reduce(((e,t)=>Array.isArray(t)?[...e,...t]:[...e,t]),[]).filter((e=>e.type&&"Rule"===e.type.displayName)),ne={children:O().oneOfType([O().node,O().array]),id:O().string},ae=({id:e="",children:r})=>{const o=(({id:e,children:t,getCSSRule:r,mapper:o=(e=>e)})=>{const n=[{name:"desktop",media:"max",width:X.desktop,rules:[]},{name:"tablet",media:"max",width:X.tablet,rules:[]},{name:"mobile",media:"max",width:X.mobile,rules:[]},{name:"desktop-only",media:"min",width:X.tablet+1,rules:[]},{name:"tablet-only",media:"min",width:X.mobile+1,rules:[]}];return oe(t).reduce(((t,o)=>{const{value:n,rule:a,unit:l,edgeCase:i,breakpointLimit:s,oneline:c}=o.props;if(null==n)return t;if("object"!=typeof n||!("desktop"in n)){const o=t.find((({name:e})=>"desktop"===e)),s=r({id:e,value:n,rule:a,unit:l,edgeCase:i,breakpoint:"desktop",oneline:c});return null!=s&&o.rules.push(s),t}return Object.keys(n).forEach((o=>{const p=t.find((({name:e})=>s&&"mobile"!==o?`${o}-only`===e:e===o)),u=r({id:e,value:n[o],rule:a,unit:l,edgeCase:i,breakpoint:o,oneline:c});null!=u&&p&&p.rules.push(u)})),t}),n).map(o)})({id:e,children:r,getCSSRule:re,mapper:te});return(e=>e.every((e=>0===e.rules.length)))(o)?null:(0,t.createElement)("style",{dangerouslySetInnerHTML:{__html:(n=o,n.reduce(((e,t)=>{if(!t.rules.length)return e;const r=t.rules.map((e=>e.trim())).join("\n");return t.width?"tablet-only"===t.name?`${e}\n\n\t\t\t\t@media (min-width: ${X.mobile+1}px) and (max-width: ${X.tablet}px) {\n\t\t\t\t\t${r}\n\t\t\t\t}\n\t\t\t\t`:`${e}\n\n\t\t\t@media (${t.media}-width: ${t.width}px) {\n\t\t\t\t${r}\n\t\t\t}\n\t\t\t`:`${e}${r}\n`}),"").trim())}});var n};ae.propTypes=ne;const le=ae,ie={value:O().oneOfType([O().string,O().number,O().object]).isRequired,rule:O().string.isRequired,unit:O().oneOf(["","px","%","em","rem","vh","vw","pt","cm","mm"]),edgeCase:O().arrayOf(O().shape({edge:O().any.isRequired,value:O().oneOfType([O().string,O().number]).isRequired,skipInBreakpoints:O().array})),breakpointLimit:O().bool,oneline:O().bool},se=()=>null;se.displayName="Rule",se.propTypes=ie;const ce=se,pe=({attributes:e,prefix:t="block"})=>{const r=(({attributes:e,prefix:t="block"})=>{const r=t?`${t}BorderColor`:"borderColor",o=e&&r in e?e[r]:null,n=t?`${t}BorderWidth`:"borderWidth",a=e&&n in e?e[n]:null,l=t?`${t}BorderStyle`:"borderStyle",i=e&&l in e?e[l]:null;return i&&"none"!==i?{borderColor:o||void 0,borderStyle:"none"!==i&&i?i:void 0,borderWidth:null!=a?`${a}px`:void 0}:{borderColor:void 0,borderStyle:void 0,borderWidth:void 0}})({attributes:e,prefix:t});return r.borderWidth&&r.borderStyle&&r.borderColor?`${r.borderWidth} ${r.borderStyle} ${r.borderColor}`:""},ue={attributes:v().object.isRequired,children:v().node},de=({attributes:e,children:r})=>{const{uniqueId:o,margin:n,padding:a,width:l,height:i,borderRadius:s,backgroundColor:c}=e,p=Y(o);return(0,t.createElement)(le,{id:p},(0,t.createElement)(ce,{value:n,rule:".wp-block-firebox-map.[BLOCK_ID] { margin: %s; }",unit:"px"}),(0,t.createElement)(ce,{value:a,rule:".wp-block-firebox-map.[BLOCK_ID] { padding: %s; }",unit:"px"}),(0,t.createElement)(ce,{value:c,rule:".wp-block-firebox-map.[BLOCK_ID] { --background-color: %s; }"}),(0,t.createElement)(ce,{value:l,rule:".wp-block-firebox-map.[BLOCK_ID] { --width: %s; }"}),(0,t.createElement)(ce,{value:i,rule:".wp-block-firebox-map.[BLOCK_ID] { --height: %s; }"}),(0,t.createElement)(ce,{value:pe({attributes:e,prefix:""}),rule:".wp-block-firebox-map.[BLOCK_ID] { --border: %s; }",unit:""}),(0,t.createElement)(ce,{value:s,rule:".wp-block-firebox-map.[BLOCK_ID] { --border-radius: %s; }",oneline:!0}),(({attributes:e,selector:r=""})=>(0,t.createElement)(ce,{value:e.boxShadow,rule:r+" { box-shadow: %s !important; }",unit:""}))({attributes:e,selector:".wp-block-firebox-map.[BLOCK_ID]"}),r)};de.propTypes=ue;const me=de,fe=()=>(0,t.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{fill:"white",d:"M29 25H32.8977C33.5839 25 34.2222 25.3518 34.5886 25.932L44.0623 40.932C44.9034 42.2638 43.9465 44 42.3713 44H5.62865C4.05354 44 3.09658 42.2638 3.93768 40.932L13.4114 25.932C13.7778 25.3518 14.4161 25 15.1023 25H19",stroke:"#2438E9",strokeWidth:"3",strokeLinecap:"round"}),(0,t.createElement)("path",{fill:"white",d:"M34 13C34 17.5611 27.1795 28.2296 24.8041 31.8068C24.4171 32.3895 23.5829 32.3895 23.1959 31.8068C20.8205 28.2296 14 17.5611 14 13C14 7.47715 18.4772 3 24 3C29.5228 3 34 7.47715 34 13Z",stroke:"#2438E9",strokeWidth:"3",strokeLinecap:"round"}),(0,t.createElement)("circle",{cx:"24",cy:"13",r:"4",fill:"#2438E9"}));const be={ADD:"ADD",REMOVE:"REMOVE",REMOVE_ALL:"REMOVE_ALL",UPDATE:"UPDATE",INIT:"INIT"};(0,e.registerBlockType)("firebox/map",{icon:fe,edit:({className:e,attributes:r,setAttributes:a,clientId:l})=>{const{uniqueId:i,provider:s,markers:c,width:p,height:u,latitude:g,longitude:k,scale:v,zoomControl:w,zoom:E}=r,{addUniqueID:y}=(0,h.useDispatch)("firebox/data"),{isUniqueID:x,isUniqueBlock:C,parentData:S}=(0,h.useSelect)((e=>({isUniqueID:t=>e("firebox/data").isUniqueID(t),isUniqueBlock:(t,r)=>e("firebox/data").isUniqueBlock(t,r),parentData:{rootBlock:e("core/block-editor").getBlock(e("core/block-editor").getBlockHierarchyRootClientId(l)),postId:e("core/editor")?.getCurrentPostId()?e("core/editor")?.getCurrentPostId():"",reusableParent:e("core/block-editor").getBlockAttributes(e("core/block-editor").getBlockParentsByBlockName(l,"core/block").slice(-1)[0]),editedPostId:!!e("core/edit-site")&&e("core/edit-site").getEditedPostId()}})),[l]);(0,f.useEffect)((()=>{const e=function(e){const{postId:t,reusableParent:r,editedPostId:o}=e,a=function(e,t,r="block-unknown"){return(0,n.has)(t,"ref")?t.ref:e||r}(t,r,0);return 0===a&&o?function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}(o)%1e6:a}(S);let t=function(e,t,r,o,a="",l=!1){const i=e&&2===e.split("_").length,s=(a?a+"_":"")+t.substr(2,9);return!e||i&&e.split("_")[0]!==a.toString()?r(s)?s:(0,n.uniqueId)(s):r(e)||o(e,t)?e:l?(0,n.uniqueId)(s):s}(i,l,x,C,e);t!==i?(r.uniqueId=t,a({uniqueId:t}),y(t,l)):(a({uniqueId:i}),y(i,l))}),[]);const B=(0,f.useRef)(null),[O,T]=(0,f.useState)(null),[P,$]=(0,f.useState)(""),[R,L]=(0,f.useState)(!1),[I,N]=(0,f.useState)(!1),[M,D]=(0,f.useState)(!1),[j,z]=(0,f.useState)([]),[V,U]=(0,f.useState)(!1),[q,H]=(0,f.useState)(""===g&&""===k),[W,F]=(0,f.useState)(null),[K,Z]=(0,f.useState)(null),G=Y(i),Q={provider:s,latitude:g,longitude:k,markers:c,scale:v,zoomControl:w,zoom:E},X=(e,t)=>{if(window.L&&O&&t&&e){var r,n,a,l,i,s;null!==(r=e.id)&&void 0!==r||(e.id=d()),null!==(n=e.latitude)&&void 0!==n||(e.latitude=O.getCenter().lat),null!==(a=e.longitude)&&void 0!==a||(e.longitude=O.getCenter().lng),null!==(l=e.label)&&void 0!==l||(e.label=(0,o.__)("Untitled Marker","firebox")),null!==(i=e.address)&&void 0!==i||(e.address=""),null!==(s=e.description)&&void 0!==s||(e.description="");const c=window.L.marker([e.latitude,e.longitude]||0,{draggable:!0});return c.on("movestart",(()=>{c.closeTooltip(),c.closePopup()})),c.on("moveend",(()=>{const r=c.getLatLng();t({type:be.UPDATE,ids:[e.id],updatedProps:{latitude:r.lat,longitude:r.lng}})})),c.on("click",(()=>{Z(e.id),c.closeTooltip()})),c.on("mouseover",(()=>{""!==e.label&&c.openTooltip()})),c.markerProps=e,c}return null},[ee,te]=(0,f.useReducer)(((e,t)=>{switch(t.type){case be.ADD:const r=X(t.marker,t.dispatch);return[...e,r];case be.REMOVE_ALL:return e.map((e=>{O.removeLayer(e)})),[];case be.REMOVE:return e.filter((({markerProps:e})=>t.ids.includes(e.id))).forEach((e=>{O.hasLayer(e)&&O.removeLayer(e)})),e.filter((({markerProps:e})=>!t.ids.includes(e.id)));case be.INIT:return[...t.markers.map((e=>X(e,t.dispatch)))];case be.UPDATE:return e.map((e=>{const r=e.markerProps;return t.ids.includes(r.id)&&(e.markerProps=(0,n.merge)(e.markerProps,t.updatedProps)),e}));default:console.warn((0,o.__)("The action for the leaflet block do not have a defined action in marker's reducer: ","firebox")+t.type)}return e}),[],(()=>[]));(0,f.useEffect)((()=>{q?(L(!1),N(!1)):setTimeout((()=>{(()=>{if(!B.current&&!window.L)return;let{L:e}=window;if(!e)return;const t=e.map(`map-${G}`,{gestureHandling:!0,gestureHandlingOptions:{text:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"}}});e.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',subdomains:["a","b","c"]}).addTo(t),t.on("zoom",(()=>{a({zoom:t.getZoom()})})),t.on("moveend",(()=>{const e=t.getCenter();a({latitude:e.lat.toString(),longitude:e.lng.toString()})})),T(t),te({type:be.INIT,markers:c,dispatch:te}),R&&te({type:be.REMOVE_ALL,dispatch:te}),I&&te({type:be.ADD,marker:I,dispatch:te})})()}),5)}),[q,O]),(0,f.useEffect)((()=>{O&&(w?(O.addControl(O.zoomControl),O.touchZoom.enable(),O.doubleClickZoom.enable(),O.scrollWheelZoom.enable(),O.boxZoom.enable(),O.keyboard.enable()):(O.removeControl(O.zoomControl),O.touchZoom.disable(),O.doubleClickZoom.disable(),O.scrollWheelZoom.disable(),O.boxZoom.disable(),O.keyboard.disable()))}),[w,O]),(0,f.useEffect)((()=>{g&&k&&O&&O.setView([g,k],E||5)}),[g,k,E,O]),(0,f.useEffect)((()=>{p&&u&&O&&O.invalidateSize(!0)}),[p,u,O]),(0,f.useEffect)((()=>{if(O&&(W&&(O.removeControl(W),F(null)),v)){let e={};"imperial"===v?(e.imperial=!0,e.metric=!1):(e.imperial=!1,e.metric=!0);let t=window.L.control.scale(e).addTo(O);F(t)}}),[v,O]),(0,f.useEffect)((()=>{if(ee){ee.forEach((e=>{O.hasLayer(e)||O.addLayer(e);const{markerProps:t}=e;e.setLatLng([t.latitude,t.longitude]),e.closeTooltip(),e.unbindTooltip(),""!==t.label&&e.bindTooltip(t.label,{direction:"auto"}),e.closePopup(),e.unbindPopup(),""===t.label&&""===t.description||e.bindPopup((e=>{const t=document.createElement("div");t.classList.add("wp-block-map-marker-container");const r=document.createElement("h6");if(r.classList.add("wp-block-map-marker-label"),r.innerHTML=e.label,t.appendChild(r),""!==e.description){const r=document.createElement("div");r.classList.add("wp-block-map-marker-content");const o=document.createElement("p");o.innerHTML=e.description,r.appendChild(o),t.appendChild(r)}return t})(t))}));const e=ee.map((({markerProps:e})=>e));JSON.stringify(c)!==JSON.stringify(e)&&O&&a({markers:e})}}),[ee,O,c]),(0,f.useEffect)((()=>{const e=setTimeout((async()=>{if(""!==P.trim()){U(!0),z([]);let e=await A(P);U(!1),z(e),D(!0)}else U(!1),z([]),D(!1)}),150);return()=>clearTimeout(e)}),[P]);const re=()=>{H(!1),U(!1),D(!1),z([]),""===g&&""===k&&(a({latitude:38.76406464903202,longitude:25.157077798040934}),N({id:d(),latitude:38.76406464903202,longitude:25.157077798040934,label:"Greece",address:"Greece",description:""}))},oe=()=>{H(!1),U(!1),D(!1),z([])};if(q){const r=(0,m.useBlockProps)({id:G,className:_()(e,G,{"wp-block":!0})});return(0,t.createElement)("div",{...r},(0,t.createElement)(b.Placeholder,{icon:fe,label:(0,o.__)("FireBox Map Block"),className:"wp-block-map-startup",instructions:(0,o.__)("Enter an address or coordinates to create your map.","firebox")},(0,t.createElement)("form",null,(0,t.createElement)("input",{type:"text",className:"components-placeholder__input",placeholder:(0,o.__)("Type an address or coordinates...","firebox"),onChange:e=>$(e.target.value),autoComplete:"off"}),V&&(0,t.createElement)(b.Spinner,null),""===g&&""===k&&(0,t.createElement)(b.Button,{onClick:re},(0,o.__)("Skip","firebox")),""!==g&&""!==k&&(0,t.createElement)(b.Button,{onClick:oe},(0,o.__)("Cancel","firebox")),M&&0!==j?.length&&(0,t.createElement)("div",{className:"wp-block-map-search-results"},j.map(((e,r)=>(0,t.createElement)("div",{className:"wp-block-map-search-results--item",key:r,onClick:()=>(e=>{let t=j[e]||!1;t&&(H(!1),U(!1),D(!1),z([]),""===g&&""===k&&a({latitude:t.latitude,longitude:t.longitude}),N({id:d(),latitude:t.latitude,longitude:t.longitude,label:t?.properties?.display_name,address:t?.properties?.display_name,description:""}),L(!0))})(r)},e.properties.display_name)))))))}const ne=(0,m.useBlockProps)();return(0,t.createElement)("div",{...ne},(0,t.createElement)(me,{attributes:r}),(0,t.createElement)("div",{id:G,className:_()(e,G,"fpf-map-widget","wp-block-firebox-map"),"data-options":JSON.stringify(Q),ref:B},(0,t.createElement)("div",{className:"inner",id:`map-${G}`})),(0,t.createElement)(J,{attributes:r,setAttributes:a,dispatch:te,openMarker:K,setOpenMarker:Z}))},save:({attributes:e,className:r})=>{const{uniqueId:o,provider:n,latitude:a,longitude:l,scale:i,markers:s,zoomControl:c,zoom:p}=e,u=Y(o),d={provider:n,latitude:a,longitude:l,scale:i,markers:s,zoomControl:c,zoom:p};return(0,t.createElement)(f.Fragment,null,(0,t.createElement)(me,{attributes:e}),(0,t.createElement)("div",{id:u,className:_()(r,u,"wp-block-firebox-map","fpf-map-widget"),"data-options":JSON.stringify(d)},(0,t.createElement)("div",{className:"inner"})))}})})()})();