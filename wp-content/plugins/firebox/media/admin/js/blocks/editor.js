(()=>{var e={7748:()=>{wp.domReady((function(){const e=()=>{const e=document.querySelector(".is-root-container");if(!e)return;const t=e=>{const t=e.target.closest(".interface-interface-skeleton__content"),o=e.target.closest(".components-popover"),l=e.target.closest(".editor-preview-dropdown__toggle"),a=document.querySelector(".firebox-editor-wrapper");if(l&&l.classList.contains("is-opened")){const e=document.querySelector(".components-popover");if(e){const t=e.querySelector('div[role="menu"]');if(t){const e=t.querySelectorAll(".components-menu-group");let o=0;for(let t=0;t<e.length&&o<2;t++)e[t].querySelector(".editor-preview-dropdown__button-external")||(e[t].style.display="none",o++)}}return}if(!t||o)return;const r=e.target.closest(".is-root-container"),n=e.target.closest(".firebox-editor-overlay"),i=e.target.closest(".firebox-editor-close-button");if(n)return void wp.data.dispatch("core/block-editor").clearSelectedBlock();if(r||n||i)return;const s=e.target.closest(".firebox-editor-browser"),c=e.target.closest(".firebox-editor-browser-top");if(a&&s&&!c){const e=wp.data.select("core/block-editor").getBlocks(),t=e[e.length-1];!t||"core/paragraph"!==t.name||t.attributes.content&&""!==t.attributes.content.trim()?wp.data.dispatch("core/block-editor").insertBlocks(wp.blocks.createBlock("core/paragraph",{content:""})).then((()=>{const e=wp.data.select("core/block-editor").getBlocks(),t=e[e.length-1].clientId;wp.data.dispatch("core/block-editor").selectBlock(t)})):wp.data.dispatch("core/block-editor").selectBlock(t.clientId)}r||wp.data.dispatch("core/block-editor").clearSelectedBlock()};window.editorClickHandler&&document.removeEventListener("click",window.editorClickHandler),window.editorClickHandler=t,document.addEventListener("click",t);const o=wp.data.select("core/editor").getEditedPostAttribute("meta"),l=JSON.stringify(o);if(window.prevFireBoxMeta===l)return;window.prevFireBoxMeta=l;let a=o?.firebox_meta?.closebutton?.show||"1";"embed"===o?.firebox_meta?.mode&&(a="0");let r=o?.firebox_meta?.closebutton?.size,n=o?.firebox_meta?.closebutton?.source,i=o?.firebox_meta?.closebutton?.image,s=o?.firebox_meta?.triggermethod;const c=o?.firebox_meta?.floating_button_show_on_close;let m=document.querySelector(".firebox-editor-browser");m||(m=document.createElement("div"),m.className="firebox-editor-browser",e.parentNode.insertBefore(m,e)),m.classList.add("format-"+s),c?m.classList.add("floating-button-show-on-close"):m.classList.remove("floating-button-show-on-close");let u=document.querySelector(".firebox-editor-browser-top");if(!u){u=document.createElement("div"),u.className="firebox-editor-browser-top";const e=document.createElement("span");e.className="firebox-editor-browser-top-circles";const t=document.createElement("span");t.className="macos-circle close",t.innerHTML='<svg width="8" height="8" viewBox="0 0 8 8" fill="none"><path d="M1.5 1.5L6.5 6.5M6.5 1.5L1.5 6.5" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/></svg>';const o=document.createElement("span");o.className="macos-circle minimize",o.innerHTML='<svg width="8" height="8" viewBox="0 0 8 8" fill="none"><path d="M2 4H6" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"/></svg>';const l=document.createElement("span");l.className="macos-circle maximize",l.innerHTML='<svg width="8" height="8" viewBox="0 0 8 8" fill="none"><path d="M1 1L3 3M7 1L5 3M7 7L5 5M1 7L3 5" stroke="currentColor" stroke-width="1" stroke-linecap="round"/><path d="M1 2V1H2M7 2V1H6M7 6V7H6M1 6V7H2" stroke="currentColor" stroke-width="1" stroke-linecap="round"/></svg>',e.appendChild(t),e.appendChild(o),e.appendChild(l),u.appendChild(e);const a=document.createElement("span");a.className="firebox-editor-browser-top-domain";let r=window.location.href.replace(/^https?:\/\//,"").replace(/\/wp-admin.*$/,"");a.textContent=r,u.appendChild(a);const n=document.createElement("span");n.className="firebox-editor-browser-top-right",u.appendChild(n),m.appendChild(u)}let d=document.querySelector(".firebox-editor-overlay");d||(d=document.createElement("div"),d.className="firebox-editor-overlay",m.appendChild(d));let p=document.querySelector(".firebox-editor-wrapper");if(p){let e=p.querySelector(".firebox-editor-content-container");if(!e){e=document.createElement("div"),e.className="firebox-editor-content-container";const t=document.querySelector(".is-root-container");t&&t.parentNode===p&&(p.appendChild(e),e.appendChild(t))}}else{p=document.createElement("div"),p.className="firebox-editor-wrapper",m.appendChild(p);const t=document.createElement("div");t.className="firebox-editor-content-container",p.appendChild(t),t.appendChild(e)}let b=document.querySelector(".fb-floating-button");if(!0===c||"1"===c||"floatingbutton"===s){const e=o?.firebox_meta?.floating_button_position||"bottom-right";if(!b){b=document.createElement("div"),b.className="fb-floating-button",b.setAttribute("title",__("Click to configure the floating button","firebox")),b.addEventListener("click",(function(e){e.preventDefault(),wp.data.dispatch("firebox_editor").setModal({type:"floating_button"})}));const e=document.createElement("div");e.textContent=o?.firebox_meta?.floatingbutton_message?.text||"",b.appendChild(e),m.appendChild(b)}b.className=`fb-floating-button fb-${e}`;const t=b.querySelector("div");t&&(t.textContent=o?.firebox_meta?.floatingbutton_message?.text||"",t.style.fontSize=o?.firebox_meta?.floatingbutton_message?.fontsize||"16px",t.style.setProperty("--bgColor",o?.firebox_meta?.floatingbutton_message?.bgcolor||"#000"),t.style.setProperty("--color",o?.firebox_meta?.floatingbutton_message?.textcolor||"#fff"))}else b&&b.remove();"2"==a?p.classList.add("has-close-button-outside"):p.classList.remove("has-close-button-outside");let f=document.querySelector(".firebox-editor-close-button");f||(f=document.createElement("button"),f.className="firebox-editor-close-button",f.setAttribute("title",__("Click to configure the close button","firebox")),p.prepend(f),f.addEventListener("click",(function(e){e.preventDefault();const t=["firebox-actions-panel","firebox-advanced-panel","firebox-animations-panel","firebox-background-overlay-panel","firebox-behavior-panel","firebox-deprecated-panel","firebox-design-panel","firebox-display-conditions-panel","firebox-format-panel","firebox-help-desk","firebox-php-scripts-panel"],o="firebox-editor-panels/firebox-close-button-panel",l=wp.data.dispatch("core/editor");wp.data.dispatch("core/edit-post").openGeneralSidebar("edit-post/document").then((()=>{t.forEach((e=>{const t="firebox-editor-panels/"+e;wp.data.select("core/editor").isEditorPanelOpened(t)&&l.toggleEditorPanelOpened(t)})),wp.data.select("core/editor").isEditorPanelOpened(o)?document.querySelector(".components-panel__body.is-opened.close-button-panel")?.scrollIntoView({behavior:"smooth"}):l.toggleEditorPanelOpened(o).then((()=>{document.querySelector(".components-panel__body.is-opened.close-button-panel")?.scrollIntoView({behavior:"smooth"})}))}))})));const _=o?.firebox_meta?.closebutton?.color||"",x=o?.firebox_meta?.closebutton?.hover||"";f.style.color=_,x?(f._hoverListenersAttached&&(f.removeEventListener("mouseenter",f._mouseEnterHandler),f.removeEventListener("mouseleave",f._mouseLeaveHandler)),f._mouseEnterHandler=()=>{f.style.color=x},f._mouseLeaveHandler=()=>{f.style.color=_},f.addEventListener("mouseenter",f._mouseEnterHandler),f.addEventListener("mouseleave",f._mouseLeaveHandler),f._hoverListenersAttached=!0):f._hoverListenersAttached&&(f.removeEventListener("mouseenter",f._mouseEnterHandler),f.removeEventListener("mouseleave",f._mouseLeaveHandler),f._hoverListenersAttached=!1),f.innerHTML="icon"===n?'<svg width="'+r+'" height="'+r+'" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="mask0_2255_1643" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="32" height="32"><rect width="32" height="32" fill="'+_+'"></rect></mask><g mask="url(#mask0_2255_1643)"><path d="M9.6 24L8 22.4L14.4 16L8 9.6L9.6 8L16 14.4L22.4 8L24 9.6L17.6 16L24 22.4L22.4 24L16 17.6L9.6 24Z" fill="currentColor"></path></g></svg>':'<img src="'+i+'" />',f.style.display="0"==a?"none":"inline-flex"};setTimeout(e,100),wp.data.subscribe(e)}))},9894:()=>{const e="SET_BREAKPOINT",t={breakpoint:"desktop"};wp.data.select("fpframework-breakpoints")||wp.data.registerStore("fpframework-breakpoints",{reducer:(o=t,l)=>l.type===e?{...o,breakpoint:l.breakpoint}:o,actions:{onBreakpointSet:t=>({type:e,breakpoint:t})},selectors:{getBreakpoint:e=>e.breakpoint}})},5251:(e,t,o)=>{"use strict";var l=o(9196),a=Symbol.for("react.element"),r=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),n=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(e,t,o){var l,s={},c=null,m=null;for(l in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(m=t.ref),t)r.call(t,l)&&!i.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===s[l]&&(s[l]=t[l]);return{$$typeof:a,type:e,key:c,ref:m,props:s,_owner:n.current}}t.jsx=s,t.jsxs=s},5893:(e,t,o)=>{"use strict";e.exports=o(5251)},9196:e=>{"use strict";e.exports=window.React}},t={};function o(l){var a=t[l];if(void 0!==a)return a.exports;var r=t[l]={exports:{}};return e[l](r,r.exports,o),r.exports}(()=>{"use strict";var e=o(9196);const t=window.wp.plugins,l=window.wp.i18n,a=window.wp.compose,r=window.wp.editor,n=window.wp.components,i=window.wp.data,s=(0,i.withSelect)((e=>({metaFields:e("core/editor").getEditedPostAttribute("meta"),postID:e("core/editor").getCurrentPostId(),postType:e("core/editor").getCurrentPostType()}))),c=(0,i.withDispatch)(((e,t,{select:o})=>({setMetaValue:function(t,l){const a=o("core/editor").getEditedPostAttribute("meta");e("core/editor").editPost({meta:{...a,firebox_meta:{...a?.firebox_meta||{},[t]:l}}})}}))),m=(e,t,o)=>{const l=`utm_source=source&utm_campaign=firebox-${"lite"===fbox_admin_editor_js_object.license_type?"free":"pro"}&utm_medium=${t}&utm_content=${o}`,[a,r]=e.split("#"),[n,i]=a.split("?"),s=`${n}?${i?`${i}&${l}`:l}`;return r?`${s}#${r}`:s},u=(e,t=!1)=>{let o=document.querySelector(".firebox-editor-wrapper");o&&(t&&o.classList.add("firebox-opacity-0"),setTimeout((()=>{t&&o.classList.remove("firebox-opacity-0"),o.classList.add("firebox__animate__animated",`firebox__animate__${e}`);const l=()=>{setTimeout((()=>{o.classList.remove("firebox__animate__animated","firebox__animate__"+e),o.removeEventListener("animationend",l)}),t?0:300)};o.addEventListener("animationend",l)}),100))},d=window.wp.element,p=window.wp.primitives;var b=o(5893);const f=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm11.53-1.47-1.06-1.06L11 12.94l-1.47-1.47-1.06 1.06L11 15.06l4.53-4.53Z"})}),_=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8 4a4 4 0 0 0 4-4H8a4 4 0 0 0 4 4Z"})}),x=[{icon:(0,e.createElement)(n.Icon,{icon:f}),label:(0,l.__)("Published","firebox"),value:"publish"},{icon:(0,e.createElement)(n.Icon,{icon:_}),label:(0,l.__)("Draft","firebox"),value:"draft"}],g=(0,a.compose)([s])((({postType:t,metaFields:o})=>{if("firebox"!==t)return null;const[a,i]=(0,d.useState)(""),[s,c]=(0,d.useState)("");return(0,d.useEffect)((()=>{i(wp.data.select("core/editor").getEditedPostAttribute("title")||""),c(wp.data.select("core/editor").getEditedPostAttribute("status")||"draft");const e=wp.data.subscribe((()=>{const e=wp.data.select("core/editor").getEditedPostAttribute("status");document.body.classList.remove("firebox-publish-mode","firebox-draft-mode"),"publish"===e?document.body.classList.add("firebox-publish-mode"):document.body.classList.add("firebox-draft-mode"),c(e)}));return()=>e()}),[]),(0,e.createElement)(r.PluginDocumentSettingPanel,{title:(0,l.__)("Campaign","firebox"),name:"firebox-summary-panel",className:"firebox-summary-panel"},(0,e.createElement)(n.TextControl,{value:a,label:(0,l.__)("Name","firebox"),placeholder:(0,l.__)("Enter campaign name","firebox"),onChange:e=>{i(e),wp.data.dispatch("core/editor").editPost({title:e})},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.__experimentalHStack,{spacing:2},(0,e.createElement)(n.__experimentalText,null,(0,l.__)("Status","firebox")),(0,e.createElement)(n.DropdownMenu,{label:(0,l.__)("Select campaign status","firebox"),icon:"",toggleProps:{isTertiary:!0},text:"publish"===s?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.Icon,{icon:f})," ",(0,l.__)("Published","firebox")):(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.Icon,{icon:_})," ",(0,l.__)("Draft","firebox")),controls:x.map((t=>({title:(0,e.createElement)(n.__experimentalHStack,{justify:"justify-between",spacing:"2",className:"firebox-style-dropdown-item"},(0,e.createElement)(n.__experimentalHStack,{justify:"flex-start",spacing:"2"},t.icon,(0,e.createElement)("span",null,t.label))),isActive:s===t.value,onClick:()=>{var e;e=t.value,c(e),wp.data.dispatch("core/editor").editPost({status:e})}})))}))))})),h=(0,b.jsx)(p.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)(p.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),v=window.wp.hooks,E=({label:t,help:o,checked:l,onChange:a,className:r=""})=>(0,e.createElement)(n.__experimentalVStack,{spacing:2,className:r},(0,e.createElement)(n.__experimentalHStack,{spacing:2,justify:"space-between"},(0,e.createElement)(n.__experimentalText,{size:"11",weight:"500",onClick:()=>a(!l)},"string"==typeof t?t.toUpperCase():t),(0,e.createElement)(n.ToggleControl,{checked:l,onChange:a,className:"firebox-toggle-control-no-label",__nextHasNoMarginBottom:!0})),o&&(0,e.createElement)(n.__experimentalText,{variant:"muted"},o)),w=[{label:__("Top Left","firebox"),value:"top-left"},{label:__("Top Center","firebox"),value:"top-center"},{label:__("Top Right","firebox"),value:"top-right"},{label:__("Middle Left","firebox"),value:"middle-left"},{label:__("Center","firebox"),value:"center"},{label:__("Middle Right","firebox"),value:"middle-right"},{label:__("Bottom Left","firebox"),value:"bottom-left"},{label:__("Bottom Center","firebox"),value:"bottom-center"},{label:__("Bottom Right","firebox"),value:"bottom-right"}],C=({name:t,value:o,disabled:l=[],setMetaValue:a})=>(0,e.createElement)(n.__experimentalItemGroup,{style:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gap:"4px",width:"100%"}},w.map(((r,i)=>{const s=l.includes(r.value);return(0,e.createElement)(n.__experimentalItem,{key:i,onClick:()=>!s&&a(t,r.value),className:`firebox-position-control-item${o===r.value?" is-active":""}${s?" is-disabled":""}`,style:{backgroundColor:o===r.value?"var(--wp-admin-theme-color)":"#F0F0F0",border:"1px solid transparent",borderColor:o===r.value?"#183AD6":"#e0e0e0",color:o===r.value?"#fff":"",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",cursor:s?"not-allowed":"pointer",borderRadius:"4px",width:"100%",height:"32px"}},o===r.value&&(0,e.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("mask",{id:"mask0_120_4200",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24"},(0,e.createElement)("rect",{width:"24",height:"24",fill:"#D9D9D9"})),(0,e.createElement)("g",{mask:"url(#mask0_120_4200)"},(0,e.createElement)("path",{d:"M10.5808 16.2538L17.3038 9.53075L16.25 8.477L10.5808 14.1463L7.73075 11.2963L6.677 12.35L10.5808 16.2538ZM12.0018 21.5C10.6878 21.5 9.45267 21.2507 8.2965 20.752C7.14033 20.2533 6.13467 19.5766 5.2795 18.7218C4.42433 17.8669 3.74725 16.8617 3.24825 15.706C2.74942 14.5503 2.5 13.3156 2.5 12.0018C2.5 10.6878 2.74933 9.45267 3.248 8.2965C3.74667 7.14033 4.42342 6.13467 5.27825 5.2795C6.13308 4.42433 7.13833 3.74725 8.294 3.24825C9.44967 2.74942 10.6844 2.5 11.9983 2.5C13.3123 2.5 14.5473 2.74933 15.7035 3.248C16.8597 3.74667 17.8653 4.42342 18.7205 5.27825C19.5757 6.13308 20.2528 7.13833 20.7518 8.294C21.2506 9.44967 21.5 10.6844 21.5 11.9983C21.5 13.3123 21.2507 14.5473 20.752 15.7035C20.2533 16.8597 19.5766 17.8653 18.7218 18.7205C17.8669 19.5757 16.8617 20.2528 15.706 20.7518C14.5503 21.2506 13.3156 21.5 12.0018 21.5ZM12 20C14.2333 20 16.125 19.225 17.675 17.675C19.225 16.125 20 14.2333 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C9.76667 4 7.875 4.775 6.325 6.325C4.775 7.875 4 9.76667 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20Z",fill:"white"}))),s&&(0,e.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("mask",{id:"mask0_69_13304",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24"},(0,e.createElement)("rect",{width:"24",height:"24",fill:"#D9D9D9"})),(0,e.createElement)("g",{mask:"url(#mask0_69_13304)"},(0,e.createElement)("path",{d:"M12.0017 21.5C10.6877 21.5 9.45267 21.2507 8.2965 20.752C7.14033 20.2533 6.13467 19.5766 5.2795 18.7218C4.42433 17.8669 3.74725 16.8617 3.24825 15.706C2.74942 14.5503 2.5 13.3156 2.5 12.0017C2.5 10.6877 2.74933 9.45267 3.248 8.2965C3.74667 7.14033 4.42342 6.13467 5.27825 5.2795C6.13308 4.42433 7.13833 3.74725 8.294 3.24825C9.44967 2.74942 10.6844 2.5 11.9983 2.5C13.3123 2.5 14.5473 2.74933 15.7035 3.248C16.8597 3.74667 17.8653 4.42342 18.7205 5.27825C19.5757 6.13308 20.2528 7.13833 20.7518 8.294C21.2506 9.44967 21.5 10.6844 21.5 11.9983C21.5 13.3123 21.2507 14.5473 20.752 15.7035C20.2533 16.8597 19.5766 17.8653 18.7218 18.7205C17.8669 19.5757 16.8617 20.2528 15.706 20.7518C14.5503 21.2506 13.3156 21.5 12.0017 21.5ZM12 20C12.9382 20 13.8417 19.8413 14.7105 19.524C15.5792 19.2067 16.3731 18.7474 17.0922 18.1462L5.85375 6.90775C5.25892 7.62692 4.80125 8.42083 4.48075 9.2895C4.16025 10.1583 4 11.0618 4 12C4 14.2333 4.775 16.125 6.325 17.675C7.875 19.225 9.76667 20 12 20ZM18.1462 17.0922C18.7474 16.3731 19.2067 15.5792 19.524 14.7105C19.8413 13.8417 20 12.9382 20 12C20 9.76667 19.225 7.875 17.675 6.325C16.125 4.775 14.2333 4 12 4C11.0595 4 10.1538 4.15708 9.283 4.47125C8.41233 4.78525 7.62058 5.24608 6.90775 5.85375L18.1462 17.0922Z",fill:"currentColor"}))))}))),{Fill:y,Slot:k}=(0,n.createSlotFill)("FireBox_Trigger_Slotfill_1"),S=({children:t})=>(0,e.createElement)(y,null,t);S.Slot=({fillProps:t})=>(0,e.createElement)(k,{fillProps:t},(e=>e.length?e:null));const L=S,{Fill:B,Slot:N}=(0,n.createSlotFill)("FireBox_Trigger_Slotfill_2"),M=({children:t})=>(0,e.createElement)(B,null,t);M.Slot=({fillProps:t})=>(0,e.createElement)(N,{fillProps:t},(e=>e.length?e:null));const D=M;let T=[{icon:(0,e.createElement)((()=>(0,e.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("rect",{x:"11",width:"2",height:"8",rx:"1",fill:"currentColor"}),(0,e.createElement)("rect",{opacity:"0.8",x:"11",y:"16",width:"2",height:"8",rx:"1",fill:"currentColor"}),(0,e.createElement)("rect",{x:"24",y:"11",width:"2",height:"8",rx:"1",transform:"rotate(90 24 11)",fill:"currentColor"}),(0,e.createElement)("rect",{x:"8",y:"11",width:"2",height:"8",rx:"1",transform:"rotate(90 8 11)",fill:"currentColor"}),(0,e.createElement)("rect",{x:"19.7781",y:"2.80762",width:"2",height:"6.51985",rx:"1",transform:"rotate(45 19.7781 2.80762)",fill:"currentColor"}),(0,e.createElement)("rect",{x:"8.46436",y:"14.1213",width:"2",height:"8",rx:"1",transform:"rotate(45 8.46436 14.1213)",fill:"currentColor"}),(0,e.createElement)("rect",{x:"21.1924",y:"19.7782",width:"2",height:"8",rx:"1",transform:"rotate(135 21.1924 19.7782)",fill:"currentColor"}),(0,e.createElement)("rect",{x:"9.87866",y:"8.46448",width:"2",height:"8",rx:"1",transform:"rotate(135 9.87866 8.46448)",fill:"currentColor"}))),null),label:(0,l.__)("Page Load","firebox"),value:"pageload"},{icon:(0,e.createElement)((()=>(0,e.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M11.1976 13.8946C10.8711 13.0783 11.6812 12.2682 12.4975 12.5948L22.4201 16.5638C23.2189 16.8833 23.2681 17.9955 22.5006 18.3843L19.1332 20.0903C18.9434 20.1864 18.7893 20.3406 18.6931 20.5304L16.9872 23.8978C16.5984 24.6653 15.4862 24.6161 15.1666 23.8172L11.1976 13.8946Z",fill:"currentColor"}),(0,e.createElement)("rect",{x:"15.9879",y:"18.7993",width:"2",height:"9",rx:"1",transform:"rotate(-45 15.9879 18.7993)",fill:"currentColor"}),(0,e.createElement)("path",{d:"M18.7194 7.94446C18.2908 6.669 17.5685 5.47052 16.5525 4.45452C13.0378 0.939802 7.33931 0.939802 3.82459 4.45452C0.309875 7.96924 0.309875 13.6677 3.82459 17.1824C4.84059 18.1984 6.03907 18.9207 7.31453 19.3494",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",style:{fill:"transparent"}}))),null),label:(0,l.__)("Click","firebox"),value:"onclick"},{icon:(0,e.createElement)((()=>(0,e.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{style:{fill:"transparent"},d:"M13.2752 23H17.5C20.2614 23 22.5 20.7614 22.5 18V13.5479C22.5 12.8916 22.178 12.2771 21.6384 11.9035L17.8415 9.27488C16.7751 8.53662 15.3334 8.66663 14.4163 9.58373C14.0781 9.92186 13.5 9.68238 13.5 9.2042V2.75C13.5 1.7835 12.7165 1 11.75 1C10.7835 1 10 1.7835 10 2.75V13.7943C10 14.8508 8.93297 15.5732 7.95204 15.1808L6.34114 14.5365C5.56821 14.2273 4.68514 14.5248 4.25683 15.2386C3.82257 15.9624 3.98659 16.8954 4.64168 17.4276L10.1222 21.8806C11.0135 22.6047 12.1269 23 13.2752 23Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.createElement)("mask",{id:"path-2-inside-1",fill:"white"},(0,e.createElement)("rect",{y:"1",width:"11",height:"9",rx:"1"})),(0,e.createElement)("rect",{y:"1",width:"11",height:"9",rx:"1",stroke:"currentColor",strokeWidth:"4",mask:"url(#path-2-inside-1)",style:{fill:"transparent"}}))),null),label:(0,l.__)("Hover","firebox"),value:"elementHover"},{icon:(0,e.createElement)((()=>(0,e.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M14 3L10.0589 20.7444",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.createElement)("path",{d:"M6 17L1 12L6 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{fill:"transparent"}}),(0,e.createElement)("path",{d:"M18 7L23 12L18 17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",style:{fill:"transparent"}}))),null),label:(0,l.__)("Manually","firebox"),value:"ondemand"}],I=[{label:(0,l.__)("Popup","firebox"),value:"popup",icon:(0,e.createElement)("svg",{width:"118",height:"80",viewBox:"0 0 118 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("rect",{x:"1",y:"1",width:"116",height:"78",rx:"3",fill:"#F0F0F0"}),(0,e.createElement)("rect",{x:"34",y:"23",width:"50",height:"34",rx:"2",fill:"#949494"}),(0,e.createElement)("path",{d:"M116 11H2V12H116V11Z",style:{fill:"#DDDDDD"}}),(0,e.createElement)("circle",{cx:"6",cy:"6",r:"2",fill:"#949494"}),(0,e.createElement)("circle",{cx:"12",cy:"6",r:"2",fill:"#949494"}),(0,e.createElement)("circle",{cx:"18",cy:"6",r:"2",fill:"#949494"}),(0,e.createElement)("path",{d:"M77.9998 29.53L79.8558 31.3865L80.3863 30.8565L78.5303 29L80.3863 27.144L79.8563 26.614L77.9998 28.469L76.1438 26.6135L75.6133 27.1435L77.4693 29L75.6133 30.856L76.1433 31.3865L77.9998 29.53Z",style:{fill:"#F0F0F0"}}))},{label:(0,l.__)("Page Slide","firebox"),value:"pageslide",icon:(0,e.createElement)("svg",{width:"118",height:"80",viewBox:"0 0 118 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("rect",{x:"1",y:"1",width:"116",height:"78",rx:"3",fill:"#F0F0F0"}),(0,e.createElement)("rect",{x:"3",y:"12",width:"112",height:"33",rx:"2",fill:"#949494"}),(0,e.createElement)("rect",{x:"14",y:"48",width:"90",height:"12",rx:"2",fill:"#CCCCCC"}),(0,e.createElement)("rect",{x:"14",y:"63",width:"90",height:"12",rx:"2",fill:"#CCCCCC"}),(0,e.createElement)("path",{d:"M116 11H2V12H116V11Z",style:{fill:"#DDDDDD"}}),(0,e.createElement)("circle",{cx:"6",cy:"6",r:"2",fill:"#949494"}),(0,e.createElement)("circle",{cx:"12",cy:"6",r:"2",fill:"#949494"}),(0,e.createElement)("circle",{cx:"18",cy:"6",r:"2",fill:"#949494"}))},{label:(0,l.__)("Embed","firebox"),value:"embed",icon:(0,e.createElement)("svg",{width:"118",height:"80",viewBox:"0 0 118 80",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("rect",{x:"1",y:"1",width:"116",height:"78",rx:"3",fill:"#F0F0F0"}),(0,e.createElement)("rect",{x:"5",y:"14",width:"66",height:"12",rx:"2",fill:"#E0E0E0"}),(0,e.createElement)("rect",{x:"5",y:"28",width:"66",height:"47",rx:"2",fill:"#E0E0E0"}),(0,e.createElement)("rect",{x:"75",y:"14",width:"38",height:"12",rx:"2",fill:"#E0E0E0"}),(0,e.createElement)("rect",{x:"75",y:"28",width:"38",height:"26",rx:"2",fill:"#949494"}),(0,e.createElement)("rect",{x:"75",y:"56",width:"38",height:"19",rx:"2",fill:"#E0E0E0"}),(0,e.createElement)("path",{d:"M116 11H2V12H116V11Z",style:{fill:"#DDDDDD"}}),(0,e.createElement)("circle",{cx:"6",cy:"6",r:"2",fill:"#949494"}),(0,e.createElement)("circle",{cx:"12",cy:"6",r:"2",fill:"#949494"}),(0,e.createElement)("circle",{cx:"18",cy:"6",r:"2",fill:"#949494"}))}];const O=(0,a.compose)([s,c])((({postID:t,postType:o,metaFields:a,setMetaValue:s})=>{if("firebox"!==o)return null;let c=a?.firebox_meta||{};(0,d.useEffect)((()=>{let e=c?.animationin,t=c?.animationout;if("sidebar"===c?.mode){const o=c?.position,l=c?.animation_type;"slide"===l?"middle-left"===o?(e="slideInLeft",t="slideOutLeft"):"middle-right"===o&&(e="slideInRight",t="slideOutRight"):"fade"===l&&("middle-left"===o?(e="fadeInLeft",t="fadeOutLeft"):"middle-right"===o&&(e="fadeInRight",t="fadeOutRight")),s("animationin",e),s("animationout",t)}else if("stickybar"===c?.mode){const o=c?.position;"top"===o?(e="slideInDown",t="slideOutUp"):"bottom"===o&&(e="slideInUp",t="slideOutDown"),s("animationin",e),s("animationout",t)}else if("slide-in"===c?.mode){switch(c?.position){case"top-left":case"top-center":case"top-right":e="slideInDown",t="slideOutUp";break;case"middle-left":e="slideInLeft",t="slideOutLeft";break;case"middle-right":e="slideInRight",t="slideOutRight";break;case"bottom-left":case"bottom-center":case"bottom-right":e="slideInUp",t="slideOutDown"}s("animationin",e),s("animationout",t)}}),[c?.position,c?.animation_type]);const m=e=>{switch(e){case"popup":return"Display a classic popup campaign on top of the page's content.";case"slide-in":return"Display a slide-in popup on any corner of the page.";case"fullscreen":return"Display a fullscreen popup that covers the entire page.";case"stickybar":return"Display a notification bar at the top or bottom of the page.";case"pageslide":return"Display a popup that slides in from the top of the page (pushes the site's content down), instead of covering your content.";case"floating":return"Display a floating button that triggers the campaign when clicked.";case"sidebar":return"Display a sidebar popup on the left or right side of the page.";case"embed":return'Display the campaign in a specific page or post using the "Embed Campaign" Gutenberg block or [firebox.embed id="X"] shortcode (where X is your campaign ID).';default:return""}},{setUpgradeFeatureModal:u}=(0,i.dispatch)("firebox_editor"),p=(0,d.useMemo)((()=>(0,v.applyFilters)("firebox.triggerMethods",T)),[]),b=(0,d.useMemo)((()=>(0,v.applyFilters)("firebox.formats",I)),[]),f=c?.triggermethod;(0,d.useEffect)((()=>{"floatingbutton"===f&&(s("position","bottom-right"),s("floating_button_position","bottom-right"),s("margin",{desktop:{top:"30px",right:"30px",bottom:"30px",left:"30px"}}))}),[f]);const _='[firebox.embed id="'+t+'"]',[x,g]=(0,d.useState)(!1);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-format-panel",title:(0,l.__)("Format")},(0,e.createElement)(n.__experimentalVStack,{spacing:4},(0,e.createElement)(n.BaseControl,{className:"firebox-format-control",__nextHasNoMarginBottom:!0},(0,e.createElement)(n.__experimentalItemGroup,{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:"8px",width:"100%"}},b.map(((t,o)=>(0,e.createElement)(n.Tooltip,{key:o,text:m(t.value),className:"firebox-tooltip"},(0,e.createElement)(n.__experimentalItem,{key:o,className:`firebox-format-control-item${c?.mode===t.value?" is-active":""}${t?.pro?" is-pro":""}`,onClick:()=>{c?.mode!==t.value&&(t?.pro?u({key:t.value,label:t.label}):(0,i.dispatch)("firebox_editor").setModal({type:"change_format",oldFormat:b.find((e=>e.value===c?.mode))?.label,newFormat:t.label,value:t.value}))},style:{color:c?.mode===t.value?"var(--wp-admin-theme-color)":"#E0E0E0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",textAlign:"center",cursor:"pointer",borderRadius:"0px",fontSize:"12px",width:"100%",padding:"0px",boxSizing:"border-box",position:"relative"}},(0,e.createElement)("div",{className:"icon-wrapper"},t.icon,t?.pro&&(0,e.createElement)("span",{className:"firebox-pro-badge"},(0,l.__)("PRO","firebox"))),(0,e.createElement)("span",{style:{color:c?.mode===t.value?"var(--wp-admin-theme-color)":"#757575"}},t.label))))))),"embed"===c?.mode&&(0,e.createElement)(n.BaseControl,{__nextHasNoMarginBottom:!0},(0,e.createElement)(n.__experimentalText,{variant:"muted"},"Embed this campaign into your posts/pages using the Embed Campaign block or via the shortcode:"),(0,e.createElement)("div",{className:"firebox-copy-paste-code"+(x?" copied":""),onClick:()=>{navigator.clipboard.writeText(_),g(!0),setTimeout((()=>{g(!1)}),2e3)}},(0,e.createElement)("div",{className:"firebox-copy-paste-code__code"},_),(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,e.createElement)("rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1"}),(0,e.createElement)("path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2"}),(0,e.createElement)("path",{d:"M16 4h2a2 2 0 0 1 2 2v4"}),(0,e.createElement)("path",{d:"M21 14H11"}),(0,e.createElement)("path",{d:"m15 10-4 4 4 4"})),(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,e.createElement)("path",{d:"M20 6 9 17l-5-5"})))),!["fullscreen","pageslide","embed","floating"].includes(c?.mode)&&"floatingbutton"!==c?.triggermethod&&(0,e.createElement)(n.BaseControl,{label:(0,l.__)("Popup Position","firebox"),__nextHasNoMarginBottom:!0},"stickybar"===c?.mode&&(0,e.createElement)(n.__experimentalToggleGroupControl,{value:c?.position,isBlock:!0,onChange:e=>s("position",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0},(0,e.createElement)(n.__experimentalToggleGroupControlOption,{value:"top",label:(0,l.__)("Top","firebox")}),(0,e.createElement)(n.__experimentalToggleGroupControlOption,{value:"bottom",label:(0,l.__)("Bottom","firebox")})),"sidebar"===c?.mode&&(0,e.createElement)(n.__experimentalToggleGroupControl,{value:c?.position,isBlock:!0,onChange:e=>s("position",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0},(0,e.createElement)(n.__experimentalToggleGroupControlOption,{value:"middle-left",label:(0,l.__)("Left","firebox")}),(0,e.createElement)(n.__experimentalToggleGroupControlOption,{value:"middle-right",label:(0,l.__)("Right","firebox")})),!["pageslide","embed","fullscreen","stickybar","sidebar"].includes(c?.mode)&&(0,e.createElement)(C,{name:"position",value:c?.position,setMetaValue:s,disabled:"slide-in"===c?.mode?["center"]:[]})),"fullscreen"===c?.mode&&(0,e.createElement)(E,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("If enabled, the content will be centered horizontally and vertically.","firebox")},(0,e.createElement)("span",null,(0,l.__)("CENTER CONTENT","firebox"))),checked:c?.center_content,onChange:e=>s("center_content",e),__nextHasNoMarginBottom:!0}),!["embed","pageslide"].includes(c?.mode)&&(0,e.createElement)(e.Fragment,null,"floating"!==c?.mode&&(0,e.createElement)(n.BaseControl,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Select how your campaign will be triggered.","firebox")},(0,e.createElement)("span",null,(0,l.__)("TRIGGER","firebox"))),__nextHasNoMarginBottom:!0},(0,e.createElement)(n.DropdownMenu,{icon:"",text:(()=>{const t=p.find((e=>e.value===f));return t?(0,e.createElement)(n.__experimentalItemGroup,{isBordered:!0,isSeparated:!0,style:{width:"100%"}},(0,e.createElement)(n.__experimentalItem,null,(0,e.createElement)(n.__experimentalHStack,null,(0,e.createElement)(n.__experimentalHStack,{spacing:2,justify:"space-between",expanded:!1},t.icon,(0,e.createElement)("span",null,t.label)),(0,e.createElement)(n.Icon,{icon:h})))):""})(),controls:p.map((t=>({title:(0,e.createElement)(n.__experimentalHStack,{justify:"justify-between",spacing:"2",className:"firebox-style-dropdown-item"},(0,e.createElement)(n.__experimentalHStack,{justify:"flex-start",spacing:"2"},t.icon,(0,e.createElement)("span",null,t.label)),t?.pro&&(0,e.createElement)("span",{className:"pro-badge"},(0,l.__)("PRO","firebox"))),isActive:f===t.value,onClick:()=>{t?.pro?u({key:t.value,label:t.label}):(s("triggermethod",t.value),"pageheight"===t.value&&s("triggerdelay",0))}}))),className:"firebox-triggers-dropdown",popoverProps:{className:"firebox-full-width-popover"}})),["element","elementHover","onclick"].includes(f)&&(0,e.createElement)(n.TextControl,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Specify the ID or the Class of the element(s) that should fire this trigger. You can specify multiple elements separated by comma. Example 1: .item-100, .item-101, #logo.","firebox")},(0,e.createElement)("span",null,(0,l.__)("Trigger Element","firebox"))),placeholder:"#comments",value:c?.triggerelement,onChange:e=>s("triggerelement",e),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,e.createElement)(L.Slot,{fillProps:{fireboxMeta:c,setMetaValue:s}}),"pageload"===c?.triggermethod&&(0,e.createElement)(E,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("If enabled, the popup will be triggered as soon as the page's HTML is loaded, skipping the wait for additional resources.","firebox")},(0,e.createElement)("span",null,(0,l.__)("EARLY TRIGGER","firebox"))),checked:c?.early_trigger,onChange:e=>s("early_trigger",e),__nextHasNoMarginBottom:!0}),["pageload","element","onclick","elementHover"].includes(f)&&(0,e.createElement)(n.BaseControl,{__nextHasNoMarginBottom:!0},(0,e.createElement)(n.__experimentalUnitControl,{className:"firebox-delay-control firebox-unit-control-spin-buttons",label:(0,l.__)("Delay","firebox"),value:parseFloat(c?.triggerdelay),onChange:e=>{let t=parseFloat(e);t<0&&(t=0),s("triggerdelay",t)},min:0,step:.5,max:120,units:[{value:"sec",label:"sec",default:""}],__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})),(0,e.createElement)(D.Slot,{fillProps:{fireboxMeta:c,setMetaValue:s}})))))})),R=window.wp.blockEditor,U=(0,d.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,d.createElement)(p.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})),H=(0,d.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,d.createElement)(p.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})),V=(0,d.createElement)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,d.createElement)(p.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"}));o(9894);const P=({label:t,children:o,childrenClass:l="",wrapperClass:a=""})=>{const r=[{value:"desktop",icon:(0,e.createElement)(n.Icon,{icon:U}),title:"Desktop"},{value:"tablet",icon:(0,e.createElement)(n.Icon,{icon:H}),title:"Tablet"},{value:"mobile",icon:(0,e.createElement)(n.Icon,{icon:V}),title:"Mobile"}],s=(0,i.useSelect)((e=>e("fpframework-breakpoints").getBreakpoint())),{onBreakpointSet:c}=(0,i.useDispatch)("fpframework-breakpoints"),m=r.find((e=>e.value===s));return(0,e.createElement)(n.BaseControl,{__nextHasNoMarginBottom:!0},(0,e.createElement)("div",{className:`wp-block-fpframework-responsive-control-wrap ${a}`},(0,e.createElement)(n.__experimentalHStack,{justify:"space-between",spacing:"4",className:"fpf-responsive-control-header"},t&&(0,e.createElement)(n.BaseControl.VisualLabel,{className:"fpf-responsive-control-label"},t),(0,e.createElement)(n.DropdownMenu,{icon:m.icon,label:"Select breakpoint",controls:r.map((e=>({icon:e.icon,title:e.title,isActive:e.value===s,onClick:()=>c(e.value)})))})),(0,e.createElement)("div",{className:"wp-block-fpframework-responsive-control-wrap__content"+(l?" "+l:"")},o(s))))},z=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),F=({value:t,mediaId:o,onSelectMedia:a,onRemoveMedia:r})=>{const i=t?t.split("/").pop():"";return(0,e.createElement)("div",{className:"firebox-image-selector"},(0,e.createElement)(n.TextControl,{value:i,placeholder:(0,l.__)("No image selected","firebox"),readOnly:!0,className:"firebox-image-selector--filename",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,e.createElement)("div",{className:"firebox-image-selector--actions"},o&&(0,e.createElement)(n.Button,{icon:z,onClick:r}),(0,e.createElement)(R.MediaUploadCheck,null,(0,e.createElement)(R.MediaUpload,{onSelect:a,allowedTypes:["image"],value:o,render:({open:a})=>(0,e.createElement)(n.Button,{onClick:a,title:(0,l.__)("Select Image","firebox")},o?(0,e.createElement)("img",{src:t,alt:"",className:"firebox-preview-image"}):(0,e.createElement)("svg",{className:"firebox-preview-skeleton",width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M16 0H2C0.9 0 0 0.9 0 2V16C0 17.1 0.9 18 2 18H16C17.1 18 18 17.1 18 16V2C18 0.9 17.1 0 16 0ZM2 1.5H16C16.3 1.5 16.5 1.7 16.5 2V10.4L13.5 7.5C13.2 7.2 12.7 7.2 12.5 7.5L8.9 11L6 9C5.7 8.8 5.4 8.8 5.2 9L1.6 11.6V2C1.5 1.7 1.7 1.5 2 1.5ZM16 16.5H2C1.7 16.5 1.5 16.3 1.5 16V13.6L5.6 10.6L8.6 12.5C8.9 12.7 9.3 12.7 9.5 12.4L13 9L16.5 12.4V16C16.5 16.3 16.3 16.5 16 16.5Z",fill:"#1E1E1E"})))}))))},A=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),j=({label:t="",value:o="",defaultValue:l="",onChange:a})=>{const[r,i]=(0,d.useState)(!1),s=(0,d.useRef)(o||l),c=(0,d.useRef)(null),m=(0,d.useCallback)((e=>{c.current&&clearTimeout(c.current);let t=e;e?.rgb&&parseInt(e?.rgb?.a)<1?t=`rgb(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`:e?.hex&&(t=e.hex),s.current=t,c.current=setTimeout((()=>{a(t)}),10)}),[a]);return(0,e.createElement)(BaseControl,{label:t,__nextHasNoMarginBottom:!0,className:"firebox-color-picker-control"},(0,e.createElement)(n.__experimentalInputControl,{value:o||l,onChange:a,suffix:(0,e.createElement)(e.Fragment,null,(o||l)&&(0,e.createElement)(n.Button,{onClick:()=>a(""),icon:A,iconSize:18,variant:"tertiary"}),(0,e.createElement)("div",{onClick:()=>i(!0),style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:o||"transparent",border:"1px solid #ddd",cursor:"pointer",marginRight:"8px"}})),className:"firebox-color-picker",__next40pxDefaultSize:!0}),r&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.Popover,{className:"firebox-full-width-popover",position:"bottom right",onClose:()=>i(!1),onFocusOutside:()=>i(!1)},(0,e.createElement)(n.ColorPicker,{color:s.current,onChangeComplete:m,enableAlpha:!0}))))},$=(0,a.compose)([s,c])((({postType:t,metaFields:o,setMetaValue:a})=>{if("firebox"!==t)return null;let s=o?.firebox_meta||{};const c=(0,i.useSelect)((e=>e("fpframework-breakpoints").getBreakpoint())),m=(0,d.useRef)(),u=(0,d.useRef)();return(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-design-panel",title:(0,l.__)("Design")},(0,e.createElement)(n.__experimentalVStack,{spacing:"4"},"fullscreen"!==s?.mode&&(0,e.createElement)(n.__experimentalGrid,{columns:["embed","stickybar","sidebar","pageslide"].includes(s?.mode)?1:2,gap:2},!["stickybar","pageslide"].includes(s?.mode)&&(0,e.createElement)(P,{label:(0,l.__)("Width","firebox")},(t=>(0,e.createElement)(n.__experimentalUnitControl,{ref:m,value:s?.width[t],onChange:e=>a("width",{...s?.width,[t]:e}),units:[{value:"px",label:"px",default:""},{value:"%",label:"%",default:""}],onUnitChange:e=>{setTimeout((()=>{m.current?.focus()}),0)},min:0,isResetValueOnUnitChange:!0,className:"firebox-unit-control-spin-buttons",__next40pxDefaultSize:!0}))),!["embed","sidebar"].includes(s?.mode)&&(0,e.createElement)(P,{wrapperClass:"auto"===s?.height[c]?"is-auto":"",label:(0,l.__)("Height","firebox")},(t=>(0,e.createElement)(n.__experimentalUnitControl,{ref:u,value:s?.height[t],onChange:e=>{a("height",{...s?.height,[t]:e})},units:[{value:"px",label:"px",default:""},{value:"%",label:"%",default:""},{value:"auto",label:"auto",default:""}],onUnitChange:e=>{"auto"!==e?(setTimeout((()=>{u.current?.focus()}),0),u.current.removeAttribute("tabIndex")):u.current.setAttribute("tabIndex","-1")},min:0,isResetValueOnUnitChange:!0,className:"firebox-unit-control-spin-buttons",__next40pxDefaultSize:!0})))),(0,e.createElement)(P,{label:(0,l.__)("Padding","firebox")},(t=>(0,e.createElement)(n.BaseControl,{className:"firebox-padding-control",__nextHasNoMarginBottom:!0},(0,e.createElement)(n.__experimentalBoxControl,{label:"",values:s?.padding[t],onChange:e=>{a("padding",{...s?.padding,[t]:e})},units:[{value:"px",label:"px",default:""},{value:"%",label:"%",default:""}],resetValues:"desktop"===t?{top:"30px",right:"30px",bottom:"30px",left:"30px"}:{},allowReset:!0,__next40pxDefaultSize:!0})))),!["fullscreen","pageslide"].includes(s?.mode)&&(0,e.createElement)(P,{label:(0,l.__)("Margin","firebox")},(t=>(0,e.createElement)(n.BaseControl,{className:"firebox-padding-control",__nextHasNoMarginBottom:!0},(0,e.createElement)(n.__experimentalBoxControl,{label:"",values:s?.margin[t],onChange:e=>{a("margin",{...s?.margin,[t]:e})},units:[{value:"px",label:"px",default:""},{value:"%",label:"%",default:""}],allowReset:!0,__next40pxDefaultSize:!0})))),(0,e.createElement)(j,{value:s?.backgroundcolor,onChange:e=>a("backgroundcolor",e),label:(0,l.__)("Background Color","firebox")}),"embed"!==s?.mode&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(E,{label:(0,l.__)("Image as background","firebox"),checked:s?.bgimage,onChange:e=>a("bgimage",e)}),s?.bgimage&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.BaseControl,{label:(0,l.__)("Background Image","firebox"),__nextHasNoMarginBottom:!0},(0,e.createElement)(F,{value:s?.bgimagefile||"",mediaId:s?.bgimagefileid||!1,onSelectMedia:e=>{a("bgimagefile",e.url),a("bgimagefileid",e.id)},onRemoveMedia:()=>{a("bgimagefile",""),a("bgimagefileid",!1)}})),(0,e.createElement)(n.SelectControl,{label:(0,l.__)("Background Image Repeat","firebox"),value:s?.bgrepeat,onChange:e=>a("bgrepeat",e),options:[{value:"No-repeat",label:(0,l.__)("No-repeat","firebox")},{value:"Repeat",label:(0,l.__)("Repeat","firebox")},{value:"Repeat-x",label:(0,l.__)("Repeat-x","firebox")},{value:"Repeat-y",label:(0,l.__)("Repeat-y","firebox")}],__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,e.createElement)(n.SelectControl,{label:(0,l.__)("Background Image Size","firebox"),value:s?.bgsize,onChange:e=>a("bgsize",e),options:[{value:"Auto",label:(0,l.__)("Auto","firebox")},{value:"Cover",label:(0,l.__)("Cover","firebox")},{value:"Contain",label:(0,l.__)("Contain","firebox")},{value:"100% 100%",label:(0,l.__)("100% 100%","firebox")}],__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,e.createElement)(n.SelectControl,{label:(0,l.__)("Background Image Position","firebox"),value:s?.bgposition,onChange:e=>a("bgposition",e),options:[{value:"Left Top",label:(0,l.__)("Left Top","firebox")},{value:"Left Center",label:(0,l.__)("Left Center","firebox")},{value:"Left Bottom",label:(0,l.__)("Left Bottom","firebox")},{value:"Right Top",label:(0,l.__)("Right Top","firebox")},{value:"Right Center",label:(0,l.__)("Right Center","firebox")},{value:"Right Bottom",label:(0,l.__)("Right Bottom","firebox")},{value:"Center Top",label:(0,l.__)("Center Top","firebox")},{value:"Center Center",label:(0,l.__)("Center Center","firebox")},{value:"Center Bottom",label:(0,l.__)("Center Bottom","firebox")}],__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}))),(0,e.createElement)(n.__experimentalBorderControl,{label:(0,l.__)("Border","firebox"),value:s?.border,onChange:e=>a("border",e),__next40pxDefaultSize:!0}),"fullscreen"!==s?.mode&&(0,e.createElement)(P,{label:(0,l.__)("RADIUS","firebox"),wrapperClass:"firebox-hide-control-label"},(t=>(0,e.createElement)(R.__experimentalBorderRadiusControl,{values:s?.borderradius[t],onChange:e=>{a("borderradius",{...s?.borderradius,[t]:e})}}))),!["embed","fullscreen","pageslide","stickybar"].includes(s?.mode)&&(0,e.createElement)(E,{label:(0,l.__)("Enable Shadow","firebox"),checked:s?.boxshadow,onChange:e=>a("boxshadow",e)})))})),Z=({label:t="",fireboxMeta:o={},options:l=[],setMetaValue:a,metaKey:r})=>{const[i,s]=(0,e.useState)(o?.[r]),c=(0,e.useRef)(null);return(0,e.createElement)("div",{className:"firebox-play-control",ref:c},(0,e.createElement)(n.ComboboxControl,{label:t,value:o?.[r],onChange:e=>{return t=r,s(o=e),a(t,o),void u(o,"animationin"===r);var t,o},options:l,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,e.createElement)("div",{className:"firebox-play-control--actions"},(0,e.createElement)(n.Button,{onClick:()=>{u(i,"animationin"===r)},variant:"tertiary"},(0,e.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("mask",{id:"mask0_251_8045",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24"},(0,e.createElement)("rect",{width:"24",height:"24",fill:"#D9D9D9"})),(0,e.createElement)("g",{mask:"url(#mask0_251_8045)"},(0,e.createElement)("path",{d:"M9.5 17V7L17.5 12L9.5 17Z",fill:"currentColor"}))))))},G=[{value:"fadeIn",label:(0,l.__)("fadeIn","firebox")},{value:"fadeInDown",label:(0,l.__)("fadeInDown","firebox")},{value:"fadeInDownBig",label:(0,l.__)("fadeInDownBig","firebox")},{value:"fadeInLeft",label:(0,l.__)("fadeInLeft","firebox")},{value:"fadeInLeftBig",label:(0,l.__)("fadeInLeftBig","firebox")},{value:"fadeInRight",label:(0,l.__)("fadeInRight","firebox")},{value:"fadeInRightBig",label:(0,l.__)("fadeInRightBig","firebox")},{value:"fadeInUp",label:(0,l.__)("fadeInUp","firebox")},{value:"fadeInUpBig",label:(0,l.__)("fadeInUpBig","firebox")},{value:"fadeInTopLeft",label:(0,l.__)("fadeInTopLeft","firebox")},{value:"fadeInTopRight",label:(0,l.__)("fadeInTopRight","firebox")},{value:"fadeInBottomLeft",label:(0,l.__)("fadeInBottomLeft","firebox")},{value:"fadeInBottomRight",label:(0,l.__)("fadeInBottomRight","firebox")}],q=[{value:"slideInDown",label:(0,l.__)("slideInDown","firebox")},{value:"slideInLeft",label:(0,l.__)("slideInLeft","firebox")},{value:"slideInRight",label:(0,l.__)("slideInRight","firebox")},{value:"slideInUp",label:(0,l.__)("slideInUp","firebox")}],W=[{value:"bounce",label:(0,l.__)("Bounce","firebox")},{value:"flash",label:(0,l.__)("Flash","firebox")},{value:"pulse",label:(0,l.__)("Pulse","firebox")},{value:"rubberBand",label:(0,l.__)("Rubber Band","firebox")},{value:"shakeX",label:(0,l.__)("Shake X","firebox")},{value:"shakeY",label:(0,l.__)("Shake Y","firebox")},{value:"headShake",label:(0,l.__)("Head Shake","firebox")},{value:"swing",label:(0,l.__)("Swing","firebox")},{value:"tada",label:(0,l.__)("Tada","firebox")},{value:"wobble",label:(0,l.__)("Wobble","firebox")},{value:"jello",label:(0,l.__)("Jello","firebox")},{value:"hinge",label:(0,l.__)("Hinge","firebox")},{value:"jackInTheBox",label:(0,l.__)("Jack In The Box","firebox")},{value:"rollIn",label:(0,l.__)("Roll In","firebox")},{value:"heartBeat",label:(0,l.__)("heartBeat","firebox")},{value:"backInDown",label:(0,l.__)("backInDown","firebox")},{value:"backInLeft",label:(0,l.__)("backInLeft","firebox")},{value:"backInRight",label:(0,l.__)("backInRight","firebox")},{value:"backInUp",label:(0,l.__)("backInUp","firebox")},{value:"bounceIn",label:(0,l.__)("bounceIn","firebox")},{value:"bounceInDown",label:(0,l.__)("bounceInDown","firebox")},{value:"bounceInLeft",label:(0,l.__)("bounceInLeft","firebox")},{value:"bounceInRight",label:(0,l.__)("bounceInRight","firebox")},{value:"bounceInUp",label:(0,l.__)("bounceInUp","firebox")},...G,{value:"flip",label:(0,l.__)("flip","firebox")},{value:"flipInX",label:(0,l.__)("flipInX","firebox")},{value:"flipInY",label:(0,l.__)("flipInY","firebox")},{value:"lightSpeedInRight",label:(0,l.__)("lightSpeedInRight","firebox")},{value:"lightSpeedInLeft",label:(0,l.__)("lightSpeedInLeft","firebox")},{value:"rotateIn",label:(0,l.__)("rotateIn","firebox")},{value:"rotateInDownLeft",label:(0,l.__)("rotateInDownLeft","firebox")},{value:"rotateInDownRight",label:(0,l.__)("rotateInDownRight","firebox")},{value:"rotateInUpLeft",label:(0,l.__)("rotateInUpLeft","firebox")},{value:"rotateInUpRight",label:(0,l.__)("rotateInUpRight","firebox")},{value:"zoomIn",label:(0,l.__)("zoomIn","firebox")},{value:"zoomInDown",label:(0,l.__)("zoomInDown","firebox")},{value:"zoomInLeft",label:(0,l.__)("zoomInLeft","firebox")},{value:"zoomInRight",label:(0,l.__)("zoomInRight","firebox")},{value:"zoomInUp",label:(0,l.__)("zoomInUp","firebox")},...q],Y=[{value:"fadeOut",label:(0,l.__)("fadeOut","firebox")},{value:"fadeOutDown",label:(0,l.__)("fadeOutDown","firebox")},{value:"fadeOutDownBig",label:(0,l.__)("fadeOutDownBig","firebox")},{value:"fadeOutLeft",label:(0,l.__)("fadeOutLeft","firebox")},{value:"fadeOutLeftBig",label:(0,l.__)("fadeOutLeftBig","firebox")},{value:"fadeOutRight",label:(0,l.__)("fadeOutRight","firebox")},{value:"fadeOutRightBig",label:(0,l.__)("fadeOutRightBig","firebox")},{value:"fadeOutUp",label:(0,l.__)("fadeOutUp","firebox")},{value:"fadeOutUpBig",label:(0,l.__)("fadeOutUpBig","firebox")},{value:"fadeOutTopLeft",label:(0,l.__)("fadeOutTopLeft","firebox")},{value:"fadeOutTopRight",label:(0,l.__)("fadeOutTopRight","firebox")},{value:"fadeOutBottomRight",label:(0,l.__)("fadeOutBottomRight","firebox")},{value:"fadeOutBottomLeft",label:(0,l.__)("fadeOutBottomLeft","firebox")}],K=[{value:"slideOutDown",label:(0,l.__)("slideOutDown","firebox")},{value:"slideOutLeft",label:(0,l.__)("slideOutLeft","firebox")},{value:"slideOutRight",label:(0,l.__)("slideOutRight","firebox")},{value:"slideOutUp",label:(0,l.__)("slideOutUp","firebox")}],X=[{value:"backOutDown",label:(0,l.__)("backOutDown","firebox")},{value:"backOutLeft",label:(0,l.__)("backOutLeft","firebox")},{value:"backOutRight",label:(0,l.__)("backOutRight","firebox")},{value:"backOutUp",label:(0,l.__)("backOutUp","firebox")},{value:"bounceOut",label:(0,l.__)("bounceOut","firebox")},{value:"bounceOutDown",label:(0,l.__)("bounceOutDown","firebox")},{value:"bounceOutLeft",label:(0,l.__)("bounceOutLeft","firebox")},{value:"bounceOutRight",label:(0,l.__)("bounceOutRight","firebox")},{value:"bounceOutUp",label:(0,l.__)("bounceOutUp","firebox")},...Y,{value:"flipOutX",label:(0,l.__)("flipOutX","firebox")},{value:"flipOutY",label:(0,l.__)("flipOutY","firebox")},{value:"lightSpeedOutRight",label:(0,l.__)("lightSpeedOutRight","firebox")},{value:"lightSpeedOutLeft",label:(0,l.__)("lightSpeedOutLeft","firebox")},{value:"rotateOut",label:(0,l.__)("rotateOut","firebox")},{value:"rotateOutDownLeft",label:(0,l.__)("rotateOutDownLeft","firebox")},{value:"rotateOutDownRight",label:(0,l.__)("rotateOutDownRight","firebox")},{value:"rotateOutUpLeft",label:(0,l.__)("rotateOutUpLeft","firebox")},{value:"rotateOutUpRight",label:(0,l.__)("rotateOutUpRight","firebox")},{value:"rollOut",label:(0,l.__)("rollOut","firebox")},{value:"zoomOut",label:(0,l.__)("zoomOut","firebox")},{value:"zoomOutDown",label:(0,l.__)("zoomOutDown","firebox")},{value:"zoomOutLeft",label:(0,l.__)("zoomOutLeft","firebox")},{value:"zoomOutRight",label:(0,l.__)("zoomOutRight","firebox")},{value:"zoomOutUp",label:(0,l.__)("zoomOutUp","firebox")},...K],J=(0,a.compose)([s,c])((({postType:t,metaFields:o,setMetaValue:a})=>{if("firebox"!==t)return null;let i=o?.firebox_meta||{},s=W,c=X;return"pageslide"===i?.mode&&(s=[...G,...q],c=[...Y,...K]),(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-animations-panel",title:(0,l.__)("Animations","firebox"),className:["slide-in","stickybar","pageslide","sidebar","embed"].includes(i?.mode)?"firebox-panel-hidden":""},(0,e.createElement)(n.__experimentalVStack,{spacing:4},["sidebar"].includes(i?.mode)?(0,e.createElement)(n.__experimentalToggleGroupControl,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Choose the type of animation to use.","firebox")},(0,e.createElement)("span",null,(0,l.__)("ANIMATION TYPE","firebox"))),value:i?.animation_type||"fade",onChange:e=>{let t=i?.mode||"";const o=i?.position||"";a("animation_type",e);let l="";"sidebar"===t?"middle-left"===o?"slide"===e?(l="slideInLeft",a("animationin",l),a("animationout","slideOutLeft")):(l="fadeInLeft",a("animationin",l),a("animationout","fadeOutLeft")):"middle-right"===o&&("slide"===e?(l="slideInRight",a("animationin",l),a("animationout","slideOutRight")):(l="fadeInRight",a("animationin",l),a("animationout","fadeOutRight"))):"stickybar"===t&&("top"===o?(l="slideInDown",a("animationin",l),a("animationout","slideOutUp")):"bottom"===o&&(l="slideInUp",a("animationin",l),a("animationout","slideOutDown"))),u(l,!0)},isBlock:!0,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0},(0,e.createElement)(n.__experimentalToggleGroupControlOption,{value:"fade",label:(0,l.__)("Fade","firebox")}),(0,e.createElement)(n.__experimentalToggleGroupControlOption,{value:"slide",label:(0,l.__)("Slide","firebox")})):"slide-in"!==i?.mode?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Z,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Set the animation when the campaign is opened.","firebox")},(0,e.createElement)("span",null,(0,l.__)("OPEN ANIMATION","firebox"))),metaKey:"animationin",fireboxMeta:i,setMetaValue:a,options:s}),(0,e.createElement)(Z,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Set the animation when the campaign is closed.","firebox")},(0,e.createElement)("span",null,(0,l.__)("CLOSE ANIMATION","firebox"))),metaKey:"animationout",fireboxMeta:i,setMetaValue:a,options:c})):""))})),Q=(0,a.compose)([s,c])((({postType:t,metaFields:o,setMetaValue:a})=>{if("firebox"!==t)return null;let i=o?.firebox_meta||{};const s=!["pageslide","embed","fullscreen","slide-in","stickybar","pageslide"].includes(i?.mode);return(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-background-overlay-panel",title:(0,l.__)("Background Overlay","firebox"),className:s?"":"firebox-panel-hidden"},(0,e.createElement)(n.__experimentalVStack,{spacing:"4"},(0,e.createElement)(E,{label:(0,l.__)("Enabled","firebox"),checked:i?.overlay,onChange:e=>a("overlay",e)}),i?.overlay&&(0,e.createElement)(n.__experimentalVStack,{spacing:"4"},(0,e.createElement)(j,{label:(0,l.__)("Color","firebox"),value:i?.overlay_color,onChange:e=>a("overlay_color",e)}),(0,e.createElement)(n.SelectControl,{label:(0,l.__)("Blur Level","firebox"),value:i?.overlayblurradius,onChange:e=>a("overlayblurradius",e),options:[{label:(0,l.__)("None","firebox"),value:0},{label:(0,l.__)("Light","firebox"),value:2},{label:(0,l.__)("Medium","firebox"),value:14},{label:(0,l.__)("Strong","firebox"),value:45}],__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,e.createElement)(E,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Close the popup when clicking on the background overlay.","firebox")},(0,e.createElement)("span",null,(0,l.__)("CLOSE ON CLICK","firebox"))),checked:i?.overlayclick,onChange:e=>a("overlayclick",e),__nextHasNoMarginBottom:!0}))))})),{Fill:ee,Slot:te}=(0,n.createSlotFill)("FireBox_Behavior_Slotfill_1"),oe=({children:t})=>(0,e.createElement)(ee,null,t);oe.Slot=({fillProps:t})=>(0,e.createElement)(te,{fillProps:t},(e=>e.length?e:null));const le=oe,{Fill:ae,Slot:re}=(0,n.createSlotFill)("FireBox_Behavior_Slotfill_2"),ne=({children:t})=>(0,e.createElement)(ae,null,t);ne.Slot=({fillProps:t})=>(0,e.createElement)(re,{fillProps:t},(e=>e.length?e:null));const ie=ne,se=({value:t,mediaId:o,onSelectMedia:a,onRemoveMedia:r})=>(0,e.createElement)(n.__experimentalVStack,null,(0,e.createElement)(R.MediaUploadCheck,null,(0,e.createElement)(R.MediaUpload,{onSelect:a,allowedTypes:["audio"],value:o,render:({open:a})=>(0,e.createElement)(n.Button,{className:o?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",variant:o?"":"primary",onClick:a,__next40pxDefaultSize:!0},!o&&(0,l.__)("Choose Sound","firebox"),o&&(0,e.createElement)("span",null,t))})),o&&(0,e.createElement)(R.MediaUploadCheck,null,(0,e.createElement)(R.MediaUpload,{title:(0,l.__)("Replace Sound","firebox"),value:o,onSelect:a,allowedTypes:["audio"],render:({open:t})=>(0,e.createElement)(n.Button,{onClick:t,variant:"primary",__next40pxDefaultSize:!0},(0,l.__)("Replace Sound","firebox"))})),o&&(0,e.createElement)(R.MediaUploadCheck,null,(0,e.createElement)(n.Button,{onClick:r,variant:"link",isDestructive:!0,__next40pxDefaultSize:!0},(0,l.__)("Remove Sound","firebox")))),ce=[{label:(0,l.__)("None","firebox"),value:"none"},{label:(0,l.__)("Custom Sound File","firebox"),value:"custom_file"},{label:(0,l.__)("Custom Sound URL","firebox"),value:"custom_url"},{label:(0,l.__)("Earth","firebox"),value:"earth"},{label:(0,l.__)("Jupiter","firebox"),value:"jupiter"},{label:(0,l.__)("Mars","firebox"),value:"mars"},{label:(0,l.__)("Moon","firebox"),value:"moon"},{label:(0,l.__)("Uranus","firebox"),value:"uranus"}],me=({label:t="",value:o,setMetaValue:l,existingValue:a})=>{const[r,i]=(0,e.useState)(o),s=(0,e.useRef)(null),[c,m]=(0,e.useState)(!1),[u,d]=(0,e.useState)(null),[p,b]=(0,e.useState)(!1);(0,e.useEffect)((()=>{const e=e=>{s.current&&!s.current.contains(e.target)&&p&&b(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[p]);const f=e=>{let t="";if(["earth","jupiter","mars","moon","uranus"].includes(e)?t=fbox_admin_editor_js_object.media_url+"admin/sounds/"+e+".mp3":"custom_file"===e?t=a?.file||"":"custom_url"===e&&(t=a?.url||""),t){const e=new Audio(t);d(e),e.pause(),e.currentTime=0,e.play(),m(!0),e.addEventListener("ended",(()=>{m(!1)}))}};return(0,e.createElement)("div",{className:"firebox-play-control",ref:s},(0,e.createElement)(n.ComboboxControl,{label:t,value:o,onChange:e=>(e=>{i(e),l("opening_sound",{...a||{},source:e}),f(e)})(e),className:"firebox-play-control",options:ce,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,onInputChange:()=>{setTimeout((()=>{const e=s.current?.querySelector('[role="listbox"]');b(!!e)}),100)}}),(0,e.createElement)("div",{className:"firebox-play-control--actions"},c?(0,e.createElement)(n.Button,{onClick:()=>{u&&(u.pause(),u.currentTime=0,m(!1))},variant:"tertiary"},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"24px",viewBox:"0 -960 960 960",width:"24px"},(0,e.createElement)("path",{d:"M520-200v-560h240v560H520Zm-320 0v-560h240v560H200Zm400-80h80v-400h-80v400Zm-320 0h80v-400h-80v400Zm0-400v400-400Zm320 0v400-400Z",fill:"currentColor"}))):"none"!==r&&("custom_file"!==r||a?.file)&&("custom_url"!==r||a?.url)&&(0,e.createElement)(n.Button,{onClick:()=>{f(r),b(!1)},variant:"tertiary"},(0,e.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("mask",{id:"mask0_251_8045",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24"},(0,e.createElement)("rect",{width:"24",height:"24",fill:"#D9D9D9"})),(0,e.createElement)("g",{mask:"url(#mask0_251_8045)"},(0,e.createElement)("path",{d:"M9.5 17V7L17.5 12L9.5 17Z",fill:"currentColor"})))),(0,e.createElement)(n.Button,{onClick:e=>{if(e.preventDefault(),e.stopPropagation(),s.current){const e=s.current.querySelector("input");if(e)if(p)e.blur(),b(!1);else{e.focus();const t=new KeyboardEvent("keydown",{key:"ArrowDown",code:"ArrowDown",keyCode:40,which:40,bubbles:!0});e.dispatchEvent(t),b(!0)}}}},(0,e.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M15.9897 10.889L12.0017 14.307L8.01367 10.889L8.98967 9.74902L12.0017 12.331L15.0137 9.75002L15.9897 10.889Z",fill:"currentColor"})))))},ue=(0,a.compose)([s,c])((({postType:t,metaFields:o,setMetaValue:a})=>{if("firebox"!==t)return null;let i=o?.firebox_meta||{};const s=i?.opening_sound?.source,c=i?.assign_cookietype,m=i?.assign_cookietype_param_custom_period_times,u=i?.assign_cookietype_param_custom_period,[d,p]=useState();return useEffect((()=>{"custom"===c&&p(m+u)}),[c,m,u]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-behavior-panel",title:(0,l.__)("Open/Close Behavior","firebox"),className:"embed"!==i?.mode?"":"firebox-panel-hidden"},(0,e.createElement)(n.__experimentalVStack,{spacing:4},(0,e.createElement)(le.Slot,{fillProps:{fireboxMeta:i,setMetaValue:a}}),(0,e.createElement)(me,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Select a sound to play when the campaign appears. Note that browsers on iOS and Android (e.g. Safari, Chrome, etc...) may refuse to play the sound due to requiring user interaction.","firebox")},(0,e.createElement)("span",null,(0,l.__)("OPENING SOUND","firebox"))),value:s,setMetaValue:a,existingValue:i?.opening_sound}),"custom_file"===s&&(0,e.createElement)(n.BaseControl,{label:(0,l.__)("Custom Sound File","firebox"),__nextHasNoMarginBottom:!0},(0,e.createElement)(se,{value:i?.opening_sound?.file||"",mediaId:i?.opening_sound?.fileid||!1,onSelectMedia:e=>{a("opening_sound",{...i?.opening_sound||{},file:e.url,fileid:e.id})},onRemoveMedia:()=>{a("opening_sound",{...i?.opening_sound||{},file:"",fileid:!1})}})),"custom_url"===s&&(0,e.createElement)(n.TextControl,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Enter the URL of the sound file.","firebox")},(0,e.createElement)("span",null,(0,l.__)("CUSTOM SOUND URL","firebox"))),value:i?.opening_sound?.url||"",onChange:e=>a("opening_sound",{...i?.opening_sound||{},url:e}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,e.createElement)(n.SelectControl,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Specify how long the popup will be hidden for after it has been closed.","firebox")},(0,e.createElement)("span",null,(0,l.__)("WHEN CLOSED","firebox"))),value:i?.assign_cookietype,onChange:e=>a("assign_cookietype",e),options:[{label:(0,l.__)("Keep showing the campaign","firebox"),value:"never"},{label:(0,l.__)("Hide forever","firebox"),value:"ever"},{label:(0,l.__)("Hide for the remaining session","firebox"),value:"session"},{label:(0,l.__)("Hide for X (days, hours, minutes)","firebox"),value:"custom"}],__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),"custom"===i?.assign_cookietype&&(0,e.createElement)(n.__experimentalUnitControl,{label:"HIDE FOR",value:d,className:"firebox-unit-control-unit-auto-width firebox-unit-control-spin-buttons",units:[{label:(0,l.__)("day(s)","firebox"),value:"days"},{label:(0,l.__)("hour(s)","firebox"),value:"hours"},{label:(0,l.__)("minute(s)","firebox"),value:"minutes"}],onChange:e=>a("assign_cookietype_param_custom_period_times",parseInt(e)),onUnitChange:e=>a("assign_cookietype_param_custom_period",e),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,e.createElement)(E,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Enable to automatically close the campaign after a specified time.","firebox")},(0,e.createElement)("span",null,(0,l.__)("AUTO CLOSE","firebox"))),checked:i?.box_auto_close,onChange:e=>a("box_auto_close",e)}),i?.box_auto_close&&(0,e.createElement)(n.__experimentalUnitControl,{label:"AFTER",value:i?.box_auto_close_seconds,className:"firebox-unit-control-unit-auto-width firebox-unit-control-spin-buttons",units:[{label:(0,l.__)("seconds","firebox"),value:"seconds"}],onChange:e=>a("box_auto_close_seconds",parseInt(e)),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,e.createElement)(ie.Slot,{fillProps:{fireboxMeta:i,setMetaValue:a}}))))})),de=[["1",(0,l.__)("Inside","firebox")],["2",(0,l.__)("Outside","firebox")],["0",(0,l.__)("Hide","firebox")]],pe=[["2",(0,l.__)("Show","firebox")],["0",(0,l.__)("Hide","firebox")]],be=(0,a.compose)([s,c])((({postType:t,metaFields:o,setMetaValue:a})=>{if("firebox"!==t)return null;let i=o?.firebox_meta||{};const s="fullscreen"===i?.mode?pe:de;let c=i?.closebutton?.mediaId||!1,m=i?.closebutton?.show,u=i?.closebutton?.source;return(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-close-button-panel",title:(0,l.__)("Close Button","firebox"),className:"close-button-panel "+("embed"!==i?.mode?"":"firebox-panel-hidden")},(0,e.createElement)(n.__experimentalVStack,{spacing:4},(0,e.createElement)(n.__experimentalToggleGroupControl,{label:(0,l.__)("Button Position","firebox"),value:m,isBlock:!0,onChange:e=>a("closebutton",{...i?.closebutton,show:e}),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0},s.map((([t,o])=>(0,e.createElement)(n.__experimentalToggleGroupControlOption,{key:t,value:t,label:o})))),("1"==m||"2"==m)&&(0,e.createElement)(n.__experimentalToggleGroupControl,{label:(0,l.__)("Button Type","firebox"),value:u,isBlock:!0,onChange:e=>a("closebutton",{...i?.closebutton,source:e}),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0},(0,e.createElement)(n.__experimentalToggleGroupControlOption,{value:"icon",label:(0,l.__)("Icon","firebox")}),(0,e.createElement)(n.__experimentalToggleGroupControlOption,{value:"image",label:(0,l.__)("Image","firebox")})),"icon"===u&&("1"==m||"2"==m)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(j,{value:i?.closebutton?.color,onChange:e=>a("closebutton",{...i?.closebutton,color:e}),label:(0,l.__)("Color","firebox")}),(0,e.createElement)(j,{value:i?.closebutton?.hover,onChange:e=>a("closebutton",{...i?.closebutton,hover:e}),label:(0,l.__)("Hover Color","firebox")})),"icon"===u&&("1"==m||"2"==m)&&(0,e.createElement)(n.__experimentalUnitControl,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Set the size of the close button.","firebox")},(0,e.createElement)("span",null,(0,l.__)("Size","firebox"))),value:i?.closebutton?.size,onChange:e=>a("closebutton",{...i?.closebutton,size:parseInt(e)}),units:[{value:"px",label:"px",default:""}],min:0,className:"firebox-unit-control-spin-buttons",__next40pxDefaultSize:!0}),"image"===u&&("1"==m||"2"==m)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(F,{value:i?.closebutton?.image,mediaId:c,onSelectMedia:e=>{a("closebutton",{...i?.closebutton,mediaId:e.id,image:e.url})},onRemoveMedia:()=>{a("closebutton",{...i?.closebutton,mediaId:!1,image:""})}})),("1"==m||"2"==m)&&(0,e.createElement)(n.__experimentalUnitControl,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Set the delay before the close button appears.","firebox")},(0,e.createElement)("span",null,(0,l.__)("Delay","firebox"))),value:i?.closebutton?.delay,onChange:e=>a("closebutton",{...i?.closebutton,delay:parseFloat(e)}),units:[{value:"sec",label:"sec",default:""}],className:"firebox-unit-control-spin-buttons",min:0,step:.5,__next40pxDefaultSize:!0})))})),{Fill:fe,Slot:_e}=(0,n.createSlotFill)("FireBox_Actions_Slotfill"),xe=({children:t})=>(0,e.createElement)(fe,null,t);xe.Slot=({fillProps:t})=>(0,e.createElement)(_e,{fillProps:t},(e=>e.length?e:null));const ge=xe,he=(0,a.compose)([s,c])((({postType:t,metaFields:o,setMetaValue:a})=>{if("firebox"!==t)return null;let i=o?.firebox_meta?.actions||[];return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-actions-panel",title:(0,l.__)("Actions","firebox")},(0,e.createElement)(n.__experimentalVStack,{spacing:4},0===i?.length&&(0,e.createElement)(n.__experimentalText,{variant:"muted",size:"12"},(0,e.createElement)("span",null,(0,l.__)("Actions listen to campaign events (like Open and Close) and execute when the specified event occurs.","firebox"))," ",(0,e.createElement)("a",{href:`https://www.fireplugins.com/docs/advanced-features/actions/?utm_source=product&utm_campaign=firebox-${"lite"===fbox_admin_editor_js_object.license_type?"free":"pro"}&utm_medium=misc&utm_content=working-with-actions`,target:"_blank"},(0,l.__)("Learn more","firebox"))),(0,e.createElement)(ge.Slot,{fillProps:{actions:i,setMetaValue:a}}))))})),ve=(0,a.compose)([(0,i.withSelect)((e=>({dispatcher:(0,i.dispatch)("firebox_editor"),campaigns:e("core").getEntityRecords("postType","firebox",{per_page:-1,_fields:["id","title"]})}))),s,c])((({campaigns:t,postType:o,metaFields:a,setMetaValue:s})=>{if("firebox"!==o)return null;let c=a?.firebox_meta||{};const m=c?.display_conditions_type,u=(0,e.useMemo)((()=>t?0===t.length?[{label:(0,l.__)("No campaigns found.","firebox"),value:""}]:(t=t.filter((e=>e.id!==wp.data.select("core/editor").getCurrentPostId()))).map((e=>({label:e.title.raw,value:e.id}))):[{label:(0,l.__)("Loading...","firebox"),value:""}]),[t]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-display-conditions-panel",title:(0,l.__)("Display Conditions","firebox")},(0,e.createElement)(n.__experimentalVStack,{spacing:4},(0,e.createElement)(n.SelectControl,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Select whether the campaign will be seen by everyone, mirror the conditions from another campaign or set your own custom conditions.","firebox")},(0,e.createElement)("span",null,(0,l.__)("Who should see this campaign?","firebox"))),value:m,onChange:e=>s("display_conditions_type",e),options:[{label:(0,l.__)("Everyone","firebox"),value:"all"},{label:(0,l.__)("Mirror another campaign","firebox"),value:"mirror"},{label:(0,l.__)("Set custom rules","firebox"),value:"custom"}],__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),"mirror"===m&&(0,e.createElement)(n.SelectControl,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Select the campaign you want to mirror its Display Conditions.","firebox")},(0,e.createElement)("span",null,(0,l.__)("Mirrored Campaign","firebox"))),value:c?.mirror_box,onChange:e=>s("mirror_box",e),options:u,__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),"custom"===m&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.Button,{variant:"primary",onClick:()=>{(0,i.dispatch)("firebox_editor").setModal({type:"display_conditions"})}},(0,l.__)("Set Custom Rules","firebox"))))))})),{Fill:Ee,Slot:we}=(0,n.createSlotFill)("FireBox_PHPScripts_Slotfill"),Ce=({children:t})=>(0,e.createElement)(Ee,null,t);Ce.Slot=({fillProps:t})=>(0,e.createElement)(we,{fillProps:t},(e=>e.length?e:null));const ye=Ce,ke=(0,a.compose)([s,c])((({postType:t,metaFields:o,setMetaValue:a})=>{if("firebox"!==t)return null;let n=o?.firebox_meta||{};return(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-php-scripts-panel",title:(0,l.__)("PHP Scripts","firebox")},(0,e.createElement)(ye.Slot,{fillProps:{fireboxMeta:n,setMetaValue:a}}))})),Se=({onChange:t=null,value:o="",help:l="",label:a="",mode:r="javascript"})=>{const i=(0,d.useRef)(null),s=(0,d.useRef)(null),[c,m]=(0,d.useState)(!1),[u,p]=(0,d.useState)(!0),b=(0,d.useRef)(null),f=(0,d.useRef)(null),_=(0,d.useRef)(null),x=(0,d.useRef)(!0);return(0,d.useEffect)((()=>{let e=null;if(_.current){const l=_.current.querySelector("textarea");if(!l||"undefined"==typeof wp||!wp.CodeMirror)return;e=wp.CodeMirror.fromTextArea(l,{lineNumbers:!0,mode:r,theme:"default",indentUnit:4,indentWithTabs:!0,lineWrapping:!0,autoCloseBrackets:!0,matchBrackets:!0}),e.setValue(o),e.on("change",(e=>{const l=e.getValue();t&&l!==o&&t(l)})),e.getWrapperElement().style.width="100%",e.refresh(),i.current=e,p(!1)}return()=>{if(i.current){try{i.current.toTextArea()}catch(e){}i.current=null}}}),[r]),(0,d.useEffect)((()=>{if(!x.current&&i.current){const e=i.current.getValue();if(o!==e){const e=i.current.getCursor();i.current.setValue(o),i.current.setCursor(e)}}x.current=!1}),[o]),(0,d.useEffect)((()=>{let e=null;if(c&&f.current){const t=f.current.querySelector("textarea");if(!t||"undefined"==typeof wp||!wp.CodeMirror)return;if(s.current){try{s.current.toTextArea()}catch(e){}s.current=null}return e=wp.CodeMirror.fromTextArea(t,{lineNumbers:!0,mode:r,theme:"default",indentUnit:4,indentWithTabs:!0,lineWrapping:!0,autoCloseBrackets:!0,matchBrackets:!0,extraKeys:{"Ctrl-Space":"autocomplete"}}),e.setValue(o),e.getWrapperElement().style.width="100%",e.refresh(),e.setSize("100%","100%"),s.current=e,e.focus(),e.setCursor(e.lineCount(),0),()=>{if(s.current){try{s.current.toTextArea()}catch(e){}s.current=null}}}}),[c,r,o]),(0,e.createElement)("div",{style:{width:"100%"}},(0,e.createElement)(n.BaseControl,{__nextHasNoMarginBottom:!0,help:l},(0,e.createElement)("div",{style:{display:"flex",alignItems:"center"}},(0,e.createElement)("span",{ref:b,onClick:()=>{i.current&&(i.current.focus(),i.current.setCursor(i.current.lineCount(),0))},style:{cursor:"pointer"}},a),(0,e.createElement)(n.Button,{icon:(0,e.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"M18.5 5.5H5.5C4.4 5.5 3.5 6.4 3.5 7.5V16.5C3.5 17.6 4.4 18.5 5.5 18.5H18.5C19.6 18.5 20.5 17.6 20.5 16.5V7.5C20.5 6.4 19.6 5.5 18.5 5.5ZM19 16.5C19 16.8 18.8 17 18.5 17H5.5C5.2 17 5 16.8 5 16.5V7.5C5 7.2 5.2 7 5.5 7H18.5C18.8 7 19 7.2 19 7.5V16.5ZM6.5 12H8V10H10V8.5H6.5V12ZM16 14H14V15.5H17.5V12H16V14Z",fill:"#1E1E1E"})),label:"Open Full Screen Editor",onClick:()=>m(!0),style:{marginLeft:"auto"}})),(0,e.createElement)("div",{ref:_,style:{position:"relative"}},u&&(0,e.createElement)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"#f6f6f6",border:"1px solid #949494",borderRadius:"2px",padding:"8px",fontFamily:"monospace",fontSize:"13px",lineHeight:"1.4",whiteSpace:"pre-wrap",overflowWrap:"break-word"}},o),(0,e.createElement)(n.TextareaControl,{value:o,__nextHasNoMarginBottom:!0,style:{visibility:u?"hidden":"visible",position:u?"absolute":"static"}}))),c&&(0,e.createElement)(n.Modal,{title:a,onRequestClose:()=>m(!1),shouldCloseOnClickOutside:!1,className:"firebox-code-mirror-modal",size:"fill"},(0,e.createElement)(n.Flex,{gap:4,direction:"column"},(0,e.createElement)("div",{ref:f,style:{flexGrow:1}},(0,e.createElement)("textarea",{defaultValue:o})),(0,e.createElement)(n.Flex,{gap:2,justify:"flex-end"},(0,e.createElement)(n.Button,{variant:"tertiary",onClick:()=>m(!1)},"Close"),(0,e.createElement)(n.Button,{variant:"primary",onClick:()=>{if(s.current){const e=s.current.getValue();t(e),i.current&&i.current.setValue(e)}m(!1)}},"Save & Close")))))},{Fill:Le,Slot:Be}=(0,n.createSlotFill)("FireBox_Acessibility_Slotfill"),Ne=({children:t})=>(0,e.createElement)(Le,null,t);Ne.Slot=({fillProps:t})=>(0,e.createElement)(Be,{fillProps:t},(e=>e.length?e:null));const Me=Ne,De=(0,a.compose)([s,c])((({postType:t,metaFields:o,setMetaValue:a})=>{if("firebox"!==t)return null;let i=o?.firebox_meta||{};return(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-advanced-panel",title:(0,l.__)("Advanced","firebox")},(0,e.createElement)(n.__experimentalVStack,{spacing:4},(0,e.createElement)(Se,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Add custom JavaScript code to the campaign. You don't need to enter the <script><\/script> tags.","firebox")},(0,e.createElement)("span",null,(0,l.__)("Custom JavaScript","firebox"))),value:i?.customcode,onChange:e=>a("customcode",e),mode:"javascript"}),(0,e.createElement)(Se,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Add custom CSS code to the campaign. You don't need to enter the <style></style> tags.","firebox")},(0,e.createElement)("span",null,(0,l.__)("Custom CSS","firebox"))),value:i?.customcss,onChange:e=>a("customcss",e),mode:"css"}),"embed"!==i?.mode&&(0,e.createElement)(E,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Prevent page from scrolling while the campaign is opened.","firebox")},(0,e.createElement)("span",null,(0,l.__)("PREVENT PAGE SCROLLING","firebox"))),checked:i?.preventpagescroll,onChange:e=>a("preventpagescroll",e),__nextHasNoMarginBottom:!0}),(0,e.createElement)(E,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Log the data of your campaigns to the database. Note that deleted data, won't appear in the Dashboard and/or Analytics page.","firebox")},(0,e.createElement)("span",null,(0,l.__)("ENABLE STATISTICS","firebox"))),checked:""!==i?.stats&&!1!==i?.stats&&"0"!==i?.stats,onChange:e=>a("stats",e),__nextHasNoMarginBottom:!0}),(0,e.createElement)(E,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)('Test Mode shows the campaign to Administrators only for testing purposes. If enabled, the User Group condition, and Closing Behavior > "If the user closes the campaign" are ignored.',"firebox")},(0,e.createElement)("span",null,(0,l.__)("TEST MODE","firebox"))),checked:i?.testmode,onChange:e=>a("testmode",e),__nextHasNoMarginBottom:!0}),(0,e.createElement)(n.TextControl,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Enter a class suffix added to the campaign wrapper.","firebox")},(0,e.createElement)("span",null,(0,l.__)("Class Suffix","firebox"))),value:i?.classsuffix,onChange:e=>a("classsuffix",e),__nextHasNoMarginBottom:!0}),"embed"!==i?.mode&&(0,e.createElement)(n.__experimentalNumberControl,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("A higher z-index moves toward the front of the page. The default z-index is 99999.","firebox")},(0,e.createElement)("span",null,(0,l.__)("Ordering (z-index)","firebox"))),min:0,value:i?.zindex,onChange:e=>a("zindex",e),__nextHasNoMarginBottom:!0}),(0,e.createElement)(n.BaseControl,{label:(0,l.__)("Accessibility","firebox"),__nextHasNoMarginBottom:!0},(0,e.createElement)(n.__experimentalVStack,{spacing:4},(0,e.createElement)(E,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("When then campaign opens, set focus to the first focusable element within the content of the campaign.","firebox")},(0,e.createElement)("span",null,(0,l.__)("AUTO FOCUS","firebox"))),checked:""!==i?.autofocus&&!1!==i?.autofocus&&"0"!==i?.autofocus,onChange:e=>a("autofocus",e),__nextHasNoMarginBottom:!0}),(0,e.createElement)(E,{label:(0,e.createElement)(n.Tooltip,{className:"firebox-tooltip",text:(0,l.__)("Enable to close the popup when the ESC key is pressed.","firebox")},(0,e.createElement)("span",null,(0,l.__)("CLOSE WITH ESC KEY","firebox"))),checked:""!==i?.close_on_esc&&!1!==i?.close_on_esc&&"0"!==i?.close_on_esc,onChange:e=>a("close_on_esc",e)}),(0,e.createElement)(Me.Slot,{fillProps:{fireboxMeta:i,setMetaValue:a}})))))})),Te=(0,b.jsxs)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(p.Path,{d:"M14.5 5.5h-7V7h7V5.5ZM7.5 9h7v1.5h-7V9Zm7 3.5h-7V14h7v-1.5Z"}),(0,b.jsx)(p.Path,{d:"M16 2H6a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2ZM6 3.5h10a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V4a.5.5 0 0 1 .5-.5Z"}),(0,b.jsx)(p.Path,{d:"M20 8v11c0 .69-.31 1-.999 1H6v1.5h13.001c1.52 0 2.499-.982 2.499-2.5V8H20Z"})]}),Ie=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{fillRule:"evenodd",d:"M17.375 15.656A6.47 6.47 0 0018.5 12a6.47 6.47 0 00-.943-3.374l-1.262.813c.448.749.705 1.625.705 2.561a4.977 4.977 0 01-.887 2.844l1.262.813zm-1.951 1.87l-.813-1.261A4.976 4.976 0 0112 17c-.958 0-1.852-.27-2.613-.736l-.812 1.261A6.47 6.47 0 0012 18.5a6.47 6.47 0 003.424-.974zm-8.8-1.87A6.47 6.47 0 015.5 12c0-1.235.344-2.39.943-3.373l1.261.812A4.977 4.977 0 007 12c0 1.056.328 2.036.887 2.843l-1.262.813zm2.581-7.803A4.977 4.977 0 0112 7c1.035 0 1.996.314 2.794.853l.812-1.262A6.47 6.47 0 0012 5.5a6.47 6.47 0 00-3.607 1.092l.812 1.261zM12 20a8 8 0 100-16 8 8 0 000 16zm0-4.5a3.5 3.5 0 100-7 3.5 3.5 0 000 7z",clipRule:"evenodd"})}),Oe=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"m3 12 1 8h1.5l-1-8H3Zm15.8-2h-4.4l.8-3.6c.3-1.3-.7-2.4-1.9-2.4h-.2c-.6 0-1.2.3-1.6.8l-5 6.6c-.3.4-.4.8-.4 1.2v.2l.7 5.4v.2c.2.9 1 1.5 1.9 1.5h8.2c.9 0 1.7-.6 1.9-1.4l1.8-6c.4-1.3-.6-2.6-1.9-2.6Zm.5 2.1-1.8 6c0 .2-.3.4-.5.4H8.8c-.3 0-.5-.2-.5-.4l-.7-5.4v-.4l5-6.6c0-.1.2-.2.4-.2h.2c.3 0 .6.3.5.6l-.8 3.6c-.1.4 0 .9.3 1.3s.7.6 1.2.6h4.4c.3 0 .6.3.5.6Z"})}),Re=(0,a.compose)([s])((({postType:t})=>"firebox"!==t?null:(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-help-desk",title:(0,l.__)("FireBox Help Desk","firebox")},(0,e.createElement)(n.__experimentalVStack,{spacing:"4",align:"start"},(0,e.createElement)("div",null,(0,l.__)("Do you seek help with FireBox? Below you can find some useful ways to find an answer to your question.","firebox")),(0,e.createElement)(n.__experimentalVStack,{spacing:"2"},(0,e.createElement)(n.Button,{variant:"link",icon:Te,style:{textDecoration:"none"},onClick:()=>window.open(m("https://www.fireplugins.com/docs/","help-panel","docs"),"_blank")},(0,l.__)("Documentation","firebox")),(0,e.createElement)(n.Button,{variant:"link",icon:Ie,style:{textDecoration:"none"},onClick:()=>window.open("https://www.facebook.com/groups/fireboxwp/","_blank")},(0,l.__)("Community","firebox")),(0,e.createElement)(n.Button,{variant:"primary",icon:Oe,onClick:()=>window.open(m("https://www.fireplugins.com/contact/","help-panel","contact"),"_blank")},(0,l.__)("Contact Support","firebox"))))))),Ue=({label:t,disableAlpha:o=!1,wrapperClass:a="",value:r,help:s="",defaultValue:c="",onChange:m})=>{const[u,p]=(0,d.useState)(!1),[b,f]=(0,d.useState)(!1),_=(0,i.useSelect)((e=>e("core/block-editor").getSettings().colors));return(0,e.createElement)("div",{className:"components-base-control"},(0,e.createElement)("div",{className:`wp-block-fpframework-color-selector-settings-container ${a}`},(0,e.createElement)("div",{className:"inner"},t&&(0,e.createElement)("span",{className:"wp-block-fpframework-color-selector-label"},t),(0,e.createElement)("div",{className:"actions"},r&&r!==c&&(0,e.createElement)(n.Tooltip,{text:(0,l.__)("Reset","fpf-framework")},(0,e.createElement)(n.Button,{className:"components-color-palette__clear",type:"button",onClick:()=>{m(c)},isSmall:!0},(0,e.createElement)(n.Dashicon,{icon:"redo"}))),(0,e.createElement)("div",{className:"wp-block-fpframework-color-selector-color-click"},u&&(0,e.createElement)(d.Fragment,null,(0,e.createElement)(n.Popover,{position:"top left",className:"wp-block-fpframework-popover-color",onClose:()=>p(!1)},(0,e.createElement)(n.ColorPicker,{key:b,color:r,onChangeComplete:e=>{if(e.rgb&&1===e.rgb.a||o)m(e.hex);else{const{r:t,g:o,b:l,a}=e.rgb;m(`rgba(${t}, ${o}, ${l}, ${a})`)}},disableAlpha:!1}),_.length>0&&(0,e.createElement)("div",{className:"components-color-palette"},_.map((t=>(0,e.createElement)("div",{key:t.slug,className:"components-color-palette__item-wrapper"},(0,e.createElement)(n.Button,{type:"button",className:"components-color-palette__item "+(r===t.color?"is-active":""),onClick:()=>{m(t.color),f((e=>!e))},style:{backgroundColor:t.color,color:t.color},"aria-label":t.name?
// translators: %s: The name of the color i.e.: "blue".
// translators: %s: The name of the color i.e.: "blue".
(0,l.sprintf)((0,l.__)("Color: %s"),name):
// translators: %s: color hex code i.e.: "#ffffff".
// translators: %s: color hex code i.e.: "#ffffff".
(0,l.sprintf)((0,l.__)("Color hex code: %s"),t),"aria-pressed":t.color===r}),t.color===r&&(0,e.createElement)(n.Dashicon,{icon:"saved"}))))),(0,e.createElement)("div",{className:"wp-block-fpframework-color-selector-popover-footer"},(0,e.createElement)(n.Button,{isSecondary:!0,isSmall:!0,disabled:!r,onClick:()=>m(c)},(0,l.__)("Clear","fpf-framework"))))),(0,e.createElement)(n.Tooltip,{text:(0,l.__)("Select Color","fpf-framework")},(0,e.createElement)(n.Button,{className:"wp-block-fpframework-color-selector-icon-indicator",onMouseDown:e=>{e.preventDefault(),e.stopPropagation()},onClick:()=>{p((e=>!e))}},(0,e.createElement)(n.ColorIndicator,{className:"wp-block-fpframework-color-selector-indicator"+(""===r?" is-empty":""),colorValue:r})))))),s&&(0,e.createElement)("div",{className:"wp-block-fpframework-color-selector-help"},s)))},He=(0,b.jsx)(p.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(p.Path,{d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM12.75 8V13H11.25V8H12.75ZM12.75 14.5V16H11.25V14.5H12.75Z"})}),Ve=(0,a.compose)([s,c])((({postType:t,metaFields:o,setMetaValue:a})=>{if("firebox"!==t)return null;let i=o?.firebox_meta||{};const s=(0,d.useRef)();return(0,e.createElement)(r.PluginDocumentSettingPanel,{name:"firebox-deprecated-panel",title:(0,l.__)("Deprecated Settings","firebox"),icon:He},(0,e.createElement)(n.__experimentalVStack,{spacing:"4"},(0,e.createElement)(n.BaseControl,{help:(0,l.__)("These settings are deprecated and will be removed in a future version. Please stop relying on them.","firebox"),__nextHasNoMarginBottom:!0}),(0,e.createElement)(P,{label:(0,l.__)("Font Size","firebox")},(t=>(0,e.createElement)(n.__experimentalUnitControl,{ref:s,value:i?.fontsize[t],onChange:e=>{a("fontsize",{...i?.fontsize,[t]:e})},units:[{value:"px",label:"px",default:""},{value:"em",label:"em",default:""},{value:"rem",label:"rem",default:""}],onUnitChange:e=>{setTimeout((()=>{s.current?.focus()}),0)},min:0,step:1,isResetValueOnUnitChange:!0,className:"firebox-unit-control-spin-buttons",help:(0,l.__)("This setting is not applied to the editor due to its deprecated nature.","firebox"),__next40pxDefaultSize:!0}))),(0,e.createElement)(Ue,{value:i?.textcolor,onChange:e=>a("textcolor",e),label:(0,l.__)("Text Color","firebox")}),(0,e.createElement)(n.SelectControl,{value:i?.aligncontent,onChange:e=>a("aligncontent",e),label:(0,l.__)("Align Content","firebox"),help:(0,l.__)("This setting is not applied to the editor due to its deprecated nature.","firebox"),options:[{label:(0,l.__)("None","firebox"),value:""},{label:(0,l.__)("Top Left","firebox"),value:"acl"},{label:(0,l.__)("Top Center","firebox"),value:"act acc"},{label:(0,l.__)("Top Right","firebox"),value:"act acr"},{label:(0,l.__)("Middle Left","firebox"),value:"acm acl"},{label:(0,l.__)("Middle Center","firebox"),value:"acm acc"},{label:(0,l.__)("Middle Right","firebox"),value:"acm acr"},{label:(0,l.__)("Bottom Left","firebox"),value:"acb acl"},{label:(0,l.__)("Bottom Center","firebox"),value:"acb acc"},{label:(0,l.__)("Bottom Right","firebox"),value:"acb acr"}],__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})))})),Pe=(e,t,o=(()=>!0),l=(e=>({value:e})))=>(a,r,n)=>{if(!a[e])return{};"width"===e&&"pageslide"===a?.mode&&(a[e]={desktop:"100%"});const i={},s=r=>{const n=a[e][r];if(null!=n&&""!==n&&("object"!=typeof n||0!==Object.keys(n).length)&&o(a)){i[r]=i[r]||{};const o=l(a[e][r]),n=o.value,s=o.cssProperties||t;Array.isArray(s)?s.forEach((e=>{i[r][e]=n})):i[r][s]=n}};return s("desktop"),s("tablet"),s("mobile"),i},ze=Pe("width",["width","max-width"]),Fe=Pe("height","height",(e=>"embed"!==e?.mode),(e=>"100%"===e?{value:"stretch",cssProperties:["align-self"]}:{value:e})),Ae=Pe("borderradius","border-radius",(()=>!0),(e=>{if("object"==typeof e&&null!==e){let{topLeft:t,topRight:o,bottomLeft:l,bottomRight:a}=e;const r=e=>null!=e&&""!==e&&"px"!==e&&"em"!==e&&"rem"!==e&&"%"!==e&&!/^(px|em|rem|%|vw|vh|vmin|vmax)$/.test(e);return r(t)||r(o)||r(l)||r(a)?(t=r(t)?t:0,o=r(o)?o:0,l=r(l)?l:0,a=r(a)?a:0,{value:`${t} ${o} ${a} ${l}`}):{value:""}}return{value:e}})),je=(e,t,o)=>o?`\n        @media (max-width: ${e}px) {\n            ${t} {\n                ${o}\n            }\n        }\n    `:"",$e=Pe("padding","padding",(()=>!0),(e=>{if("object"==typeof e&&null!==e){let{top:t,right:o,bottom:l,left:a}=e;const r=e=>null!=e&&""!==e&&"px"!==e&&"em"!==e&&"rem"!==e&&"%"!==e&&!/^(px|em|rem|%|vw|vh|vmin|vmax)$/.test(e);return r(t)||r(o)||r(l)||r(a)?(t=r(t)?t:0,o=r(o)?o:0,l=r(l)?l:0,a=r(a)?a:0,{value:`${t} ${o} ${l} ${a}`}):{value:""}}return{value:e}})),Ze=Pe("margin","margin",(()=>!0),(e=>{if("object"==typeof e&&null!==e){let{top:t,right:o,bottom:l,left:a}=e;const r=e=>null!=e&&""!==e&&"px"!==e&&"em"!==e&&"rem"!==e&&"%"!==e&&!/^(px|em|rem|%|vw|vh|vmin|vmax)$/.test(e);return r(t)||r(o)||r(l)||r(a)?(t=r(t)?t:0,o=r(o)?o:0,l=r(l)?l:0,a=r(a)?a:0,{value:`${t} ${o} ${l} ${a}`}):{value:""}}return{value:e}})),Ge=Pe("fontsize",["font-size"]),qe=Pe("margin","padding",(()=>!0),(e=>{if("object"==typeof e&&null!==e){let{top:t,right:o,bottom:l,left:a}=e;return t=t||0,o=o||0,l=l||0,a=a||0,{value:`${t} ${o} ${l} ${a}`}}return{value:e}}));o(7748);const We=e=>{const t="body.post-type-firebox .editor-styles-wrapper > .firebox-editor-browser > .firebox-editor-wrapper",o="body.post-type-firebox .editor-styles-wrapper > .firebox-editor-browser",l="body.post-type-firebox .editor-styles-wrapper > .firebox-editor-browser > .firebox-editor-overlay",a="body.post-type-firebox .editor-styles-wrapper > .firebox-editor-browser > .firebox-editor-wrapper > .firebox-editor-content-container",r="body.post-type-firebox .editor-styles-wrapper > .firebox-editor-browser > .fb-floating-button",n={tablet:991,mobile:575},i=ze(e),s=Fe(e),c=(e=>{if(!e?.border?.width||parseFloat(e.border.width)<=0)return{};const{width:t,style:o,color:l}=e.border;return{desktop:{border:`${t} ${o} ${l}`}}})(e),m=Ae(e),u=$e(e),d=Ze(e),p=qe(e),b=(e=>{if(!e?.position)return{};if(!["popup","pageslide","slide-in","fullscreen","stickybar","sidebar","floating"].includes(e?.mode))return{};["pageslide","fullscreen"].includes(e?.mode)&&(e.position="top-full");let t={};switch(e.position){case"top-left":t={"align-items":"flex-start","justify-content":"flex-start"};break;case"top-center":t={"align-items":"flex-start","justify-content":"center"};break;case"top-full":case"top":t={"align-items":"flex-start"};break;case"top-right":t={"align-items":"flex-start","justify-content":"flex-end"};break;case"middle-left":t={"align-items":"center","justify-content":"flex-start"};break;case"center":t={"align-items":"center","justify-content":"center"};break;case"middle-right":t={"align-items":"center","justify-content":"flex-end"};break;case"bottom":t={"align-items":"flex-end"};break;case"bottom-left":t={"align-items":"flex-end","justify-content":"flex-start"};break;case"bottom-center":t={"align-items":"flex-end","justify-content":"center"};break;case"bottom-right":t={"align-items":"flex-end","justify-content":"flex-end"};break;default:return{}}return{desktop:t}})(e),f=(e=>{const t=e?.backgroundcolor;return t&&""!==t?{desktop:{background:t}}:{}})(e),_=(e=>e?.textcolor?{desktop:{color:e?.textcolor||""}}:{})(e),x=(e=>{if(!e?.bgimage||!e?.bgimagefile)return{};let t={};return e?.bgimage&&(t={"background-image":`url(${e.bgimagefile})`,"background-repeat":e?.bgrepeat||"no-repeat","background-size":e?.bgsize||"auto","background-position":e?.bgposition||"center"}),{desktop:t}})(e),g=(e=>{let t={desktop:{}};return e?.overlay&&(t={desktop:{"background-color":e?.overlay_color||""}}),t})(e),h=(e=>{let t={desktop:{}};return e?.boxshadow&&(t={desktop:{"box-shadow":"0px 11px 15px -7px rgba(0,0,0,.2), 0px 24px 38px 3px rgba(0,0,0,.1), 0px 9px 46px 8px rgba(0,0,0,.1)"}}),t})(e),v=Ge(e),E=(e=>{let t={desktop:{}};return"fullscreen"===e?.mode&&(t={desktop:{height:"100%"}},e?.center_content&&(t={desktop:{...t.desktop,display:"flex","flex-direction":"column","align-items":"center","justify-content":"center"}})),t})(e);let w={desktop:{[a]:{},[t]:{},[l]:{},[o]:{},[r]:{}},tablet:{[a]:{},[t]:{},[l]:{},[o]:{},[r]:{}},mobile:{[a]:{},[t]:{},[l]:{},[o]:{},[r]:{}}};const C=(e,t,o)=>{Object.assign(w[e][t],o[e])},y=(e,t)=>{for(const o in e)C(o,t,e)};y(E,a),y(g,l),y(b,o),y(i,t),y(s,t),y(c,t),y(m,t),y(u,t),y(d,t),y(f,t),y(_,t),y(x,t),y(h,t),y(v,t),y(p,r);let k="";for(const e in w)for(const t in w[e]){let o="";for(const l in w[e][t]){const a=w[e][t][l];null!=a&&""!==a&&(o+=`${l}: ${a};`)}o&&(k+="desktop"===e?`\n                        ${t} {\n                            ${o}\n                        }\n                    `:je(n[e],t,o))}return k},Ye=()=>{const e=(0,i.useSelect)((e=>e("core/editor").getEditedPostAttribute("meta")),[]),t=(0,d.useMemo)((()=>e&&e.firebox_meta?We(e.firebox_meta):null),[e]),o=(0,d.useRef)(null);return(0,d.useEffect)((()=>(t&&((e,t)=>{t.current||(t.current=document.createElement("style")),t.current.innerHTML=e,document.head.appendChild(t.current)})(t,o),()=>{(e=>{e.current&&(document.head.removeChild(e.current),e.current=null)})(o)})),[t]),null},Ke=({panelName:e="firebox-editor-panels/firebox-summary-panel"})=>{const{toggleEditorPanelOpened:t}=(0,i.useDispatch)("core/editor"),o=(0,i.useSelect)((t=>t("core/editor").isEditorPanelOpened(e)),[e]);return(0,d.useEffect)((()=>{o||t(e);const l=wp.data.subscribe((()=>{wp.data.select("core/editor").isEditorPanelOpened(e)||t(e)}));return()=>{"function"==typeof l&&l()}}),[e]),null},Xe="https://www.fireplugins.com/docs/howto/how-to-use-smart-tags/#",Je=({isActive:t,onChange:o,value:a,selectionStart:r})=>{const[i,s]=(0,d.useState)(""),c=(0,d.useRef)(null),m={user:{title:(0,l.__)("User","firebox"),tags:{"user.email":{label:(0,l.__)("User Email","firebox"),docUrl:Xe+"useremail"},"user.firstname":{label:(0,l.__)("User First Name","firebox"),docUrl:Xe+"userfirstname"},"user.lastname":{label:(0,l.__)("User Last Name","firebox"),docUrl:Xe+"userlastname"},"user.login":{label:(0,l.__)("User Login","firebox"),docUrl:Xe+"userlogin"},"user.name":{label:(0,l.__)("User Full Name","firebox"),docUrl:Xe+"username"},"user.registerdate":{label:(0,l.__)("User Register Date","firebox"),docUrl:Xe+"userregisterdate"},"user.key":{label:(0,l.__)("User Property Value","firebox"),docUrl:Xe+"userkey"}}},site:{title:(0,l.__)("Site","firebox"),tags:{"site.email":{label:(0,l.__)("Site Email","firebox"),docUrl:Xe+"siteemail"},"site.name":{label:(0,l.__)("Site Name","firebox"),docUrl:Xe+"sitename"},"site.url":{label:(0,l.__)("Site URL","firebox"),docUrl:Xe+"siteurl"}}},page:{title:(0,l.__)("Page","firebox"),tags:{"page.browsertitle":{label:(0,l.__)("Browser Title","firebox"),docUrl:Xe+"pagebrowsertitle"},"page.langurl":{label:(0,l.__)("Page Language Code URL","firebox"),docUrl:Xe+"pagelangurl"},"page.lang":{label:(0,l.__)("Page Language Code","firebox"),docUrl:Xe+"pagelang"},"page.title":{label:(0,l.__)("Page Title","firebox"),docUrl:Xe+"pagetitle"},url:{label:(0,l.__)("Page URL","firebox"),docUrl:Xe+"url"},"url.encoded":{label:(0,l.__)("Page URL Encoded","firebox"),docUrl:Xe+"urlencoded"},"url.path":{label:(0,l.__)("Page Path","firebox"),docUrl:Xe+"urlpath"},referrer:{label:(0,l.__)("Page Referrer","firebox"),docUrl:Xe+"referrer"}}},client:{title:(0,l.__)("Client","firebox"),tags:{"client.browser":{label:(0,l.__)("Visitor Browser","firebox"),docUrl:Xe+"clientbrowser"},"client.device":{label:(0,l.__)("Visitor Device Type","firebox"),docUrl:Xe+"clientdevice"},"client.os":{label:(0,l.__)("Visitor Operating System","firebox"),docUrl:Xe+"clientos"},"client.useragent":{label:(0,l.__)("Visitor Agent String","firebox"),docUrl:Xe+"clientuseragent"},ip:{label:(0,l.__)("Visitor IP Address","firebox"),docUrl:Xe+"ip"}}},geo:{title:(0,l.__)("Geolocation","firebox"),tags:{"geo.city":{label:(0,l.__)("Visitor City","firebox"),docUrl:Xe+"geocity"},"geo.countrycode":{label:(0,l.__)("Visitor Country Code","firebox"),docUrl:Xe+"geocountrycode"},"geo.country":{label:(0,l.__)("Visitor Country","firebox"),docUrl:Xe+"geocountry"},"geo.location":{label:(0,l.__)("Visitor Location Address","firebox"),docUrl:Xe+"geolocation"},"geo.region":{label:(0,l.__)("Visitor Region","firebox"),docUrl:Xe+"georegion"}}},date:{title:(0,l.__)("Date & Time","firebox"),tags:{date:{label:(0,l.__)("Date","firebox"),docUrl:Xe+"date"},day:{label:(0,l.__)("Day","firebox"),docUrl:Xe+"day"},month:{label:(0,l.__)("Month","firebox"),docUrl:Xe+"month"},year:{label:(0,l.__)("Year","firebox"),docUrl:Xe+"year"},time:{label:(0,l.__)("Time","firebox"),docUrl:Xe+"time"}}},...window.firebox_campaign_editor?.plugins?.woo_active&&{woocommerce:{title:(0,l.__)("WooCommerce","firebox"),tags:{"woo.cart.count":{label:(0,l.__)("WooCommerce Cart Count","firebox"),docUrl:Xe+"woocartcount"},"woo.cart.subtotal":{label:(0,l.__)("WooCommerce Cart Subtotal","firebox"),docUrl:Xe+"woocartsubtotal"},"woo.cart.total":{label:(0,l.__)("WooCommerce Cart Total","firebox"),docUrl:Xe+"woocarttotal"},"woo.stock":{label:(0,l.__)("WooCommerce Cart Stock","firebox"),docUrl:Xe+"woostock"}}}},...window.firebox_campaign_editor?.plugins?.edd_active&&{edd:{title:(0,l.__)("Easy Digital Downloads","firebox"),tags:{"edd.cart.count":{label:(0,l.__)("Easy Digital Downloads Cart Count","firebox"),docUrl:Xe+"eddcartcount"},"edd.cart.subtotal":{label:(0,l.__)("Easy Digital Downloads Cart Subtotal","firebox"),docUrl:Xe+"eddcartsubtotal"},"edd.cart.total":{label:(0,l.__)("Easy Digital Downloads Cart Total","firebox"),docUrl:Xe+"eddcarttotal"},"edd.stock":{label:(0,l.__)("Easy Digital Downloads Cart Stock","firebox"),docUrl:Xe+"eddstock"}}}},utils:{title:(0,l.__)("Utilities","firebox"),tags:{"cookie.KEY":{label:(0,l.__)("Cookie Name Value","firebox"),docUrl:Xe+"cookie"},"post.KEY":{label:(0,l.__)("POST Superglobal Value","firebox"),docUrl:Xe+"post"},"querystring.KEY":{label:(0,l.__)("Query String Parameter Value","firebox"),docUrl:Xe+"querystringkey"},randomid:{label:(0,l.__)("Random ID","firebox"),docUrl:Xe+"randomid"}}}},u=(0,d.useMemo)((()=>{const e={};return Object.entries(m).forEach((([t,o])=>{const l=Object.entries(o.tags).filter((([e,t])=>t.label.toLowerCase().includes(i.toLowerCase())||e.toLowerCase().includes(i.toLowerCase())));l.length>0&&(e[t]={title:o.title,tags:Object.fromEntries(l)})})),e}),[i,m]),p=()=>(0,e.createElement)("div",{className:"firebox-smart-tags__item-wrapper"},(0,e.createElement)("a",{href:"https://www.fireplugins.com/docs/howto/how-to-use-smart-tags/",target:"_blank",rel:"noreferrer",className:"firebox-smart-tags__item firebox-smart-tags__docs-link"},(0,l.__)("Smart Tags Documentation","firebox")));return(0,e.createElement)(n.Dropdown,{className:"firebox-smart-tags",contentClassName:"firebox-smart-tags__content",popoverProps:{placement:"bottom-start"},renderToggle:({isOpen:t,onToggle:o})=>(0,e.createElement)(n.ToolbarButton,{icon:"tag",label:(0,l.__)("Insert a FireBox Smart Tag","firebox"),onClick:()=>{o(),t||setTimeout((()=>{const e=c.current?.querySelector("input");e&&e.focus()}),50)},"aria-expanded":t}),renderContent:({onClose:t})=>(0,e.createElement)("div",{className:"firebox-smart-tags__wrapper"},(0,e.createElement)("div",{ref:c,className:"firebox-smart-tags__header"},(0,e.createElement)(n.SearchControl,{value:i,onChange:s,placeholder:(0,l.__)("Search FireBox Smart Tags...","firebox"),className:"firebox-smart-tags__search",__nextHasNoMarginBottom:!0})),(0,e.createElement)("div",{className:"firebox-smart-tags__list"},Object.keys(u).length>0?Object.entries(u).map((([i,s])=>(0,e.createElement)("div",{key:i,className:"firebox-smart-tags__category"},(0,e.createElement)("div",{className:"firebox-smart-tags__category-title"},s.title),(0,e.createElement)("div",{className:"firebox-smart-tags__category-items"},Object.entries(s.tags).map((([i,s])=>(0,e.createElement)(n.Tooltip,{key:i,text:s.label},(0,e.createElement)("div",{className:"firebox-smart-tags__item-wrapper"},(0,e.createElement)("button",{className:"firebox-smart-tags__item",onClick:()=>((e,t)=>{const l=a.slice(0,r)+`{${e}}`+a.slice(r);o(l),t()})(i,t)},`{${i}}`),(0,e.createElement)("button",{className:"firebox-smart-tags__doc-link",onClick:e=>{return t=e,o=s.docUrl,t.stopPropagation(),void window.open(o,"_blank");var t,o},title:(0,l.__)("View documentation","firebox")},(0,e.createElement)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,e.createElement)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,e.createElement)("polyline",{points:"15 3 21 3 21 9"}),(0,e.createElement)("line",{x1:"10",y1:"14",x2:"21",y2:"3"}))))))))))):(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"firebox-smart-tags__empty"},(0,l.__)("No matching tags found","firebox")),(0,e.createElement)("div",{className:"firebox-smart-tags__no-results-separator"}),(0,e.createElement)(p,null)),Object.keys(u).length>0&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"firebox-smart-tags__no-results-separator"}),(0,e.createElement)(p,null))))})},Qe=(0,a.createHigherOrderComponent)((t=>o=>{const{attributes:l,setAttributes:a,isSelected:r}=o,n=l.content||l.text||l.value;return r&&n?(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{...o}),(0,e.createElement)(R.BlockControls,null,(0,e.createElement)(Je,{value:l.content||l.text||l.value,onChange:e=>{void 0!==l.content?a({content:e}):void 0!==l.text?a({text:e}):void 0!==l.value&&a({value:e})},selectionStart:window.getSelection().anchorOffset}))):(0,e.createElement)(t,{...o})}),"withSmartTagsToolbar");(0,v.addFilter)("editor.BlockEdit","firebox/with-smart-tags-toolbar",Qe),(0,t.registerPlugin)("firebox-editor-panels",{render:()=>(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Ke,{panelName:"firebox-editor-panels/firebox-summary-panel"}),(0,e.createElement)(g,null),(0,e.createElement)(O,null),(0,e.createElement)(Q,null),(0,e.createElement)($,null),(0,e.createElement)(J,null),(0,e.createElement)(ue,null),(0,e.createElement)(be,null),(0,e.createElement)(he,null),(0,e.createElement)(ve,null),(0,e.createElement)(ke,null),(0,e.createElement)(De,null),(0,e.createElement)(Re,null),(0,e.createElement)(Ve,null),(0,e.createElement)(Ye,null))})})()})();