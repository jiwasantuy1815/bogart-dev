(()=>{var e={4184:(e,t)=>{var r;!function(){"use strict";var l={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var o=n.apply(null,r);o&&e.push(o)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var i in r)l.call(r,i)&&r[i]&&e.push(i)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},2703:(e,t,r)=>{"use strict";var l=r(414);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,a,o){if(o!==l){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return r.PropTypes=r,r}},5697:(e,t,r)=>{e.exports=r(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5251:(e,t,r)=>{"use strict";var l=r(9196),n=Symbol.for("react.element"),a=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};t.jsx=function(e,t,r){var l,s={},u=null,c=null;for(l in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,l)&&!i.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===s[l]&&(s[l]=t[l]);return{$$typeof:n,type:e,key:u,ref:c,props:s,_owner:o.current}}},5893:(e,t,r)=>{"use strict";e.exports=r(5251)},9281:(e,t,r)=>{"use strict";var l=r(7889);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,r,n,a,o){if(o!==l){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return r.PropTypes=r,r}},1277:(e,t,r)=>{e.exports=r(9281)()},7889:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9196:e=>{"use strict";e.exports=window.React}},t={};function r(l){var n=t[l];if(void 0!==n)return n.exports;var a=t[l]={exports:{}};return e[l](a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var l in t)r.o(t,l)&&!r.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.blocks;var t=r(9196);const l=window.wp.element,n=window.wp.data;var a=r(5697),o=r.n(a);const i=window.wp.blockEditor;var s=r(4184),u=r.n(s);const c=e=>`field-${e}`;var p=r(1277),d=r.n(p);const m=window.wp.i18n,b=e=>!!e&&Object.values(e).some((e=>null!=e&&""!==e)),h={desktop:"",tablet:991,mobile:575},f=(e=[])=>{if(!e||!e.length)return[];const t=e.reduce(((e,t)=>{const r=(e=>{if(!e)return"";const t=e.match(/[^{\}]+(?=})/gi)[0];return{selector:e.replace(t,"").replace("{","").replace("}","").trim(),style:t.trim()}})(t),l=e.find((({selector:e})=>e===r.selector));return l?(l.styles.push(r.style),e):(e.push({selector:r.selector,styles:[r.style]}),e)}),[]);return t.map((e=>`${e.selector} { ${e.styles.join(" ")} }`))},g=e=>({...e,rules:f(e.rules)}),v=({id:e,value:t,rule:r,unit:l="",edgeCase:n=[],breakpoint:a="desktop",oneline:o=!1})=>{if(null==t||""===t)return null;let i=r.includes("[BLOCK_ID]")?r.replace("[BLOCK_ID]",e):`${r}`;if((e=>["box-shadow"].some((t=>e.includes(t))))(r))return["inset","outset"].includes(t.type)&&""!==t.color?(0,m.sprintf)(i,`${t.left}px ${t.top}px ${t.width}px ${t.spread}px ${"outset"===t.type?"":t.type} ${t.color}`):null;if((e=>["text-shadow"].some((t=>e.includes(t))))(r))return""!==t.hpos&&""!==t.vpos&&""!==t.blur&&""!==t.color?(0,m.sprintf)(i,`${t.hpos}px ${t.vpos}px ${t.blur}px ${t.color}`):null;if((e=>["padding","border-radius","margin","position-items"].some((t=>e.includes(t)))&&!["padding-","margin-"].some((t=>e.includes(t))))(r)){let e=r.match(/margin|border-radius|padding|position-items/gi)[0];if("position-items"===e){const e=["top","right","bottom","left"].map((e=>{if(null!=t[e]&&""!==t[e])return`${e}: ${"auto"===t[e]?"auto":`${t[e]}${l}`};`})).join(" ");return e.trim()?(s=` ${e} `,i.replace(/[^{\}]+(?=})/gi,s)):null}{const r=((e,t,r="",l=!1)=>{if(!e)return!1;if(b(e)||b(e[t])){const n=e[t]||e;if(["margin","padding"].includes(r)){if(4===Object.values(n).length&&1===new Set(Object.values(n)).size)return`${n.top}px`;if(Object.values(n).every((e=>""!==e))){if(n.top===n.bottom&&n.left===n.right)return`${n.top||0}px ${n.left||0}px`;Object.values(n).map((function(e){return`${e||0}px`})).join(" ")}let e=[],t=["top","right","bottom","left"];return l?(t.forEach((t=>{e.push(`${n[t]||0}px`)})),e.join(" ")):(t.forEach((t=>{""!==n[t]&&e.push(r+"-"+t+":"+n[t]+"px;")})),e)}if("border-radius"===r){if(4===Object.values(n).length&&1===new Set(Object.values(n)).size)return`${n.top_left}px`;if(Object.values(n).every((e=>""!==e))){if(n.top_left===n.bottom_right&&n.bottom_left===n.top_right)return`${n.top_left||0}px ${n.bottom_left||0}px`;Object.values(n).map((function(e){return`${e||0}px`})).join(" ")}let e=[],t=["top_left","top_right","bottom_right","bottom_left"];return l?(t.forEach((t=>{e.push(`${n[t]||0}px`)})),e.join(" ")):(t.forEach((t=>{""!==n[t]&&e.push("border-"+t.replace("_","-")+"-radius:"+n[t]+"px;")})),e)}}return!1})(t,null,e,o);if(!r)return null;if(r&&"string"==typeof r)return(0,m.sprintf)(i,r)||null;if(r&&"object"==typeof r)return i=i.replace("margin: ",""),i=i.replace("padding: ",""),i=i.replace("border-radius: ",""),i=i.replace("%s;","%s"),(0,m.sprintf)(i,r.join(""))||null}}var s;if((e=>!!e&&"object"==typeof e&&"url"in e&&"attachment"in e&&"repeat"in e)(t)){if(!t.url)return;const e=[`background-image: ${"none"!==t.url?`url(${t.url})`:"none"};`,`background-repeat: ${t.repeat};`,`background-size: ${t.size};`,`background-position: ${t.position};`,`background-attachment: ${t.attachment};`].join(" ");return(0,m.sprintf)(i,e)}if(n){const e=n.find((({edge:e})=>e===t));if(e)return""===e.value||e.skipInBreakpoints&&e.skipInBreakpoints.includes(a)?null:(l=e.unit||"",(0,m.sprintf)(i,`${e.value}${l}`))}return(0,m.sprintf)(i,`${t}${l}`)},x=e=>l.Children.toArray(e).map((e=>Array.isArray(e.props.children)?x(e.props.children):e)).reduce(((e,t)=>Array.isArray(t)?[...e,...t]:[...e,t]),[]).filter((e=>e.type&&"Rule"===e.type.displayName)),_={children:d().oneOfType([d().node,d().array]),id:d().string},w=({id:e="",children:r})=>{const l=(({id:e,children:t,getCSSRule:r,mapper:l=(e=>e)})=>{const n=[{name:"desktop",media:"max",width:h.desktop,rules:[]},{name:"tablet",media:"max",width:h.tablet,rules:[]},{name:"mobile",media:"max",width:h.mobile,rules:[]},{name:"desktop-only",media:"min",width:h.tablet+1,rules:[]},{name:"tablet-only",media:"min",width:h.mobile+1,rules:[]}];return x(t).reduce(((t,l)=>{const{value:n,rule:a,unit:o,edgeCase:i,breakpointLimit:s,oneline:u}=l.props;if(null==n)return t;if("object"!=typeof n||!("desktop"in n)){const l=t.find((({name:e})=>"desktop"===e)),s=r({id:e,value:n,rule:a,unit:o,edgeCase:i,breakpoint:"desktop",oneline:u});return null!=s&&l.rules.push(s),t}return Object.keys(n).forEach((l=>{const c=t.find((({name:e})=>s&&"mobile"!==l?`${l}-only`===e:e===l)),p=r({id:e,value:n[l],rule:a,unit:o,edgeCase:i,breakpoint:l,oneline:u});null!=p&&c&&c.rules.push(p)})),t}),n).map(l)})({id:e,children:r,getCSSRule:v,mapper:g});return(e=>e.every((e=>0===e.rules.length)))(l)?null:(0,t.createElement)("style",{dangerouslySetInnerHTML:{__html:(n=l,n.reduce(((e,t)=>{if(!t.rules.length)return e;const r=t.rules.map((e=>e.trim())).join("\n");return t.width?"tablet-only"===t.name?`${e}\n\n\t\t\t\t@media (min-width: ${h.mobile+1}px) and (max-width: ${h.tablet}px) {\n\t\t\t\t\t${r}\n\t\t\t\t}\n\t\t\t\t`:`${e}\n\n\t\t\t@media (${t.media}-width: ${t.width}px) {\n\t\t\t\t${r}\n\t\t\t}\n\t\t\t`:`${e}${r}\n`}),"").trim())}});var n};w.propTypes=_;const C=w,y={value:d().oneOfType([d().string,d().number,d().object]).isRequired,rule:d().string.isRequired,unit:d().oneOf(["","px","%","em","rem","vh","vw","pt","cm","mm"]),edgeCase:d().arrayOf(d().shape({edge:d().any.isRequired,value:d().oneOfType([d().string,d().number]).isRequired,skipInBreakpoints:d().array})),breakpointLimit:d().bool,oneline:d().bool},E=()=>null;E.displayName="Rule",E.propTypes=y;const k=E,$={attributes:o().object.isRequired,children:o().node},I=({attributes:e,children:r})=>{const{uniqueId:l,width:n,fieldLabelFontWeight:a,size:o,selectedColor:i,unselectedColor:s}=e,u=c(l);return(0,t.createElement)(C,{id:u},(0,t.createElement)(k,{value:n,rule:".fb-form-control-group.[BLOCK_ID] { --field-width: %s; }"}),(0,t.createElement)(k,{value:a,rule:".fb-form-control-group.[BLOCK_ID] { --label-font-weight: %s; }"}),(0,t.createElement)(k,{value:o,rule:".fb-form-control-group.[BLOCK_ID] .fpf-rating-wrapper { --rating-size: %s; }",unit:"px"}),(0,t.createElement)(k,{value:i,rule:".fb-form-control-group.[BLOCK_ID] .fpf-rating-wrapper { --rating-selected-color: %s; }"}),(0,t.createElement)(k,{value:s,rule:".fb-form-control-group.[BLOCK_ID] .fpf-rating-wrapper { --rating-unselected-color: %s; }"}),r)};I.propTypes=$;const O=I,T=window.wp.components,R=e=>{var r,l,n,a;const{fieldTypeName:o}=e,{fieldName:i,fieldLabel:s,helpText:u,required:c}=e.attributes,p=null===(r=e?.showFieldName)||void 0===r||r,d=null===(l=e?.showFieldLabel)||void 0===l||l,b=null===(n=e?.showHelpText)||void 0===n||n,h=null===(a=e?.showRequired)||void 0===a||a;return(0,t.createElement)(T.PanelBody,{title:o+" "+(0,m.__)("Field","firebox"),initialOpen:!0},p&&(0,t.createElement)(T.TextControl,{label:(0,m.__)("Field Name","firebox"),required:!0,value:i,onChange:t=>e.setAttributes({fieldName:t}),help:(0,m.__)("Set a unique field name which is used to reference the form data. Enter only alphanumerics and underscores.","firebox")}),d&&(0,t.createElement)(T.TextControl,{label:(0,m.__)("Field Label","firebox"),value:s,onChange:t=>e.setAttributes({fieldLabel:t}),help:(0,m.__)("Set a label for the field. Leave blank to hide the label.","firebox")}),b&&(0,t.createElement)(T.TextControl,{label:(0,m.__)("Help text","firebox"),value:u,onChange:t=>e.setAttributes({helpText:t}),help:(0,m.__)("Set a helpful description to show below the field.","firebox")}),h&&(0,t.createElement)(T.ToggleControl,{label:(0,m.__)("Required","firebox"),checked:c,onChange:t=>e.setAttributes({required:t})}),e.children)},S=e=>{var r,l,n,a,o,i;const{width:s,defaultValue:u,placeholder:c,cssClass:p,inputCssClass:d,hideLabel:b,disableBrowserAutocomplete:h,fieldLabelFontWeight:f}=e.attributes,g=null===(r=e?.showWidth)||void 0===r||r,v=null===(l=e?.showDefaultValue)||void 0===l||l,x=null===(n=e?.showPlaceholder)||void 0===n||n,_=null===(a=e?.showHideLabel)||void 0===a||a,w=null===(o=e?.showDisableBrowserAutocomplete)||void 0===o||o,C=null===(i=e?.showInputCssClass)||void 0===i||i;return(0,t.createElement)(T.PanelBody,{title:(0,m.__)("Field Settings","firebox"),initialOpen:!1},g&&(0,t.createElement)(T.SelectControl,{label:(0,m.__)("Width","firebox"),options:[{label:"0%",value:"0%"},{label:"5%",value:"5%"},{label:"10%",value:"10%"},{label:"20%",value:"20%"},{label:"25%",value:"25%"},{label:"30%",value:"30%"},{label:"33%",value:"33%"},{label:"40%",value:"40%"},{label:"50%",value:"50%"},{label:"60%",value:"60%"},{label:"66%",value:"66%"},{label:"70%",value:"70%"},{label:"75%",value:"75%"},{label:"80%",value:"80%"},{label:"90%",value:"90%"},{label:"95%",value:"95%"},{label:"100%",value:"100%"}],value:s,onChange:t=>e.setAttributes({width:t}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),v&&(0,t.createElement)(T.TextareaControl,{label:(0,m.__)("Default Value","firebox"),value:u,onChange:t=>e.setAttributes({defaultValue:t}),help:(0,m.__)("Set the default field value.","firebox")}),x&&(0,t.createElement)(T.TextControl,{label:(0,m.__)("Placeholder Text","firebox"),value:c,onChange:t=>e.setAttributes({placeholder:t}),help:(0,m.__)("The text you'd like displayed in the field, before a user enters any data.","firebox")}),(0,t.createElement)(T.SelectControl,{label:(0,m.__)("Label Font Weight","firebox"),options:[{value:"",label:"Select Font Weight",disabled:!0},{label:(0,m.__)("300","firebox"),value:"300"},{label:(0,m.__)("400","firebox"),value:"400"},{label:(0,m.__)("500","firebox"),value:"500"},{label:(0,m.__)("600","firebox"),value:"600"},{label:(0,m.__)("700","firebox"),value:"700"}],value:f,onChange:t=>e.setAttributes({fieldLabelFontWeight:t}),__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,t.createElement)(T.TextControl,{label:(0,m.__)("CSS Class","firebox"),value:p,onChange:t=>e.setAttributes({cssClass:t}),help:(0,m.__)("Add CSS Classes to the input's container. This can mainly be used for layout purposes.","firebox")}),C&&(0,t.createElement)(T.TextControl,{label:(0,m.__)("Input CSS Class","firebox"),value:d,onChange:t=>e.setAttributes({inputCssClass:t}),help:(0,m.__)("Add CSS Classes to the input element. Use this option to style the input itself.","firebox")}),_&&(0,t.createElement)(T.ToggleControl,{label:(0,m.__)("Hide Label","firebox"),default:!1,checked:b,onChange:t=>e.setAttributes({hideLabel:t}),help:(0,m.__)("Check this option to hide the form field label.","firebox")}),w&&(0,t.createElement)(T.ToggleControl,{label:(0,m.__)("Disable Browser Autocomplete","firebox"),default:!1,checked:h,onChange:t=>e.setAttributes({disableBrowserAutocomplete:t}),help:(0,m.__)("By default, browsers remember information that the user submits through input fields. To disable autocompletion in forms enable this option.","firebox")}),e.children)},B=e=>(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},(0,t.createElement)("path",{d:"M20.285 2l-11.285 11.567-5.286-5.011-3.714 3.716 9 8.728 15-15.285z"})),L=e=>(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},(0,t.createElement)("path",{d:"M12 .587l3.668 7.568 8.332 1.151-6.064 5.828 1.48 8.279-7.416-3.967-7.417 3.967 1.481-8.279-6.064-5.828 8.332-1.151z"})),N=e=>(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},(0,t.createElement)("circle",{xmlns:"http://www.w3.org/2000/svg",cx:"12",cy:"12",r:"12"})),P=e=>(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},(0,t.createElement)("path",{d:"M4 24h-2v-24h2v24zm18-21.387s-1.621 1.43-3.754 1.43c-3.36 0-3.436-2.895-7.337-2.895-2.108 0-4.075.98-4.909 1.694v12.085c1.184-.819 2.979-1.681 4.923-1.681 3.684 0 4.201 2.754 7.484 2.754 2.122 0 3.593-1.359 3.593-1.359v-12.028z"})),j=e=>(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},(0,t.createElement)("path",{d:"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z"})),q=e=>(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},(0,t.createElement)("path",{d:"M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.507 13.941c-1.512 1.195-3.174 1.931-5.506 1.931-2.334 0-3.996-.736-5.508-1.931l-.493.493c1.127 1.72 3.2 3.566 6.001 3.566 2.8 0 4.872-1.846 5.999-3.566l-.493-.493zm-9.007-5.941c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5-.672-1.5-1.5-1.5zm7 0c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5-.672-1.5-1.5-1.5z"})),A=e=>(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},(0,t.createElement)("path",{d:"M24 0h-24v24h24v-24z"})),z=e=>(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",...e},(0,t.createElement)("path",{d:"M5 22h-5v-12h5v12zm17.615-8.412c-.857-.115-.578-.734.031-.922.521-.16 1.354-.5 1.354-1.51 0-.672-.5-1.562-2.271-1.49-1.228.05-3.666-.198-4.979-.885.906-3.656.688-8.781-1.688-8.781-1.594 0-1.896 1.807-2.375 3.469-1.221 4.242-3.312 6.017-5.687 6.885v10.878c4.382.701 6.345 2.768 10.505 2.768 3.198 0 4.852-1.735 4.852-2.666 0-.335-.272-.573-.96-.626-.811-.062-.734-.812.031-.953 1.268-.234 1.826-.914 1.826-1.543 0-.529-.396-1.022-1.098-1.181-.837-.189-.664-.757.031-.812 1.133-.09 1.688-.764 1.688-1.41 0-.565-.424-1.109-1.26-1.221z"})),D=({value:e,onChange:r})=>{const l=[{value:"star",svg:(0,t.createElement)(L,null)},{value:"check",svg:(0,t.createElement)(B,null)},{value:"circle",svg:(0,t.createElement)(N,null)},{value:"flag",svg:(0,t.createElement)(P,null)},{value:"heart",svg:(0,t.createElement)(j,null)},{value:"smiley",svg:(0,t.createElement)(q,null)},{value:"square",svg:(0,t.createElement)(A,null)},{value:"thumbs_up",svg:(0,t.createElement)(z,null)}];return(0,t.createElement)("div",{className:"fb-icon-selector"},l.map((l=>(0,t.createElement)("div",{key:l.value,className:"fb-icon-selector--item"+(l.value===e?" is-selected":""),onClick:()=>r(l.value)},l.svg))))},F=window.wp.primitives;var U=r(5893);const W=(0,U.jsx)(F.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,U.jsx)(F.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),H=({label:e="",value:r="",defaultValue:n="",onChange:a})=>{const[o,i]=(0,l.useState)(!1),s=(0,l.useRef)(r||n),u=(0,l.useRef)(null),c=(0,l.useCallback)((e=>{u.current&&clearTimeout(u.current);let t=e;e?.rgb&&parseInt(e?.rgb?.a)<1?t=`rgb(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`:e?.hex&&(t=e.hex),s.current=t,u.current=setTimeout((()=>{a(t)}),10)}),[a]);return(0,t.createElement)(BaseControl,{label:e,__nextHasNoMarginBottom:!0,className:"firebox-color-picker-control"},(0,t.createElement)(T.__experimentalInputControl,{value:r||n,onChange:a,suffix:(0,t.createElement)(t.Fragment,null,(r||n)&&(0,t.createElement)(T.Button,{onClick:()=>a(""),icon:W,iconSize:18,variant:"tertiary"}),(0,t.createElement)("div",{onClick:()=>i(!0),style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:r||"transparent",border:"1px solid #ddd",cursor:"pointer",marginRight:"8px"}})),className:"firebox-color-picker",__next40pxDefaultSize:!0}),o&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(T.Popover,{className:"firebox-full-width-popover",position:"bottom right",onClose:()=>i(!1),onFocusOutside:()=>i(!1)},(0,t.createElement)(T.ColorPicker,{color:s.current,onChangeComplete:c,enableAlpha:!0}))))},M={attributes:o().object.isRequired,setAttributes:o().func.isRequired},V=({attributes:e,setAttributes:r})=>(0,t.createElement)(i.InspectorControls,null,(0,t.createElement)(R,{fieldTypeName:"Rating",attributes:e,setAttributes:r},(0,t.createElement)(T.BaseControl,{label:(0,m.__)("Icon","firebox")},(0,t.createElement)(D,{value:e.icon,onChange:e=>r({icon:e})})),(0,t.createElement)(T.__experimentalNumberControl,{label:(0,m.__)("Size","firebox"),value:e.size,min:1,max:200,onChange:e=>r({size:parseInt(e)})}),(0,t.createElement)(T.__experimentalNumberControl,{label:(0,m.__)("Maximum Rating","firebox"),value:e.maxRating,min:2,max:50,onChange:e=>r({maxRating:parseInt(e)})}),(0,t.createElement)(T.ToggleControl,{label:(0,m.__)("Half Ratings","firebox"),checked:e.halfRatings,onChange:e=>r({halfRatings:e})}),(0,t.createElement)(H,{label:(0,m.__)("Selected Color","firebox"),value:e.selectedColor,onChange:e=>r({selectedColor:e})}),(0,t.createElement)(H,{label:(0,m.__)("Unselected Color","firebox"),value:e.unselectedColor,onChange:e=>r({unselectedColor:e})})),(0,t.createElement)(S,{attributes:e,setAttributes:r}));V.propTypes=M;const K=V,Y=window.lodash;class Z extends t.Component{constructor(){super(...arguments)}render(){this.props?.fieldProps?.className&&(this.props.fieldProps.className+=" fb-form-control-group"),this.props?.attributes?.cssClass&&(this.props.fieldProps.className+=" "+this.props.attributes.cssClass);let e=this?.props?.attributes?.fieldLabelRequiredFieldIndication||!1;return(0,t.createElement)("div",{...this.props.fieldProps},""!==this.props.attributes.fieldLabel&&!this.props.attributes.hideLabel&&(0,t.createElement)("label",{className:"fb-form-control-label",htmlFor:`fb-form-input-${this.props.fieldProps["data-field-id"]}`},this.props.attributes.fieldLabel,e&&this.props.attributes.required&&(0,t.createElement)("span",{className:"fb-form-control-required"},"*")),(0,t.createElement)("div",{className:"fb-form-control-input"},this.getInput()),""!==this.props.attributes.helpText&&(0,t.createElement)("div",{className:"fb-form-control-helptext"},this.props.attributes.helpText))}getInput(){}}const G=Z,J=class extends G{getInput(){const e=this.props.attributes.halfRatings,t={maxRating:this.props.attributes.maxRating,cssClass:this.props.attributes.cssClass,inputClass:this.props.attributes.inputCssClass,name:`fb_form[${this.props.attributes.fieldName}]`,required:this.props.attributes.required,readonly:!1,disabled:!1,icon:this.props.attributes.icon,size:this.props.attributes.size,value:this.props.attributes.defaultValue};return e?this.getHalfRating(t):this.getRating(t)}getRating(e){const r=e?.value||0,l=e?.maxRating||5,n=e?.cssClass||"",a=e?.inputClass||"",o=e?.name||"",i=e?.readonly||!1,s=e?.disabled||!1,u=e?.size||24,c=e?.icon||"star",p=e?.id||"rating";return(0,t.createElement)("div",{className:`fpf-widget fpf-rating-wrapper ${n}`},[...Array(l)].map(((e,l)=>{const n=l+1,d=`${p}_${n}`,m=r&&n<=r?"iconFilled":"";return(0,t.createElement)(React.Fragment,{key:d},(0,t.createElement)("input",{type:"radio",className:a,id:`fb-form-input-${this.props.fieldProps["data-field-id"]}`,name:o,value:n,checked:r&&n===r,disabled:i||s,onChange:()=>{}}),(0,t.createElement)("label",{htmlFor:d,className:m,title:"TODO"},this.getIcon(c,u)))})))}getHalfRating(e){const r=e?.value||0,l=e?.maxRating||5,n=e?.cssClass||"",a=e?.inputClass||"",o=e?.name||"",i=e?.readonly||!1,s=e?.disabled||!1,u=e?.size||24,c=e?.icon||"star",p=e?.id||"rating",d=[];let m=.5;for(let e=0;e<2*l;e++){const l=`${p}_${e}_${m%1==.5?"half":"full"}`,n=r&&m<=r?"iconFilled":"";d.push((0,t.createElement)(React.Fragment,{key:l},(0,t.createElement)("input",{type:"radio",className:a,id:l,name:o,value:m,checked:r&&m===r,disabled:i||s,onChange:()=>{}}),(0,t.createElement)("label",{className:`${m%1==.5?"half":"full"}${n}`,htmlFor:l,title:`${m} ${m>1?"stars":"star"}`},this.getIcon(c,u)))),m+=.5}const b=[];for(let e=0;e<d.length;e+=2)b.push((0,t.createElement)("div",{key:e,className:"rating_item_group"},d[e],d[e+1]));return(0,t.createElement)("div",{className:`fpf-widget fpf-rating-wrapper half ${n}`},b)}getIcon(e,r){switch(e){case"star":default:return(0,t.createElement)(L,{width:r,height:r});case"check":return(0,t.createElement)(B,{width:r,height:r});case"circle":return(0,t.createElement)(N,{width:r,height:r});case"flag":return(0,t.createElement)(P,{width:r,height:r});case"heart":return(0,t.createElement)(j,{width:r,height:r});case"smiley":return(0,t.createElement)(q,{width:r,height:r});case"square":return(0,t.createElement)(A,{width:r,height:r});case"thumbs_up":return(0,t.createElement)(z,{width:r,height:r})}}},Q={attributes:o().object.isRequired,setAttributes:o().func.isRequired,className:o().string,clientId:o().string.isRequired,context:o().object},X=({attributes:e,setAttributes:r,className:a,clientId:o,context:s})=>{const{uniqueId:p}=e,{addUniqueID:d}=(0,n.useDispatch)("firebox/data"),{isUniqueID:m,isUniqueBlock:b,parentData:h}=(0,n.useSelect)((e=>({isUniqueID:t=>e("firebox/data").isUniqueID(t),isUniqueBlock:(t,r)=>e("firebox/data").isUniqueBlock(t,r),parentData:{rootBlock:e("core/block-editor").getBlock(e("core/block-editor").getBlockHierarchyRootClientId(o)),postId:e("core/editor")?.getCurrentPostId()?e("core/editor")?.getCurrentPostId():"",reusableParent:e("core/block-editor").getBlockAttributes(e("core/block-editor").getBlockParentsByBlockName(o,"core/block").slice(-1)[0]),editedPostId:!!e("core/edit-site")&&e("core/edit-site").getEditedPostId()}})),[o]);(0,l.useEffect)((()=>{const t=function(e){const{postId:t,reusableParent:r,editedPostId:l}=e,n=function(e,t,r="block-unknown"){return(0,Y.has)(t,"ref")?t.ref:e||r}(t,r,0);return 0===n&&l?function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0}(l)%1e6:n}(h);let l=function(e,t,r,l,n="",a=!1){const o=e&&2===e.split("_").length,i=(n?n+"_":"")+t.substr(2,9);return!e||o&&e.split("_")[0]!==n.toString()?r(i)?i:(0,Y.uniqueId)(i):r(e)||l(e,t)?e:a?(0,Y.uniqueId)(i):i}(p,o,m,b,t);l!==p?(e.uniqueId=l,r({uniqueId:l}),d(l,o)):(r({uniqueId:p}),d(p,o))}),[]);const f=c(p),g=(0,i.useBlockProps)({id:f,className:u()(a,f),"data-field-id":p});return(0,t.createElement)(l.Fragment,null,(0,t.createElement)(O,{attributes:e}),(0,t.createElement)(K,{attributes:e,setAttributes:r}),(0,t.createElement)(J,{fieldProps:g,attributes:e,context:s}))};X.propTypes=Q;const ee=X;"firebox"===window.typenow&&(0,e.registerBlockType)("firebox/rating",{icon:()=>(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",viewBox:"0 0 48 48",className:"firebox-gutenberg-block-list-item"},(0,t.createElement)("path",{d:"M23.1359 5.48359C23.5216 4.82132 24.4784 4.82132 24.8641 5.48359L30.2439 14.72C30.3852 14.9626 30.6219 15.1347 30.8963 15.1941L41.3431 17.4563C42.0922 17.6185 42.3878 18.5284 41.8772 19.0999L34.7552 27.0706C34.5682 27.2799 34.4777 27.5583 34.506 27.8376L35.5828 38.4722C35.66 39.2347 34.8859 39.7971 34.1846 39.488L24.4032 35.1777C24.1463 35.0645 23.8537 35.0645 23.5968 35.1777L13.8154 39.488C13.1141 39.7971 12.34 39.2347 12.4172 38.4722L13.494 27.8376C13.5223 27.5583 13.4318 27.2799 13.2448 27.0706L6.12282 19.0999C5.61217 18.5284 5.90782 17.6185 6.65687 17.4563L17.1037 15.1941C17.3781 15.1347 17.6148 14.9626 17.7561 14.72L23.1359 5.48359Z",stroke:"#2438E9",strokeWidth:"2",strokeLinecap:"round",fill:"none"})),edit:ee,save:()=>null})})()})();